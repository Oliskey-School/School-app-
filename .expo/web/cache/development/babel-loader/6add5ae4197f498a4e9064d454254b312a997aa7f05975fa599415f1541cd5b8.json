{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\OneDrive\\\\Desktop\\\\Project\\\\school-app-\\\\components\\\\student\\\\adventure\\\\AdventureQuestHost.tsx\";\nimport React, { useState, useCallback } from 'react';\nimport { getAIClient, SchemaType as Type } from '../../../lib/ai';\nimport { toast } from 'react-hot-toast';\nimport HomeScreen from './HomeScreen';\nimport LoadingScreen from './LoadingScreen';\nimport QuizScreen from './QuizScreen';\nimport ResultsScreen from './ResultsScreen';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst fileToText = file => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = reject;\n    reader.readAsText(file);\n  });\n};\nconst fileToGenerativePart = async file => {\n  const base64EncodedDataPromise = new Promise(resolve => {\n    const reader = new FileReader();\n    reader.onloadend = () => resolve(reader.result.split(',')[1]);\n    reader.readAsDataURL(file);\n  });\n  return {\n    inlineData: {\n      data: await base64EncodedDataPromise,\n      mimeType: file.type\n    }\n  };\n};\nconst AdventureQuestHost = ({\n  handleBack\n}) => {\n  const [appState, setAppState] = useState('home');\n  const [adventureData, setAdventureData] = useState(null);\n  const [userAnswers, setUserAnswers] = useState([]);\n  const [error, setError] = useState(null);\n  const generateAdventure = useCallback(async (adventureContent, difficulty) => {\n    setAppState('loading');\n    setError(null);\n    try {\n      const apiKey = import.meta.env.VITE_GEMINI_API_KEY || '';\n      if (!apiKey) {\n        setError(\"Configuration Error: API Key is missing. Please check your settings.\");\n        setAppState('home');\n        return;\n      }\n      const ai = getAIClient(apiKey);\n      const sourceContentDescription = adventureContent.type === 'text' ? 'the following text' : 'the attached image/video';\n      const systemPrompt = `\n                You are an expert educator and creative storyteller for children. Your task is to transform ${sourceContentDescription} into an interactive learning adventure based on the selected difficulty level.\n\n                Difficulty Level: \"${difficulty}\"\n\n                Based on the content and difficulty, generate a JSON object with two main parts: \"study_guide\" and \"quiz\".\n\n                1.  **study_guide**: Create a comprehensive study guide. It should have a main \"title\" and a list of \"sections\". Each section must have a \"title\" (like 'Main Idea', 'Key People', 'Key Terms', 'Fun Facts') and \"content\" (a string, possibly with markdown for formatting). The complexity and depth of the content should match the difficulty level.\n\n                2.  **quiz**: Create a quiz with up to 15 multiple-choice questions. The difficulty should ramp up, with a mix of easy, medium, and hard questions relative to the selected age group. Each question in the quiz array must be a JSON object with these fields:\n                    - \"id\": A unique integer for the question (starting from 1).\n                    - \"question\": The question text, phrased appropriately for the age group.\n                    - \"options\": An array of several string options. One must be the correct answer.\n                    - \"correct_answer\": The exact string of the correct answer from the \"options\" array.\n                    - \"explanation\": A simple, one-sentence explanation for why the correct answer is right. This will be shown to the user if they get the answer wrong.\n                    - \"image_prompt\": A creative, detailed, and safe-for-kids DALL-E style prompt to generate a vibrant, illustrative, and imaginative cartoon-style image related to the question. For example: \"A friendly cartoon lion wearing a crown, explaining the food chain to a group of curious cartoon animals in a sunny savanna, digital art\".\n                    - \"background_theme\": A single keyword for the background style (e.g., 'jungle', 'space', 'ocean', 'castle', 'desert', 'lab').\n            `;\n      let contents;\n      if (adventureContent.type === 'text') {\n        contents = `${systemPrompt}\\n\\nSource Content:\\n---\\n${adventureContent.content.substring(0, 30000)}\\n---`;\n      } else {\n        contents = {\n          parts: [{\n            text: systemPrompt\n          }, adventureContent.content]\n        };\n      }\n      const response = await ai.models.generateContent({\n        model: 'gemini-2.5-flash',\n        contents: contents,\n        config: {\n          responseMimeType: \"application/json\",\n          responseSchema: {\n            type: Type.OBJECT,\n            properties: {\n              study_guide: {\n                type: Type.OBJECT,\n                properties: {\n                  title: {\n                    type: Type.STRING\n                  },\n                  sections: {\n                    type: Type.ARRAY,\n                    items: {\n                      type: Type.OBJECT,\n                      properties: {\n                        title: {\n                          type: Type.STRING\n                        },\n                        content: {\n                          type: Type.STRING\n                        }\n                      },\n                      required: [\"title\", \"content\"]\n                    }\n                  }\n                },\n                required: [\"title\", \"sections\"]\n              },\n              quiz: {\n                type: Type.ARRAY,\n                items: {\n                  type: Type.OBJECT,\n                  properties: {\n                    id: {\n                      type: Type.INTEGER\n                    },\n                    question: {\n                      type: Type.STRING\n                    },\n                    options: {\n                      type: Type.ARRAY,\n                      items: {\n                        type: Type.STRING\n                      }\n                    },\n                    correct_answer: {\n                      type: Type.STRING\n                    },\n                    explanation: {\n                      type: Type.STRING\n                    },\n                    image_prompt: {\n                      type: Type.STRING\n                    },\n                    background_theme: {\n                      type: Type.STRING\n                    }\n                  },\n                  required: [\"id\", \"question\", \"options\", \"correct_answer\", \"explanation\", \"image_prompt\", \"background_theme\"]\n                }\n              }\n            },\n            required: [\"study_guide\", \"quiz\"]\n          }\n        }\n      });\n      const data = JSON.parse(response.text.trim());\n      if (!data.quiz || !data.study_guide) throw new Error(\"Invalid data structure from AI.\");\n      setAdventureData(data);\n      setAppState('quiz');\n    } catch (e) {\n      console.error(e);\n      setError(\"Oh no! The magic scroll got smudged. We couldn't create your adventure. Please try again with a different text or file.\");\n      setAppState('home');\n    }\n  }, []);\n  const handleStartAdventure = useCallback(async (source, difficulty) => {\n    if (source.type === 'url') {\n      const content = `(This is a demo using content from ${source.value}) In 1492, Columbus sailed the ocean blue. He was an explorer who made four trips across the Atlantic Ocean.`;\n      toast(\"URL fetching is for demo purposes only. Using sample text.\", {\n        icon: 'ℹ️'\n      });\n      await generateAdventure({\n        type: 'text',\n        content\n      }, difficulty);\n      return;\n    }\n    const file = source.value;\n    const fileType = file.type;\n    if (fileType.startsWith('image/') || fileType.startsWith('video/')) {\n      try {\n        const part = await fileToGenerativePart(file);\n        await generateAdventure({\n          type: 'media',\n          content: part\n        }, difficulty);\n      } catch (e) {\n        setError(\"Could not process the uploaded media file.\");\n        setAppState('home');\n      }\n    } else {\n      try {\n        const content = await fileToText(file);\n        await generateAdventure({\n          type: 'text',\n          content\n        }, difficulty);\n      } catch (e) {\n        setError(\"Could not read the uploaded file. Please ensure it's a valid text, image, or video file.\");\n        setAppState('home');\n      }\n    }\n  }, [generateAdventure]);\n  const handleQuizComplete = answers => {\n    setUserAnswers(answers);\n    setAppState('results');\n  };\n  const handleRestart = () => {\n    setAdventureData(null);\n    setUserAnswers([]);\n    setError(null);\n    setAppState('home');\n  };\n  const renderContent = () => {\n    switch (appState) {\n      case 'loading':\n        return _jsxDEV(LoadingScreen, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 24\n        }, this);\n      case 'quiz':\n        return adventureData ? _jsxDEV(QuizScreen, {\n          adventureData: adventureData,\n          onQuizComplete: handleQuizComplete\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 40\n        }, this) : null;\n      case 'results':\n        return adventureData ? _jsxDEV(ResultsScreen, {\n          adventureData: adventureData,\n          userAnswers: userAnswers,\n          onRestart: handleRestart\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 40\n        }, this) : null;\n      case 'home':\n      default:\n        return _jsxDEV(HomeScreen, {\n          onStartAdventure: handleStartAdventure,\n          error: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 24\n        }, this);\n    }\n  };\n  return _jsxDEV(\"div\", {\n    className: \"h-full\",\n    children: renderContent()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 12\n  }, this);\n};\nexport default AdventureQuestHost;","map":{"version":3,"names":["React","useState","useCallback","getAIClient","SchemaType","Type","toast","HomeScreen","LoadingScreen","QuizScreen","ResultsScreen","jsxDEV","_jsxDEV","fileToText","file","Promise","resolve","reject","reader","FileReader","onload","result","onerror","readAsText","fileToGenerativePart","base64EncodedDataPromise","onloadend","split","readAsDataURL","inlineData","data","mimeType","type","AdventureQuestHost","handleBack","appState","setAppState","adventureData","setAdventureData","userAnswers","setUserAnswers","error","setError","generateAdventure","adventureContent","difficulty","apiKey","import","meta","env","VITE_GEMINI_API_KEY","ai","sourceContentDescription","systemPrompt","contents","content","substring","parts","text","response","models","generateContent","model","config","responseMimeType","responseSchema","OBJECT","properties","study_guide","title","STRING","sections","ARRAY","items","required","quiz","id","INTEGER","question","options","correct_answer","explanation","image_prompt","background_theme","JSON","parse","trim","Error","e","console","handleStartAdventure","source","value","icon","fileType","startsWith","part","handleQuizComplete","answers","handleRestart","renderContent","fileName","_jsxFileName","lineNumber","columnNumber","onQuizComplete","onRestart","onStartAdventure","className","children"],"sources":["C:/Users/USER/OneDrive/Desktop/Project/school-app-/components/student/adventure/AdventureQuestHost.tsx"],"sourcesContent":["\r\nimport React, { useState, useCallback } from 'react';\r\nimport { getAIClient, AI_MODEL_NAME, SchemaType as Type } from '../../../lib/ai';\r\nimport { toast } from 'react-hot-toast';\r\nimport HomeScreen from './HomeScreen';\r\nimport LoadingScreen from './LoadingScreen';\r\nimport QuizScreen from './QuizScreen';\r\nimport ResultsScreen from './ResultsScreen';\r\nimport { AdventureData, AdventureDifficulty, UserAnswer } from '../../../types';\r\n\r\nconst fileToText = (file: File): Promise<string> => {\r\n    return new Promise((resolve, reject) => {\r\n        const reader = new FileReader();\r\n        reader.onload = () => resolve(reader.result as string);\r\n        reader.onerror = reject;\r\n        reader.readAsText(file);\r\n    });\r\n};\r\n\r\nconst fileToGenerativePart = async (file: File) => {\r\n    const base64EncodedDataPromise = new Promise<string>((resolve) => {\r\n        const reader = new FileReader();\r\n        reader.onloadend = () => resolve((reader.result as string).split(',')[1]);\r\n        reader.readAsDataURL(file);\r\n    });\r\n    return {\r\n        inlineData: { data: await base64EncodedDataPromise, mimeType: file.type },\r\n    };\r\n};\r\n\r\ntype AdventureContent = { type: 'text', content: string } | { type: 'media', content: { inlineData: { data: string; mimeType: string; } } };\r\n\r\nconst AdventureQuestHost: React.FC<{ handleBack: () => void }> = ({ handleBack }) => {\r\n    const [appState, setAppState] = useState<'home' | 'loading' | 'quiz' | 'results'>('home');\r\n    const [adventureData, setAdventureData] = useState<AdventureData | null>(null);\r\n    const [userAnswers, setUserAnswers] = useState<UserAnswer[]>([]);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    const generateAdventure = useCallback(async (adventureContent: AdventureContent, difficulty: AdventureDifficulty) => {\r\n        setAppState('loading');\r\n        setError(null);\r\n        try {\r\n            const apiKey = import.meta.env.VITE_GEMINI_API_KEY || '';\r\n            if (!apiKey) {\r\n                setError(\"Configuration Error: API Key is missing. Please check your settings.\");\r\n                setAppState('home');\r\n                return;\r\n            }\r\n            const ai = getAIClient(apiKey);\r\n\r\n            const sourceContentDescription = adventureContent.type === 'text'\r\n                ? 'the following text'\r\n                : 'the attached image/video';\r\n\r\n            const systemPrompt = `\r\n                You are an expert educator and creative storyteller for children. Your task is to transform ${sourceContentDescription} into an interactive learning adventure based on the selected difficulty level.\r\n\r\n                Difficulty Level: \"${difficulty}\"\r\n\r\n                Based on the content and difficulty, generate a JSON object with two main parts: \"study_guide\" and \"quiz\".\r\n\r\n                1.  **study_guide**: Create a comprehensive study guide. It should have a main \"title\" and a list of \"sections\". Each section must have a \"title\" (like 'Main Idea', 'Key People', 'Key Terms', 'Fun Facts') and \"content\" (a string, possibly with markdown for formatting). The complexity and depth of the content should match the difficulty level.\r\n\r\n                2.  **quiz**: Create a quiz with up to 15 multiple-choice questions. The difficulty should ramp up, with a mix of easy, medium, and hard questions relative to the selected age group. Each question in the quiz array must be a JSON object with these fields:\r\n                    - \"id\": A unique integer for the question (starting from 1).\r\n                    - \"question\": The question text, phrased appropriately for the age group.\r\n                    - \"options\": An array of several string options. One must be the correct answer.\r\n                    - \"correct_answer\": The exact string of the correct answer from the \"options\" array.\r\n                    - \"explanation\": A simple, one-sentence explanation for why the correct answer is right. This will be shown to the user if they get the answer wrong.\r\n                    - \"image_prompt\": A creative, detailed, and safe-for-kids DALL-E style prompt to generate a vibrant, illustrative, and imaginative cartoon-style image related to the question. For example: \"A friendly cartoon lion wearing a crown, explaining the food chain to a group of curious cartoon animals in a sunny savanna, digital art\".\r\n                    - \"background_theme\": A single keyword for the background style (e.g., 'jungle', 'space', 'ocean', 'castle', 'desert', 'lab').\r\n            `;\r\n\r\n            let contents;\r\n            if (adventureContent.type === 'text') {\r\n                contents = `${systemPrompt}\\n\\nSource Content:\\n---\\n${adventureContent.content.substring(0, 30000)}\\n---`;\r\n            } else { // media\r\n                contents = { parts: [{ text: systemPrompt }, adventureContent.content] };\r\n            }\r\n\r\n            const response = await ai.models.generateContent({\r\n                model: 'gemini-2.5-flash',\r\n                contents: contents,\r\n                config: {\r\n                    responseMimeType: \"application/json\",\r\n                    responseSchema: {\r\n                        type: Type.OBJECT,\r\n                        properties: {\r\n                            study_guide: {\r\n                                type: Type.OBJECT,\r\n                                properties: {\r\n                                    title: { type: Type.STRING },\r\n                                    sections: { type: Type.ARRAY, items: { type: Type.OBJECT, properties: { title: { type: Type.STRING }, content: { type: Type.STRING } }, required: [\"title\", \"content\"] } }\r\n                                },\r\n                                required: [\"title\", \"sections\"]\r\n                            },\r\n                            quiz: {\r\n                                type: Type.ARRAY,\r\n                                items: {\r\n                                    type: Type.OBJECT,\r\n                                    properties: {\r\n                                        id: { type: Type.INTEGER },\r\n                                        question: { type: Type.STRING },\r\n                                        options: { type: Type.ARRAY, items: { type: Type.STRING } },\r\n                                        correct_answer: { type: Type.STRING },\r\n                                        explanation: { type: Type.STRING },\r\n                                        image_prompt: { type: Type.STRING },\r\n                                        background_theme: { type: Type.STRING }\r\n                                    },\r\n                                    required: [\"id\", \"question\", \"options\", \"correct_answer\", \"explanation\", \"image_prompt\", \"background_theme\"]\r\n                                }\r\n                            }\r\n                        },\r\n                        required: [\"study_guide\", \"quiz\"]\r\n                    }\r\n                }\r\n            });\r\n            const data: AdventureData = JSON.parse(response.text.trim());\r\n            if (!data.quiz || !data.study_guide) throw new Error(\"Invalid data structure from AI.\");\r\n            setAdventureData(data);\r\n            setAppState('quiz');\r\n        } catch (e) {\r\n            console.error(e);\r\n            setError(\"Oh no! The magic scroll got smudged. We couldn't create your adventure. Please try again with a different text or file.\");\r\n            setAppState('home');\r\n        }\r\n    }, []);\r\n\r\n    const handleStartAdventure = useCallback(async (source: { type: 'file'; value: File } | { type: 'url'; value: string }, difficulty: AdventureDifficulty) => {\r\n        if (source.type === 'url') {\r\n            const content = `(This is a demo using content from ${source.value}) In 1492, Columbus sailed the ocean blue. He was an explorer who made four trips across the Atlantic Ocean.`;\r\n            toast(\"URL fetching is for demo purposes only. Using sample text.\", { icon: 'ℹ️' });\r\n            await generateAdventure({ type: 'text', content }, difficulty);\r\n            return;\r\n        }\r\n\r\n        const file = source.value;\r\n        const fileType = file.type;\r\n\r\n        if (fileType.startsWith('image/') || fileType.startsWith('video/')) {\r\n            try {\r\n                const part = await fileToGenerativePart(file);\r\n                await generateAdventure({ type: 'media', content: part }, difficulty);\r\n            } catch (e) {\r\n                setError(\"Could not process the uploaded media file.\");\r\n                setAppState('home');\r\n            }\r\n        } else { // Assume it's a text-based file\r\n            try {\r\n                const content = await fileToText(file);\r\n                await generateAdventure({ type: 'text', content }, difficulty);\r\n            } catch (e) {\r\n                setError(\"Could not read the uploaded file. Please ensure it's a valid text, image, or video file.\");\r\n                setAppState('home');\r\n            }\r\n        }\r\n    }, [generateAdventure]);\r\n\r\n    const handleQuizComplete = (answers: UserAnswer[]) => {\r\n        setUserAnswers(answers);\r\n        setAppState('results');\r\n    };\r\n\r\n    const handleRestart = () => {\r\n        setAdventureData(null);\r\n        setUserAnswers([]);\r\n        setError(null);\r\n        setAppState('home');\r\n    };\r\n\r\n    const renderContent = () => {\r\n        switch (appState) {\r\n            case 'loading':\r\n                return <LoadingScreen />;\r\n            case 'quiz':\r\n                return adventureData ? <QuizScreen adventureData={adventureData} onQuizComplete={handleQuizComplete} /> : null;\r\n            case 'results':\r\n                return adventureData ? <ResultsScreen adventureData={adventureData} userAnswers={userAnswers} onRestart={handleRestart} /> : null;\r\n            case 'home':\r\n            default:\r\n                return <HomeScreen onStartAdventure={handleStartAdventure} error={error} />;\r\n        }\r\n    };\r\n\r\n    return <div className=\"h-full\">{renderContent()}</div>;\r\n};\r\n\r\nexport default AdventureQuestHost;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}