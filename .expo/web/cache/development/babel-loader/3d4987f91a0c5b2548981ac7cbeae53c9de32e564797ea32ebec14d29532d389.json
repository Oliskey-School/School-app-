{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\OneDrive\\\\Desktop\\\\Project\\\\school-app-\\\\components\\\\teacher\\\\VirtualClassScreen.tsx\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport { supabase } from '../../lib/supabase';\nimport { MicrophoneIcon, VideoIcon, ShareIcon, UsersIcon, MessagesIcon } from '../../constants';\nimport { mockStudents } from '../../data';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst XIcon = props => _jsxDEV(\"svg\", Object.assign({}, props, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  fill: \"none\",\n  viewBox: \"0 0 24 24\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  children: _jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6 18L18 6M6 6l12 12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 178\n  }, this)\n}), void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 16,\n  columnNumber: 57\n}, this);\nconst HandIcon = props => _jsxDEV(\"svg\", Object.assign({}, props, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  fill: \"none\",\n  viewBox: \"0 0 24 24\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  children: _jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 181\n  }, this)\n}), void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 17,\n  columnNumber: 60\n}, this);\nconst GridViewIcon = props => _jsxDEV(\"svg\", Object.assign({}, props, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  fill: \"none\",\n  viewBox: \"0 0 24 24\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  children: _jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 185\n  }, this)\n}), void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 18,\n  columnNumber: 64\n}, this);\nconst FullScreenIcon = props => _jsxDEV(\"svg\", Object.assign({}, props, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  fill: \"none\",\n  viewBox: \"0 0 24 24\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  children: _jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 187\n  }, this)\n}), void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 19,\n  columnNumber: 66\n}, this);\nconst DotsHorizontalIcon = props => _jsxDEV(\"svg\", Object.assign({}, props, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  fill: \"none\",\n  viewBox: \"0 0 24 24\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  children: _jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 191\n  }, this)\n}), void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 20,\n  columnNumber: 70\n}, this);\nconst ReactionIcon = props => _jsxDEV(\"svg\", Object.assign({}, props, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  fill: \"none\",\n  viewBox: \"0 0 24 24\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  children: _jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 185\n  }, this)\n}), void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 21,\n  columnNumber: 64\n}, this);\nconst ChevronLeftIcon = props => _jsxDEV(\"svg\", Object.assign({}, props, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  fill: \"none\",\n  viewBox: \"0 0 24 24\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  children: _jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15 19l-7-7 7-7\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 188\n  }, this)\n}), void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 22,\n  columnNumber: 67\n}, this);\nconst ChevronRightIcon = props => _jsxDEV(\"svg\", Object.assign({}, props, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  fill: \"none\",\n  viewBox: \"0 0 24 24\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  children: _jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9 5l7 7-7 7\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 189\n  }, this)\n}), void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 23,\n  columnNumber: 68\n}, this);\nconst CalendarIcon = props => _jsxDEV(\"svg\", Object.assign({}, props, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  fill: \"none\",\n  viewBox: \"0 0 24 24\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  children: _jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 185\n  }, this)\n}), void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 24,\n  columnNumber: 64\n}, this);\nconst AudioVisualizer = () => _jsxDEV(\"div\", {\n  className: \"flex items-center space-x-1 h-4\",\n  children: [_jsxDEV(\"div\", {\n    className: \"w-1 bg-green-500 rounded-full animate-musical-bar-1 h-3\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this), _jsxDEV(\"div\", {\n    className: \"w-1 bg-green-500 rounded-full animate-musical-bar-2 h-4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this), _jsxDEV(\"div\", {\n    className: \"w-1 bg-green-500 rounded-full animate-musical-bar-3 h-2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 37,\n  columnNumber: 5\n}, this);\nconst ParticipantTile = ({\n  name,\n  isMuted,\n  isCameraOff,\n  isSpeaking,\n  isHandRaised,\n  size,\n  avatarUrl\n}) => {\n  const sizeClasses = {\n    xs: 'h-20 w-20 md:h-24 md:w-24 min-w-[5rem]',\n    sm: 'h-28 w-36 md:h-32 md:w-44 min-w-[9rem]',\n    md: 'h-40 md:h-48 lg:h-56',\n    lg: 'h-56 md:h-64 lg:h-72',\n    featured: 'h-full w-full absolute inset-0'\n  };\n  const avatarSizes = {\n    xs: 'w-8 h-8 text-xs',\n    sm: 'w-10 h-10 md:w-12 md:h-12 text-sm',\n    md: 'w-14 h-14 md:w-16 md:h-16 text-xl',\n    lg: 'w-20 h-20 md:w-24 md:h-24 text-2xl',\n    featured: 'w-24 h-24 md:w-32 md:h-32 text-2xl md:text-4xl'\n  };\n  return _jsxDEV(\"div\", {\n    className: `relative group overflow-hidden rounded-xl md:rounded-2xl shadow-sm hover:shadow-md transition-all duration-300 ${sizeClasses[size]} w-full bg-slate-100 border border-slate-200`,\n    children: [isSpeaking && _jsxDEV(\"div\", {\n      className: \"absolute inset-0 border-2 border-green-400 rounded-xl md:rounded-2xl z-10 pointer-events-none animate-pulse\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 28\n    }, this), _jsxDEV(\"div\", {\n      className: `absolute inset-0 flex items-center justify-center ${isCameraOff ? 'bg-gradient-to-br from-slate-100 to-slate-200' : 'bg-slate-900'}`,\n      children: isCameraOff ? _jsxDEV(\"div\", {\n        className: `rounded-full flex items-center justify-center font-bold text-white shadow-lg bg-gradient-to-br from-indigo-500 to-purple-600 ${avatarSizes[size]}`,\n        children: avatarUrl ? _jsxDEV(\"img\", {\n          src: avatarUrl,\n          alt: name,\n          className: \"w-full h-full rounded-full object-cover border-2 border-white/20\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 38\n        }, this) : name.charAt(0)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this) : _jsxDEV(\"div\", {\n        className: \"w-full h-full flex items-center justify-center relative\",\n        children: [_jsxDEV(\"div\", {\n          className: \"w-full h-full bg-slate-800 opacity-40\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 25\n        }, this), _jsxDEV(VideoIcon, {\n          className: `text-slate-600 absolute opacity-20 ${size === 'xs' ? 'w-5 h-5' : 'w-10 h-10 md:w-12 md:h-12'}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), _jsxDEV(\"div\", {\n      className: \"absolute top-2 right-2 flex space-x-1 z-20\",\n      children: [isHandRaised && _jsxDEV(\"div\", {\n        className: \"bg-yellow-400 text-white p-1 rounded-full shadow-lg animate-bounce-subtle\",\n        children: _jsxDEV(HandIcon, {\n          className: \"w-2.5 h-2.5 md:w-3 md:h-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }, this), isMuted && _jsxDEV(\"div\", {\n        className: \"bg-red-500/90 text-white p-1 rounded-full shadow-lg backdrop-blur-md\",\n        children: _jsxDEV(MicrophoneIcon, {\n          className: \"w-2.5 h-2.5 md:w-3 md:h-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), _jsxDEV(\"div\", {\n      className: `absolute bottom-2 left-2 z-20 max-w-[90%]`,\n      children: _jsxDEV(\"div\", {\n        className: `flex items-center space-x-1.5 bg-white/90 backdrop-blur-md px-1.5 py-0.5 md:px-2 md:py-1 rounded-md md:rounded-lg shadow-sm border border-white/50 ${size === 'xs' ? 'scale-75 origin-bottom-left' : ''}`,\n        children: [isSpeaking ? _jsxDEV(AudioVisualizer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 25\n        }, this) : _jsxDEV(\"div\", {\n          className: \"w-1.5 h-1.5 rounded-full bg-slate-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 25\n        }, this), _jsxDEV(\"span\", {\n          className: \"text-[10px] md:text-xs font-semibold text-slate-800 truncate select-none\",\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this), _jsxDEV(\"div\", {\n      className: \"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors duration-300 pointer-events-none\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n};\nconst ChatBubble = ({\n  name,\n  message,\n  time,\n  isYou\n}) => _jsxDEV(\"div\", {\n  className: `flex flex-col ${isYou ? 'items-end' : 'items-start'} mb-4 animate-slide-in-up`,\n  children: [_jsxDEV(\"div\", {\n    className: \"flex items-baseline space-x-2 mb-1 px-1\",\n    children: [_jsxDEV(\"span\", {\n      className: `text-xs font-bold ${isYou ? 'text-indigo-600' : 'text-slate-600'}`,\n      children: name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }, this), _jsxDEV(\"span\", {\n      className: \"text-[10px] text-slate-400\",\n      children: time\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 9\n  }, this), _jsxDEV(\"div\", {\n    className: `px-4 py-2.5 rounded-2xl max-w-[85%] text-sm shadow-sm leading-relaxed ${isYou ? 'bg-indigo-600 text-white rounded-tr-none' : 'bg-white text-slate-700 border border-slate-100 rounded-tl-none'}`,\n    children: message\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 117,\n  columnNumber: 5\n}, this);\nconst ClassSelectionScreen = ({\n  onStartClass\n}) => {\n  const [selectedClass, setSelectedClass] = useState(null);\n  const [subject, setSubject] = useState('');\n  const [topic, setTopic] = useState('');\n  const [duration, setDuration] = useState('60');\n  const [classes, setClasses] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [lobbyMuted, setLobbyMuted] = useState(false);\n  const [lobbyCameraOff, setLobbyCameraOff] = useState(false);\n  const videoPreviewRef = useRef(null);\n  useEffect(() => {\n    const fetchClasses = async () => {\n      try {\n        const {\n          data,\n          error\n        } = await supabase.from('classes').select('*').order('grade', {\n          ascending: true\n        });\n        if (error) {\n          console.error('Error fetching classes:', error);\n        }\n        if (data) {\n          const {\n            getGradeDisplayName\n          } = await import('../../lib/schoolSystem');\n          const mappedClasses = data.map(c => ({\n            id: c.id,\n            grade: `${getGradeDisplayName(c.grade)} - Section ${c.section}`,\n            subject: c.subject || 'General',\n            description: `Class Session for ${getGradeDisplayName(c.grade)} ${c.section}`,\n            time: 'Now',\n            studentsCount: c.student_count || 0\n          }));\n          setClasses(mappedClasses);\n        }\n      } catch (err) {\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchClasses();\n  }, []);\n  useEffect(() => {\n    if (selectedClass) {\n      setSubject(selectedClass.subject);\n    }\n  }, [selectedClass]);\n  useEffect(() => {\n    let stream = null;\n    if (!lobbyCameraOff) {\n      navigator.mediaDevices.getUserMedia({\n        video: true,\n        audio: true\n      }).then(s => {\n        stream = s;\n        if (videoPreviewRef.current) videoPreviewRef.current.srcObject = s;\n      }).catch(err => {\n        console.error(\"Lobby Camera Error:\", err);\n        setLobbyCameraOff(true);\n      });\n    }\n    return () => {\n      stream?.getTracks().forEach(t => t.stop());\n    };\n  }, [lobbyCameraOff]);\n  return _jsxDEV(\"div\", {\n    className: \"flex flex-col items-center justify-center min-h-[calc(100vh-64px)] bg-slate-50 p-4 md:p-8\",\n    children: _jsxDEV(\"div\", {\n      className: \"w-full max-w-6xl space-y-6 md:space-y-8 animate-fade-in-up\",\n      children: [_jsxDEV(\"div\", {\n        className: \"text-center space-y-2\",\n        children: [_jsxDEV(\"h1\", {\n          className: \"text-2xl md:text-3xl font-bold text-slate-800\",\n          children: \"Classroom Lobby\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 21\n        }, this), _jsxDEV(\"p\", {\n          className: \"text-slate-500 text-sm md:text-base\",\n          children: \"Configure your session details and check your equipment.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 17\n      }, this), _jsxDEV(\"div\", {\n        className: \"grid lg:grid-cols-12 gap-6 md:gap-8\",\n        children: [_jsxDEV(\"div\", {\n          className: \"lg:col-span-4 space-y-4 order-2 lg:order-1\",\n          children: [_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2 text-slate-700 font-semibold mb-2\",\n            children: [_jsxDEV(CalendarIcon, {\n              className: \"w-5 h-5 text-indigo-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 29\n            }, this), _jsxDEV(\"h2\", {\n              children: \"Classes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 25\n          }, this), _jsxDEV(\"div\", {\n            className: \"space-y-3 h-[400px] overflow-y-auto custom-scrollbar lg:pr-2\",\n            children: [loading && _jsxDEV(\"p\", {\n              className: \"text-center text-slate-400 py-4\",\n              children: \"Loading classes...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 41\n            }, this), !loading && classes.length === 0 && _jsxDEV(\"p\", {\n              className: \"text-center text-slate-400 py-4\",\n              children: \"No classes found.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 66\n            }, this), classes.map(cls => _jsxDEV(\"div\", {\n              onClick: () => setSelectedClass(cls),\n              className: `p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 shadow-sm hover:shadow-md relative group ${selectedClass?.id === cls.id ? 'border-indigo-500 bg-indigo-50/50 ring-1 ring-indigo-500/20' : 'border-slate-200 bg-white hover:border-indigo-200'}`,\n              children: _jsxDEV(\"div\", {\n                className: \"flex justify-between items-start\",\n                children: [_jsxDEV(\"div\", {\n                  className: \"pr-2\",\n                  children: [_jsxDEV(\"h3\", {\n                    className: `font-bold text-sm md:text-base ${selectedClass?.id === cls.id ? 'text-indigo-900' : 'text-slate-800'}`,\n                    children: cls.grade\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 239,\n                    columnNumber: 45\n                  }, this), _jsxDEV(\"p\", {\n                    className: `text-xs md:text-sm font-medium ${selectedClass?.id === cls.id ? 'text-indigo-700' : 'text-slate-600'}`,\n                    children: cls.subject\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 240,\n                    columnNumber: 45\n                  }, this), _jsxDEV(\"p\", {\n                    className: \"text-xs text-slate-400 mt-1 line-clamp-1\",\n                    children: cls.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"div\", {\n                  className: \"text-right flex-shrink-0\",\n                  children: [_jsxDEV(\"span\", {\n                    className: \"block text-[10px] md:text-xs font-semibold text-indigo-600 bg-indigo-100 px-2 py-1 rounded-full\",\n                    children: cls.time\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 45\n                  }, this), _jsxDEV(\"span\", {\n                    className: \"block text-[10px] text-slate-400 mt-1\",\n                    children: [cls.studentsCount, \" Students\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 37\n              }, this)\n            }, cls.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 33\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 21\n        }, this), _jsxDEV(\"div\", {\n          className: \"lg:col-span-8 bg-white p-4 md:p-6 rounded-2xl shadow-lg border border-slate-200 flex flex-col md:flex-row gap-6 order-1 lg:order-2\",\n          children: [_jsxDEV(\"div\", {\n            className: \"flex-1 space-y-5\",\n            children: [_jsxDEV(\"h3\", {\n              className: \"font-bold text-slate-800 text-lg border-b border-slate-100 pb-2\",\n              children: \"Session Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 29\n            }, this), _jsxDEV(\"div\", {\n              children: [_jsxDEV(\"label\", {\n                className: \"block text-xs font-bold text-slate-500 mb-1.5 uppercase tracking-wide\",\n                children: \"Class Subject\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 33\n              }, this), _jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"w-full p-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all outline-none text-sm bg-slate-50 font-semibold text-slate-800\",\n                placeholder: \"e.g. Mathematics\",\n                value: subject,\n                onChange: e => setSubject(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 29\n            }, this), _jsxDEV(\"div\", {\n              children: [_jsxDEV(\"label\", {\n                className: \"block text-xs font-bold text-slate-500 mb-1.5 uppercase tracking-wide\",\n                children: \"Duration\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 33\n              }, this), _jsxDEV(\"div\", {\n                className: \"grid grid-cols-4 gap-2\",\n                children: ['30', '45', '60', '90'].map(m => _jsxDEV(\"button\", {\n                  onClick: () => setDuration(m),\n                  className: `py-2 px-1 rounded-lg text-sm font-medium border transition-all ${duration === m ? 'bg-indigo-600 text-white border-indigo-600 shadow-md' : 'bg-white text-slate-600 border-slate-200 hover:border-indigo-300'}`,\n                  children: [m, \"m\"]\n                }, m, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 41\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 29\n            }, this), _jsxDEV(\"div\", {\n              children: [_jsxDEV(\"label\", {\n                className: \"block text-xs font-bold text-slate-500 mb-1.5 uppercase tracking-wide\",\n                children: \"Agenda / Topic\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 33\n              }, this), _jsxDEV(\"textarea\", {\n                className: \"w-full p-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all outline-none resize-none h-24 text-sm bg-slate-50\",\n                placeholder: \"Enter today's lesson topic...\",\n                value: topic,\n                onChange: e => setTopic(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 25\n          }, this), _jsxDEV(\"div\", {\n            className: \"flex-1 flex flex-col space-y-6\",\n            children: [_jsxDEV(\"h3\", {\n              className: \"font-bold text-slate-800 text-lg border-b border-slate-100 pb-2 hidden md:block\",\n              children: \"Preview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 29\n            }, this), _jsxDEV(\"div\", {\n              className: \"relative aspect-video bg-slate-900 rounded-xl overflow-hidden shadow-inner flex items-center justify-center group ring-1 ring-black/5\",\n              children: [_jsxDEV(\"video\", {\n                ref: videoPreviewRef,\n                autoPlay: true,\n                muted: true,\n                playsInline: true,\n                className: `w-full h-full object-cover transform scale-x-[-1] transition-opacity duration-300 ${lobbyCameraOff ? 'opacity-0' : 'opacity-100'}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 33\n              }, this), lobbyCameraOff && _jsxDEV(\"div\", {\n                className: \"absolute inset-0 flex items-center justify-center text-slate-500\",\n                children: _jsxDEV(\"div\", {\n                  className: \"text-center\",\n                  children: [_jsxDEV(\"div\", {\n                    className: \"w-16 h-16 rounded-full bg-slate-800 flex items-center justify-center mx-auto mb-2\",\n                    children: _jsxDEV(VideoIcon, {\n                      className: \"w-8 h-8 opacity-50\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 308,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 45\n                  }, this), _jsxDEV(\"span\", {\n                    className: \"text-sm font-medium\",\n                    children: \"Camera is off\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 37\n              }, this), _jsxDEV(\"div\", {\n                className: \"absolute bottom-4 left-1/2 -translate-x-1/2 flex items-center space-x-4 bg-black/40 backdrop-blur-md px-4 py-2 rounded-full border border-white/10 shadow-lg\",\n                children: [_jsxDEV(\"button\", {\n                  onClick: () => setLobbyMuted(!lobbyMuted),\n                  className: `p-2.5 rounded-full transition-all ${lobbyMuted ? 'bg-red-500 text-white shadow-red-500/50 shadow-sm' : 'bg-white/20 hover:bg-white/30 text-white'}`,\n                  children: _jsxDEV(MicrophoneIcon, {\n                    className: \"w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 37\n                }, this), _jsxDEV(\"button\", {\n                  onClick: () => setLobbyCameraOff(!lobbyCameraOff),\n                  className: `p-2.5 rounded-full transition-all ${lobbyCameraOff ? 'bg-red-500 text-white shadow-red-500/50 shadow-sm' : 'bg-white/20 hover:bg-white/30 text-white'}`,\n                  children: _jsxDEV(VideoIcon, {\n                    className: \"w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 321,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 29\n            }, this), _jsxDEV(\"div\", {\n              className: \"mt-auto pt-4\",\n              children: [_jsxDEV(\"button\", {\n                disabled: !selectedClass,\n                onClick: () => selectedClass && onStartClass(selectedClass, subject, topic, duration, lobbyMuted, lobbyCameraOff),\n                className: `w-full py-4 rounded-xl font-bold shadow-lg transition-all transform active:scale-[0.98] flex items-center justify-center space-x-2 text-sm md:text-base ${!selectedClass ? 'bg-slate-100 text-slate-400 cursor-not-allowed shadow-none' : 'bg-indigo-600 text-white hover:bg-indigo-700 shadow-indigo-200 hover:shadow-indigo-300'}`,\n                children: [_jsxDEV(VideoIcon, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 37\n                }, this), _jsxDEV(\"span\", {\n                  children: selectedClass ? 'Start Class Session' : 'Select a Class First'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 33\n              }, this), _jsxDEV(\"p\", {\n                className: \"text-xs text-center text-slate-400 mt-3 flex items-center justify-center\",\n                children: [_jsxDEV(ShareIcon, {\n                  className: \"w-3 h-3 mr-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 37\n                }, this), \"Students will be notified automatically\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 215,\n    columnNumber: 9\n  }, this);\n};\nconst VirtualClassScreen = () => {\n  const [activeSession, setActiveSession] = useState(null);\n  const [isMuted, setIsMuted] = useState(false);\n  const [isCameraOff, setIsCameraOff] = useState(false);\n  const [isHandRaised, setIsHandRaised] = useState(false);\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const [activeSidebarTab, setActiveSidebarTab] = useState('chat');\n  const [viewMode, setViewMode] = useState('speaker');\n  const [currentTime, setCurrentTime] = useState(new Date());\n  const [showReactions, setShowReactions] = useState(false);\n  const scrollContainerRef = useRef(null);\n  const [elapsedTime, setElapsedTime] = useState(0);\n  const videoRef = useRef(null);\n  const streamRef = useRef(null);\n  const participants = mockStudents.slice(0, 12).map((s, i) => ({\n    name: s.name,\n    avatarUrl: s.avatarUrl,\n    isMuted: i % 3 === 0,\n    isCameraOff: i % 5 === 0,\n    isSpeaking: i === 2,\n    isHandRaised: i % 7 === 0,\n    id: s.id\n  }));\n  useEffect(() => {\n    const timer = setInterval(() => setCurrentTime(new Date()), 60000);\n    return () => clearInterval(timer);\n  }, []);\n  useEffect(() => {\n    let timer;\n    if (activeSession) {\n      timer = setInterval(() => {\n        setElapsedTime(prev => prev + 1);\n      }, 1000);\n    } else {\n      setElapsedTime(0);\n    }\n    return () => clearInterval(timer);\n  }, [activeSession]);\n  const formatTime = seconds => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n  useEffect(() => {\n    if (!activeSession) return;\n    const startCamera = async () => {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          video: true,\n          audio: true\n        });\n        streamRef.current = stream;\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n          stream.getAudioTracks().forEach(t => t.enabled = !isMuted);\n          stream.getVideoTracks().forEach(t => t.enabled = !isCameraOff);\n        }\n      } catch (error) {\n        console.error(\"Camera access:\", error);\n        setIsCameraOff(true);\n      }\n    };\n    if (!isCameraOff || isMuted) startCamera();\n    return () => {\n      streamRef.current?.getTracks().forEach(track => track.stop());\n    };\n  }, [activeSession]);\n  useEffect(() => {\n    if (streamRef.current) {\n      streamRef.current.getAudioTracks().forEach(t => t.enabled = !isMuted);\n      streamRef.current.getVideoTracks().forEach(t => t.enabled = !isCameraOff);\n    }\n  }, [isMuted, isCameraOff]);\n  const toggleMute = () => setIsMuted(prev => !prev);\n  const toggleCamera = () => setIsCameraOff(prev => !prev);\n  const scrollParticipants = direction => {\n    if (scrollContainerRef.current) {\n      const scrollAmount = 300;\n      const newScrollLeft = direction === 'left' ? scrollContainerRef.current.scrollLeft - scrollAmount : scrollContainerRef.current.scrollLeft + scrollAmount;\n      scrollContainerRef.current.scrollTo({\n        left: newScrollLeft,\n        behavior: 'smooth'\n      });\n    }\n  };\n  const handleStartClass = (cls, subject, topic, duration, initialMuted, initialCameraOff) => {\n    setIsMuted(initialMuted);\n    setIsCameraOff(initialCameraOff);\n    setActiveSession({\n      classDetails: cls,\n      subject,\n      topic,\n      duration\n    });\n  };\n  const isDesktop = typeof window !== 'undefined' && window.innerWidth >= 1024;\n  if (!activeSession) {\n    return _jsxDEV(ClassSelectionScreen, {\n      onStartClass: handleStartClass\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 16\n    }, this);\n  }\n  return _jsxDEV(\"div\", {\n    className: \"flex bg-slate-50 h-[calc(100vh-64px)] w-full overflow-hidden font-sans text-slate-900\",\n    children: [_jsxDEV(\"div\", {\n      className: `flex-1 flex flex-col h-full relative z-0 transition-all duration-300 ease-in-out overflow-hidden`,\n      children: [_jsxDEV(\"div\", {\n        className: \"absolute top-4 left-0 right-0 z-20 flex justify-center pointer-events-none px-4\",\n        children: _jsxDEV(\"div\", {\n          className: \"bg-white/90 backdrop-blur-xl border border-white/50 shadow-sm rounded-full px-4 py-2 flex items-center justify-between w-full max-w-3xl md:w-auto md:space-x-8 pointer-events-auto transition-all\",\n          children: [_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2 md:space-x-4 overflow-hidden\",\n            children: [_jsxDEV(\"div\", {\n              className: \"flex flex-col items-center leading-none\",\n              children: [_jsxDEV(\"span\", {\n                className: \"text-[10px] md:text-xs font-bold text-red-500 uppercase tracking-wide flex items-center gap-1\",\n                children: [_jsxDEV(\"span\", {\n                  className: \"w-1.5 h-1.5 rounded-full bg-red-500 animate-pulse\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 37\n                }, this), \" REC\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 33\n              }, this), _jsxDEV(\"span\", {\n                className: \"text-[10px] md:text-xs font-mono text-slate-500 mt-0.5 w-[35px] text-center\",\n                children: formatTime(elapsedTime)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 487,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 29\n            }, this), _jsxDEV(\"div\", {\n              className: \"h-6 w-px bg-slate-200 mx-1 md:mx-0 flex-shrink-0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 29\n            }, this), _jsxDEV(\"div\", {\n              className: \"flex flex-col overflow-hidden\",\n              children: [_jsxDEV(\"div\", {\n                className: \"flex items-baseline space-x-2\",\n                children: [_jsxDEV(\"h2\", {\n                  className: \"text-xs md:text-sm font-bold text-slate-800 truncate max-w-[100px] md:max-w-[160px]\",\n                  children: activeSession.classDetails.grade\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 494,\n                  columnNumber: 37\n                }, this), _jsxDEV(\"span\", {\n                  className: \"hidden sm:inline text-xs md:text-sm font-semibold text-indigo-600 truncate\",\n                  children: activeSession.subject\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 33\n              }, this), _jsxDEV(\"span\", {\n                className: \"text-[10px] md:text-xs text-slate-500 truncate max-w-[140px] md:max-w-xs\",\n                children: activeSession.topic || 'No topic set'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 25\n          }, this), _jsxDEV(\"div\", {\n            className: \"text-[10px] md:text-xs font-medium text-slate-500 font-mono hidden sm:block flex-shrink-0 border-l border-slate-200 pl-4 ml-4\",\n            children: [\"Ends in \", parseInt(activeSession.duration) - Math.floor(elapsedTime / 60), \"m\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 17\n      }, this), _jsxDEV(\"div\", {\n        className: \"absolute top-4 right-4 z-20 hidden md:block\",\n        children: _jsxDEV(\"button\", {\n          onClick: () => setViewMode(viewMode === 'grid' ? 'speaker' : 'grid'),\n          className: \"p-2.5 bg-white hover:bg-slate-50 border border-slate-200 shadow-sm rounded-xl transition text-slate-600 hover:text-indigo-600\",\n          children: viewMode === 'grid' ? _jsxDEV(FullScreenIcon, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 509,\n            columnNumber: 48\n          }, this) : _jsxDEV(GridViewIcon, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 509,\n            columnNumber: 89\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 17\n      }, this), _jsxDEV(\"div\", {\n        onClick: () => isSidebarOpen && setIsSidebarOpen(false),\n        className: \"flex-1 w-full h-full flex flex-col items-center justify-center p-2 md:p-4 overflow-hidden relative\",\n        children: _jsxDEV(\"div\", {\n          className: \"w-full h-full flex flex-col items-center pt-16 pb-20 overflow-hidden\",\n          children: viewMode === 'speaker' ? _jsxDEV(\"div\", {\n            className: \"w-full max-w-6xl flex flex-col h-full justify-center items-center gap-2\",\n            children: [_jsxDEV(\"div\", {\n              className: \"w-full flex-1 min-h-0 flex justify-center items-center\",\n              children: _jsxDEV(\"div\", {\n                className: \"relative rounded-2xl md:rounded-3xl overflow-hidden bg-white shadow-xl border border-slate-100 ring-1 ring-black/5 group w-full max-w-5xl h-full max-h-full aspect-video md:aspect-auto object-contain\",\n                children: [_jsxDEV(\"video\", {\n                  ref: videoRef,\n                  autoPlay: true,\n                  muted: true,\n                  playsInline: true,\n                  className: `w-full h-full object-cover transition-transform duration-700 group-hover:scale-105 ${isCameraOff ? 'hidden' : 'block'}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 525,\n                  columnNumber: 41\n                }, this), isCameraOff && _jsxDEV(\"div\", {\n                  className: \"absolute inset-0 flex items-center justify-center bg-slate-50 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-white to-slate-200\",\n                  children: _jsxDEV(\"div\", {\n                    className: \"w-20 h-20 md:w-32 md:h-32 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-3xl md:text-4xl font-bold text-white shadow-2xl ring-4 ring-white\",\n                    children: \"Y\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 528,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 527,\n                  columnNumber: 45\n                }, this), _jsxDEV(\"div\", {\n                  className: \"absolute bottom-4 left-4 md:bottom-6 md:left-6\",\n                  children: _jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-2 bg-white/80 backdrop-blur-md px-3 py-1.5 md:px-4 md:py-2 rounded-xl shadow-lg border border-white/60\",\n                    children: [_jsxDEV(AudioVisualizer, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 533,\n                      columnNumber: 49\n                    }, this), _jsxDEV(\"span\", {\n                      className: \"font-bold text-slate-800 text-xs md:text-sm\",\n                      children: \"You (Host)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 534,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 532,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 531,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 523,\n              columnNumber: 33\n            }, this), _jsxDEV(\"div\", {\n              className: \"relative w-full h-24 md:h-28 flex-shrink-0 group max-w-5xl\",\n              children: [_jsxDEV(\"button\", {\n                onClick: () => scrollParticipants('left'),\n                className: \"absolute -left-4 md:-left-12 top-1/2 -translate-y-1/2 z-10 p-2 bg-white/80 shadow-md rounded-full text-slate-600 opacity-0 group-hover:opacity-100 transition hover:bg-white border border-slate-100 hidden md:block\",\n                children: _jsxDEV(ChevronLeftIcon, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 543,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 37\n              }, this), _jsxDEV(\"div\", {\n                ref: scrollContainerRef,\n                className: \"flex space-x-2 overflow-x-auto pb-2 px-1 snap-x items-center h-full w-full mask-image-x no-scrollbar scrollbar-hide\",\n                children: participants.map(p => _jsxDEV(\"div\", {\n                  className: \"snap-start flex-shrink-0 w-28 md:w-36 h-full\",\n                  children: _jsxDEV(ParticipantTile, Object.assign({}, p, {\n                    size: \"sm\"\n                  }), void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 549,\n                    columnNumber: 49\n                  }, this)\n                }, p.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 548,\n                  columnNumber: 45\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 546,\n                columnNumber: 37\n              }, this), _jsxDEV(\"button\", {\n                onClick: () => scrollParticipants('right'),\n                className: \"absolute -right-4 md:-right-12 top-1/2 -translate-y-1/2 z-10 p-2 bg-white/80 shadow-md rounded-full text-slate-600 opacity-0 group-hover:opacity-100 transition hover:bg-white border border-slate-100 hidden md:block\",\n                children: _jsxDEV(ChevronRightIcon, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 555,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 554,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 521,\n            columnNumber: 29\n          }, this) : _jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-4 w-full max-w-7xl mx-auto h-full content-start\",\n            children: [_jsxDEV(\"div\", {\n              className: \"relative rounded-xl md:rounded-2xl overflow-hidden shadow-sm border-2 border-green-400 w-full aspect-video bg-white\",\n              children: [_jsxDEV(\"video\", {\n                ref: videoRef,\n                autoPlay: true,\n                muted: true,\n                playsInline: true,\n                className: `w-full h-full object-cover ${isCameraOff ? 'hidden' : 'block'}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 564,\n                columnNumber: 37\n              }, this), isCameraOff && _jsxDEV(\"div\", {\n                className: \"absolute inset-0 flex items-center justify-center bg-slate-100\",\n                children: _jsxDEV(\"div\", {\n                  className: \"w-16 h-16 md:w-20 md:h-20 rounded-full bg-indigo-600 flex items-center justify-center text-xl md:text-2xl font-bold text-white\",\n                  children: \"Y\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 567,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 566,\n                columnNumber: 41\n              }, this), _jsxDEV(\"div\", {\n                className: \"absolute bottom-2 left-2 md:bottom-3 md:left-3 bg-white/90 px-2 py-1 rounded text-[10px] md:text-xs backdrop-blur-sm font-bold text-slate-800 shadow-sm\",\n                children: \"You\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 570,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 563,\n              columnNumber: 33\n            }, this), participants.map(p => _jsxDEV(ParticipantTile, Object.assign({}, p, {\n              size: \"sm\"\n            }), p.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 575,\n              columnNumber: 37\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 17\n      }, this), _jsxDEV(\"div\", {\n        className: \"absolute bottom-6 left-0 right-0 z-30 flex flex-col items-center justify-end pointer-events-none px-4\",\n        children: [_jsxDEV(\"div\", {\n          className: \"h-10 pointer-events-auto\",\n          children: showReactions && _jsxDEV(\"div\", {\n            className: \"flex space-x-2 bg-white p-2 rounded-full shadow-xl border border-slate-100 animate-slide-in-up mb-3\",\n            children: [_jsxDEV(\"button\", {\n              className: \"p-1.5 hover:bg-slate-100 rounded-full text-xl transition hover:scale-125\",\n              children: \"\\uD83D\\uDC4D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 589,\n              columnNumber: 33\n            }, this), _jsxDEV(\"button\", {\n              className: \"p-1.5 hover:bg-slate-100 rounded-full text-xl transition hover:scale-125\",\n              children: \"\\uD83D\\uDC4F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 590,\n              columnNumber: 33\n            }, this), _jsxDEV(\"button\", {\n              className: \"p-1.5 hover:bg-slate-100 rounded-full text-xl transition hover:scale-125\",\n              children: \"\\uD83C\\uDF89\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 591,\n              columnNumber: 33\n            }, this), _jsxDEV(\"button\", {\n              className: \"p-1.5 hover:bg-slate-100 rounded-full text-xl transition hover:scale-125\",\n              children: \"\\u2764\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 592,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 588,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 586,\n          columnNumber: 21\n        }, this), _jsxDEV(\"div\", {\n          className: \"bg-white/95 backdrop-blur-2xl border border-white/50 p-2 md:px-6 md:py-2.5 rounded-2xl flex items-center space-x-1 md:space-x-4 shadow-[0_8px_30px_rgb(0,0,0,0.12)] pointer-events-auto max-w-full overflow-x-auto no-scrollbar\",\n          children: [_jsxDEV(ControlBtn, {\n            icon: _jsxDEV(MicrophoneIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 600,\n              columnNumber: 35\n            }, this),\n            label: \"Mute\",\n            active: isMuted,\n            onClick: toggleMute,\n            activeColor: \"bg-red-50 text-red-600 border border-red-100\",\n            inactiveColor: \"hover:bg-slate-50 text-slate-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 599,\n            columnNumber: 25\n          }, this), _jsxDEV(ControlBtn, {\n            icon: _jsxDEV(VideoIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 608,\n              columnNumber: 35\n            }, this),\n            label: \"Video\",\n            active: isCameraOff,\n            onClick: toggleCamera,\n            activeColor: \"bg-red-50 text-red-600 border border-red-100\",\n            inactiveColor: \"hover:bg-slate-50 text-slate-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 25\n          }, this), _jsxDEV(\"div\", {\n            className: \"w-px h-6 bg-slate-200 mx-1 hidden sm:block\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 615,\n            columnNumber: 25\n          }, this), _jsxDEV(ControlBtn, {\n            icon: _jsxDEV(ReactionIcon, {\n              className: \"w-5 h-5 md:w-6 md:h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 617,\n              columnNumber: 35\n            }, this),\n            label: \"React\",\n            active: showReactions,\n            onClick: () => setShowReactions(!showReactions),\n            activeColor: \"bg-orange-50 text-orange-600 border border-orange-100\",\n            inactiveColor: \"hover:bg-slate-50 text-slate-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 616,\n            columnNumber: 25\n          }, this), _jsxDEV(ControlBtn, {\n            icon: _jsxDEV(HandIcon, {\n              className: \"w-5 h-5 md:w-6 md:h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 625,\n              columnNumber: 35\n            }, this),\n            label: \"Hand\",\n            active: isHandRaised,\n            onClick: () => setIsHandRaised(!isHandRaised),\n            activeColor: \"bg-yellow-50 text-yellow-600 border border-yellow-200\",\n            inactiveColor: \"hover:bg-slate-50 text-slate-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 624,\n            columnNumber: 25\n          }, this), _jsxDEV(\"div\", {\n            className: \"w-px h-6 bg-slate-200 mx-1 hidden sm:block\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 632,\n            columnNumber: 25\n          }, this), _jsxDEV(ControlBtn, {\n            icon: _jsxDEV(UsersIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 634,\n              columnNumber: 35\n            }, this),\n            label: \"People\",\n            active: isSidebarOpen && activeSidebarTab === 'participants',\n            onClick: () => {\n              if (isSidebarOpen && activeSidebarTab === 'participants') {\n                setIsSidebarOpen(false);\n              } else {\n                setIsSidebarOpen(true);\n                setActiveSidebarTab('participants');\n              }\n            },\n            inactiveColor: \"hover:bg-slate-50 text-slate-600\",\n            activeColor: \"bg-indigo-50 text-indigo-600 border border-indigo-100\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 633,\n            columnNumber: 25\n          }, this), _jsxDEV(ControlBtn, {\n            icon: _jsxDEV(MessagesIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 649,\n              columnNumber: 35\n            }, this),\n            label: \"Chat\",\n            active: isSidebarOpen && activeSidebarTab === 'chat',\n            onClick: () => {\n              if (isSidebarOpen && activeSidebarTab === 'chat') {\n                setIsSidebarOpen(false);\n              } else {\n                setIsSidebarOpen(true);\n                setActiveSidebarTab('chat');\n              }\n            },\n            notificationCount: 2,\n            inactiveColor: \"hover:bg-slate-50 text-slate-600\",\n            activeColor: \"bg-indigo-50 text-indigo-600 border border-indigo-100\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 648,\n            columnNumber: 25\n          }, this), _jsxDEV(\"div\", {\n            className: \"pl-1 md:pl-4 md:border-l md:border-slate-200 ml-1 md:ml-4\",\n            children: [_jsxDEV(\"button\", {\n              onClick: () => setActiveSession(null),\n              className: \"hidden md:block px-6 py-2.5 rounded-xl bg-red-600 hover:bg-red-700 text-white font-bold text-sm shadow-lg shadow-red-200 transition-transform hover:scale-105 active:scale-95 whitespace-nowrap\",\n              children: \"End Class\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 667,\n              columnNumber: 29\n            }, this), _jsxDEV(\"button\", {\n              onClick: () => setActiveSession(null),\n              className: \"md:hidden bg-red-600 text-white p-2.5 rounded-xl shadow-lg shadow-red-200\",\n              children: _jsxDEV(XIcon, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 671,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 670,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 666,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 598,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 583,\n        columnNumber: 17\n      }, this), elapsedTime >= parseInt(activeSession.duration) * 60 && _jsxDEV(\"div\", {\n        className: \"absolute top-20 left-1/2 -translate-x-1/2 z-50 animate-bounce-in\",\n        children: _jsxDEV(\"div\", {\n          className: \"bg-red-600/90 backdrop-blur-md text-white px-6 py-3 rounded-full shadow-2xl flex items-center space-x-3 border border-red-400\",\n          children: [_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            className: \"h-6 w-6 animate-pulse\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            stroke: \"currentColor\",\n            children: _jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 682,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 681,\n            columnNumber: 29\n          }, this), _jsxDEV(\"div\", {\n            className: \"flex flex-col\",\n            children: [_jsxDEV(\"span\", {\n              className: \"font-bold text-sm\",\n              children: \"Class Duration Reached\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 685,\n              columnNumber: 33\n            }, this), _jsxDEV(\"span\", {\n              className: \"text-xs text-red-100\",\n              children: \"You can wrap up or continue.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 686,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 684,\n            columnNumber: 29\n          }, this), _jsxDEV(\"button\", {\n            onClick: () => {},\n            className: \"bg-white/20 hover:bg-white/30 p-1 rounded-full transition ml-2\",\n            children: _jsxDEV(XIcon, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 688,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 680,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 679,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 13\n    }, this), isSidebarOpen && _jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 lg:hidden\",\n      onClick: () => setIsSidebarOpen(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 700,\n      columnNumber: 17\n    }, this), _jsxDEV(\"div\", {\n      className: `\n                fixed inset-y-0 right-0 z-50 w-full sm:w-80 bg-white shadow-2xl transform transition-transform duration-300 ease-out sm:border-l border-slate-200\n                lg:relative lg:shadow-none lg:z-0 lg:transform-none lg:transition-[width,opacity] lg:duration-300 lg:ease-in-out\n                ${isSidebarOpen ? 'translate-x-0' : 'translate-x-full lg:translate-x-0'}\n                ${isSidebarOpen ? 'lg:w-96 lg:opacity-100' : 'lg:w-0 lg:opacity-0 lg:overflow-hidden'}\n            `,\n      children: _jsxDEV(\"div\", {\n        className: \"flex flex-col h-full bg-white/50 backdrop-blur-xl w-full\",\n        children: [\" \", _jsxDEV(\"div\", {\n          className: \"p-5 border-b border-slate-100 flex justify-between items-center bg-white/80 shrink-0\",\n          children: [_jsxDEV(\"h3\", {\n            className: \"font-bold text-lg text-slate-800 tracking-tight whitespace-nowrap\",\n            children: activeSidebarTab === 'chat' ? 'Messages' : 'Participants'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 715,\n            columnNumber: 25\n          }, this), _jsxDEV(\"button\", {\n            onClick: () => setIsSidebarOpen(false),\n            className: \"p-2 hover:bg-slate-100 rounded-full text-slate-400 hover:text-red-500 transition border border-transparent hover:border-slate-200\",\n            children: _jsxDEV(XIcon, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 717,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 716,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 714,\n          columnNumber: 21\n        }, this), _jsxDEV(\"div\", {\n          className: \"px-5 pt-4 shrink-0\",\n          children: _jsxDEV(\"div\", {\n            className: \"flex p-1 bg-slate-100 rounded-xl\",\n            children: [_jsxDEV(\"button\", {\n              onClick: () => setActiveSidebarTab('chat'),\n              className: `flex-1 py-2 text-xs font-bold rounded-lg transition-all shadow-sm ${activeSidebarTab === 'chat' ? 'bg-white text-indigo-600 shadow-md' : 'text-slate-500 hover:text-slate-700 shadow-none'}`,\n              children: \"Chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 724,\n              columnNumber: 29\n            }, this), _jsxDEV(\"button\", {\n              onClick: () => setActiveSidebarTab('participants'),\n              className: `flex-1 py-2 text-xs font-bold rounded-lg transition-all shadow-sm ${activeSidebarTab === 'participants' ? 'bg-white text-indigo-600 shadow-md' : 'text-slate-500 hover:text-slate-700 shadow-none'}`,\n              children: [\"People (\", participants.length + 1, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 725,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 723,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 722,\n          columnNumber: 21\n        }, this), _jsxDEV(\"div\", {\n          className: \"flex-1 overflow-y-auto p-5 custom-scrollbar min-w-[320px]\",\n          children: [\" \", activeSidebarTab === 'chat' ? _jsxDEV(\"div\", {\n            className: \"space-y-6 pb-4\",\n            children: [_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-4\",\n              children: [_jsxDEV(\"div\", {\n                className: \"h-px bg-slate-200 flex-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 734,\n                columnNumber: 37\n              }, this), _jsxDEV(\"span\", {\n                className: \"text-[10px] font-bold text-slate-400 uppercase tracking-widest whitespace-nowrap\",\n                children: \"Today\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 735,\n                columnNumber: 37\n              }, this), _jsxDEV(\"div\", {\n                className: \"h-px bg-slate-200 flex-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 736,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 733,\n              columnNumber: 33\n            }, this), _jsxDEV(ChatBubble, {\n              name: \"Adebayo\",\n              message: \"Good morning Mrs. Funke! Yes, I can hear you clearly.\",\n              time: \"10:24 AM\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 738,\n              columnNumber: 33\n            }, this), _jsxDEV(ChatBubble, {\n              name: \"Chidinma\",\n              message: \"Can we review the last assignment first?\",\n              time: \"10:25 AM\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 739,\n              columnNumber: 33\n            }, this), _jsxDEV(ChatBubble, {\n              name: \"You\",\n              message: \"Sure, Chidinma. Let's start with that.\",\n              time: \"10:26 AM\",\n              isYou: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 740,\n              columnNumber: 33\n            }, this), _jsxDEV(ChatBubble, {\n              name: \"Musa\",\n              message: \"I had trouble with question #3.\",\n              time: \"10:28 AM\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 741,\n              columnNumber: 33\n            }, this), _jsxDEV(ChatBubble, {\n              name: \"Fatima\",\n              message: \"Same here!\",\n              time: \"10:28 AM\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 742,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 732,\n            columnNumber: 29\n          }, this) : _jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between p-3 rounded-xl bg-indigo-50/50 border border-indigo-100\",\n              children: [_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3\",\n                children: [_jsxDEV(\"div\", {\n                  className: \"w-10 h-10 rounded-full bg-indigo-600 flex items-center justify-center text-sm font-bold text-white shadow-md ring-2 ring-white\",\n                  children: \"Y\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 749,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"div\", {\n                  children: [_jsxDEV(\"p\", {\n                    className: \"text-sm font-bold text-slate-800 whitespace-nowrap\",\n                    children: \"You (Host)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 751,\n                    columnNumber: 45\n                  }, this), _jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-1 mt-0.5\",\n                    children: [_jsxDEV(\"span\", {\n                      className: \"w-1.5 h-1.5 rounded-full bg-green-500\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 753,\n                      columnNumber: 49\n                    }, this), _jsxDEV(\"p\", {\n                      className: \"text-xs text-slate-500\",\n                      children: \"Connected\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 754,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 752,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 750,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 748,\n                columnNumber: 37\n              }, this), _jsxDEV(\"div\", {\n                className: \"flex space-x-1\",\n                children: _jsxDEV(\"button\", {\n                  className: `p-2 rounded-lg transition ${isMuted ? 'text-red-500 bg-red-50' : 'text-slate-400 hover:bg-slate-200'}`,\n                  children: _jsxDEV(MicrophoneIcon, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 759,\n                    columnNumber: 165\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 759,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 758,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 747,\n              columnNumber: 33\n            }, this), _jsxDEV(\"div\", {\n              className: \"h-px bg-slate-100 my-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 763,\n              columnNumber: 33\n            }, this), participants.map(p => _jsxDEV(\"div\", {\n              className: \"flex items-center justify-between p-3 rounded-xl hover:bg-slate-50 cursor-pointer group transition border border-transparent hover:border-slate-100\",\n              children: [_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3\",\n                children: [_jsxDEV(\"div\", {\n                  className: \"w-10 h-10 rounded-full bg-slate-200 text-slate-600 flex items-center justify-center text-sm font-bold shadow-sm\",\n                  children: p.name.charAt(0)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 769,\n                  columnNumber: 45\n                }, this), _jsxDEV(\"div\", {\n                  children: [_jsxDEV(\"p\", {\n                    className: \"text-sm font-semibold text-slate-700 whitespace-nowrap\",\n                    children: p.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 771,\n                    columnNumber: 49\n                  }, this), p.isHandRaised && _jsxDEV(\"p\", {\n                    className: \"text-xs text-yellow-600 font-medium flex items-center mt-0.5 animate-pulse\",\n                    children: [_jsxDEV(HandIcon, {\n                      className: \"w-3 h-3 mr-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 772,\n                      columnNumber: 158\n                    }, this), \" Raised Hand\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 772,\n                    columnNumber: 68\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 770,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 768,\n                columnNumber: 41\n              }, this), _jsxDEV(\"div\", {\n                className: \"flex space-x-1 items-center\",\n                children: [p.isMuted && _jsxDEV(MicrophoneIcon, {\n                  className: \"w-4 h-4 text-red-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 776,\n                  columnNumber: 59\n                }, this), _jsxDEV(\"button\", {\n                  className: \"opacity-0 group-hover:opacity-100 p-2 hover:bg-slate-200 rounded-lg text-slate-400 transition ml-1\",\n                  children: _jsxDEV(DotsHorizontalIcon, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 777,\n                    columnNumber: 164\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 777,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 775,\n                columnNumber: 41\n              }, this)]\n            }, p.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 767,\n              columnNumber: 37\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 745,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 730,\n          columnNumber: 21\n        }, this), activeSidebarTab === 'chat' && _jsxDEV(\"div\", {\n          className: \"p-4 bg-white border-t border-slate-100 pb-8 shrink-0\",\n          children: _jsxDEV(\"div\", {\n            className: \"relative group\",\n            children: [_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Type a message...\",\n              className: \"w-full bg-slate-50 text-slate-800 rounded-2xl pl-5 pr-12 py-4 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:bg-white transition border border-slate-200 focus:border-indigo-200 shadow-sm group-hover:shadow-md\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 789,\n              columnNumber: 33\n            }, this), _jsxDEV(\"button\", {\n              className: \"absolute right-3 top-1/2 -translate-y-1/2 p-2 bg-indigo-600 rounded-xl hover:bg-indigo-700 transition shadow-lg shadow-indigo-200 text-white transform active:scale-95\",\n              children: _jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                className: \"h-4 w-4\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: _jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 791,\n                  columnNumber: 151\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 791,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 790,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 788,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 787,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 712,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 706,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 474,\n    columnNumber: 9\n  }, this);\n};\nconst ControlBtn = ({\n  icon,\n  label,\n  active,\n  onClick,\n  activeColor,\n  inactiveColor,\n  notificationCount\n}) => _jsxDEV(\"div\", {\n  className: \"group relative flex flex-col items-center flex-shrink-0\",\n  children: [_jsxDEV(\"div\", {\n    className: \"absolute -top-10 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-800 text-white text-[10px] px-2 py-1 rounded shadow-lg pointer-events-none whitespace-nowrap hidden md:block z-50\",\n    children: label\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 814,\n    columnNumber: 9\n  }, this), _jsxDEV(\"button\", {\n    onClick: onClick,\n    className: `p-2.5 md:p-3.5 rounded-xl transition-all duration-200 relative ${active ? activeColor : inactiveColor}`,\n    children: [_jsxDEV(\"span\", {\n      className: \"w-5 h-5 md:w-6 md:h-6\",\n      children: icon\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 819,\n      columnNumber: 13\n    }, this), notificationCount && _jsxDEV(\"span\", {\n      className: \"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] w-4 h-4 flex items-center justify-center rounded-full border-2 border-white shadow-sm font-bold\",\n      children: notificationCount\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 821,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 818,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 812,\n  columnNumber: 5\n}, this);\nexport default VirtualClassScreen;","map":{"version":3,"names":["React","useState","useEffect","useRef","supabase","MicrophoneIcon","VideoIcon","ShareIcon","UsersIcon","MessagesIcon","mockStudents","jsxDEV","_jsxDEV","XIcon","props","Object","assign","xmlns","fill","viewBox","stroke","strokeWidth","children","strokeLinecap","strokeLinejoin","d","fileName","_jsxFileName","lineNumber","columnNumber","HandIcon","GridViewIcon","FullScreenIcon","DotsHorizontalIcon","ReactionIcon","ChevronLeftIcon","ChevronRightIcon","CalendarIcon","AudioVisualizer","className","ParticipantTile","name","isMuted","isCameraOff","isSpeaking","isHandRaised","size","avatarUrl","sizeClasses","xs","sm","md","lg","featured","avatarSizes","src","alt","charAt","ChatBubble","message","time","isYou","ClassSelectionScreen","onStartClass","selectedClass","setSelectedClass","subject","setSubject","topic","setTopic","duration","setDuration","classes","setClasses","loading","setLoading","lobbyMuted","setLobbyMuted","lobbyCameraOff","setLobbyCameraOff","videoPreviewRef","fetchClasses","data","error","from","select","order","ascending","console","getGradeDisplayName","mappedClasses","map","c","id","grade","section","description","studentsCount","student_count","err","stream","navigator","mediaDevices","getUserMedia","video","audio","then","s","current","srcObject","catch","getTracks","forEach","t","stop","length","cls","onClick","type","placeholder","value","onChange","e","target","m","ref","autoPlay","muted","playsInline","disabled","VirtualClassScreen","activeSession","setActiveSession","setIsMuted","setIsCameraOff","setIsHandRaised","isSidebarOpen","setIsSidebarOpen","activeSidebarTab","setActiveSidebarTab","viewMode","setViewMode","currentTime","setCurrentTime","Date","showReactions","setShowReactions","scrollContainerRef","elapsedTime","setElapsedTime","videoRef","streamRef","participants","slice","i","timer","setInterval","clearInterval","prev","formatTime","seconds","mins","Math","floor","secs","toString","padStart","startCamera","getAudioTracks","enabled","getVideoTracks","track","toggleMute","toggleCamera","scrollParticipants","direction","scrollAmount","newScrollLeft","scrollLeft","scrollTo","left","behavior","handleStartClass","initialMuted","initialCameraOff","classDetails","isDesktop","window","innerWidth","parseInt","p","ControlBtn","icon","label","active","activeColor","inactiveColor","notificationCount"],"sources":["C:/Users/USER/OneDrive/Desktop/Project/school-app-/components/teacher/VirtualClassScreen.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { supabase } from '../../lib/supabase';\r\nimport {\r\n    MicrophoneIcon,\r\n    VideoIcon,\r\n    ShareIcon,\r\n    UsersIcon,\r\n    MessagesIcon,\r\n    ChevronDownIcon,\r\n} from '../../constants';\r\n// Removed unused imports like StopIcon/BellIcon to clean up\r\n\r\nimport { mockStudents } from '../../data';\r\n\r\n// --- Customized Icons for Premium Feel ---\r\nconst XIcon = (props: React.SVGProps<SVGSVGElement>) => <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" /></svg>;\r\nconst HandIcon = (props: React.SVGProps<SVGSVGElement>) => <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z\" /></svg>;\r\nconst GridViewIcon = (props: React.SVGProps<SVGSVGElement>) => <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z\" /></svg>;\r\nconst FullScreenIcon = (props: React.SVGProps<SVGSVGElement>) => <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4\" /></svg>;\r\nconst DotsHorizontalIcon = (props: React.SVGProps<SVGSVGElement>) => <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z\" /></svg>;\r\nconst ReactionIcon = (props: React.SVGProps<SVGSVGElement>) => <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" /></svg>;\r\nconst ChevronLeftIcon = (props: React.SVGProps<SVGSVGElement>) => <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15 19l-7-7 7-7\" /></svg>;\r\nconst ChevronRightIcon = (props: React.SVGProps<SVGSVGElement>) => <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9 5l7 7-7 7\" /></svg>;\r\nconst CalendarIcon = (props: React.SVGProps<SVGSVGElement>) => <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" /></svg>;\r\n\r\n\r\ninterface ParticipantProps {\r\n    name: string;\r\n    isMuted: boolean;\r\n    isCameraOff: boolean;\r\n    isSpeaking?: boolean;\r\n    isHandRaised?: boolean;\r\n    avatarUrl?: string;\r\n}\r\n\r\nconst AudioVisualizer: React.FC = () => (\r\n    <div className=\"flex items-center space-x-1 h-4\">\r\n        <div className=\"w-1 bg-green-500 rounded-full animate-musical-bar-1 h-3\"></div>\r\n        <div className=\"w-1 bg-green-500 rounded-full animate-musical-bar-2 h-4\"></div>\r\n        <div className=\"w-1 bg-green-500 rounded-full animate-musical-bar-3 h-2\"></div>\r\n    </div>\r\n);\r\n\r\nconst ParticipantTile: React.FC<ParticipantProps & { size: 'xs' | 'sm' | 'md' | 'lg' | 'featured' }> = ({ name, isMuted, isCameraOff, isSpeaking, isHandRaised, size, avatarUrl }) => {\r\n\r\n    // Dynamic sizing classes for responsiveness\r\n    // Using relative units and breakpoints for fluid transitions\r\n    const sizeClasses = {\r\n        xs: 'h-20 w-20 md:h-24 md:w-24 min-w-[5rem]',\r\n        sm: 'h-28 w-36 md:h-32 md:w-44 min-w-[9rem]',\r\n        md: 'h-40 md:h-48 lg:h-56',\r\n        lg: 'h-56 md:h-64 lg:h-72',\r\n        featured: 'h-full w-full absolute inset-0'\r\n    };\r\n\r\n    const avatarSizes = {\r\n        xs: 'w-8 h-8 text-xs',\r\n        sm: 'w-10 h-10 md:w-12 md:h-12 text-sm',\r\n        md: 'w-14 h-14 md:w-16 md:h-16 text-xl',\r\n        lg: 'w-20 h-20 md:w-24 md:h-24 text-2xl',\r\n        featured: 'w-24 h-24 md:w-32 md:h-32 text-2xl md:text-4xl'\r\n    };\r\n\r\n    return (\r\n        <div className={`relative group overflow-hidden rounded-xl md:rounded-2xl shadow-sm hover:shadow-md transition-all duration-300 ${sizeClasses[size]} w-full bg-slate-100 border border-slate-200`}>\r\n            {/* Active Speaker Gradient Border Effect */}\r\n            {isSpeaking && <div className=\"absolute inset-0 border-2 border-green-400 rounded-xl md:rounded-2xl z-10 pointer-events-none animate-pulse\"></div>}\r\n\r\n            {/* Video/Content Layer */}\r\n            <div className={`absolute inset-0 flex items-center justify-center ${isCameraOff ? 'bg-gradient-to-br from-slate-100 to-slate-200' : 'bg-slate-900'}`}>\r\n                {isCameraOff ? (\r\n                    <div className={`rounded-full flex items-center justify-center font-bold text-white shadow-lg bg-gradient-to-br from-indigo-500 to-purple-600 ${avatarSizes[size]}`}>\r\n                        {avatarUrl ? <img src={avatarUrl} alt={name} className=\"w-full h-full rounded-full object-cover border-2 border-white/20\" /> : name.charAt(0)}\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"w-full h-full flex items-center justify-center relative\">\r\n                        {/* Mock Video Placeholder */}\r\n                        <div className=\"w-full h-full bg-slate-800 opacity-40\"></div>\r\n                        <VideoIcon className={`text-slate-600 absolute opacity-20 ${size === 'xs' ? 'w-5 h-5' : 'w-10 h-10 md:w-12 md:h-12'}`} />\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Status Overlays */}\r\n            <div className=\"absolute top-2 right-2 flex space-x-1 z-20\">\r\n                {isHandRaised && (\r\n                    <div className=\"bg-yellow-400 text-white p-1 rounded-full shadow-lg animate-bounce-subtle\">\r\n                        <HandIcon className=\"w-2.5 h-2.5 md:w-3 md:h-3\" />\r\n                    </div>\r\n                )}\r\n                {isMuted && (\r\n                    <div className=\"bg-red-500/90 text-white p-1 rounded-full shadow-lg backdrop-blur-md\">\r\n                        <MicrophoneIcon className=\"w-2.5 h-2.5 md:w-3 md:h-3\" />\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Name Tag */}\r\n            <div className={`absolute bottom-2 left-2 z-20 max-w-[90%]`}>\r\n                <div className={`flex items-center space-x-1.5 bg-white/90 backdrop-blur-md px-1.5 py-0.5 md:px-2 md:py-1 rounded-md md:rounded-lg shadow-sm border border-white/50 ${size === 'xs' ? 'scale-75 origin-bottom-left' : ''}`}>\r\n                    {isSpeaking ? (\r\n                        <AudioVisualizer />\r\n                    ) : (\r\n                        <div className=\"w-1.5 h-1.5 rounded-full bg-slate-400\"></div>\r\n                    )}\r\n                    <span className=\"text-[10px] md:text-xs font-semibold text-slate-800 truncate select-none\">{name}</span>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Hover Actions */}\r\n            <div className=\"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors duration-300 pointer-events-none\" />\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ChatBubble: React.FC<{ name: string, message: string, time: string, isYou?: boolean }> = ({ name, message, time, isYou }) => (\r\n    <div className={`flex flex-col ${isYou ? 'items-end' : 'items-start'} mb-4 animate-slide-in-up`}>\r\n        <div className=\"flex items-baseline space-x-2 mb-1 px-1\">\r\n            <span className={`text-xs font-bold ${isYou ? 'text-indigo-600' : 'text-slate-600'}`}>{name}</span>\r\n            <span className=\"text-[10px] text-slate-400\">{time}</span>\r\n        </div>\r\n        <div className={`px-4 py-2.5 rounded-2xl max-w-[85%] text-sm shadow-sm leading-relaxed ${isYou ? 'bg-indigo-600 text-white rounded-tr-none' : 'bg-white text-slate-700 border border-slate-100 rounded-tl-none'}`}>\r\n            {message}\r\n        </div>\r\n    </div>\r\n);\r\n\r\n// --- Class Selection Component with Green Room ---\r\ninterface ClassSession {\r\n    id: string;\r\n    grade: string;\r\n    subject: string;\r\n    description: string;\r\n    time: string;\r\n    studentsCount: number;\r\n}\r\n\r\nconst ClassSelectionScreen: React.FC<{ onStartClass: (session: ClassSession, subject: string, topic: string, duration: string, initialMuted: boolean, initialCameraOff: boolean) => void }> = ({ onStartClass }) => {\r\n    const [selectedClass, setSelectedClass] = useState<ClassSession | null>(null);\r\n    const [subject, setSubject] = useState('');\r\n    const [topic, setTopic] = useState('');\r\n    const [duration, setDuration] = useState('60'); // Minutes\r\n    const [classes, setClasses] = useState<ClassSession[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    // Green Room State\r\n    const [lobbyMuted, setLobbyMuted] = useState(false);\r\n    const [lobbyCameraOff, setLobbyCameraOff] = useState(false);\r\n    const videoPreviewRef = useRef<HTMLVideoElement>(null);\r\n\r\n    useEffect(() => {\r\n        const fetchClasses = async () => {\r\n            try {\r\n                // Fetch classes (assuming 'classes' table exists)\r\n                const { data, error } = await supabase\r\n                    .from('classes')\r\n                    .select('*')\r\n                    .order('grade', { ascending: true });\r\n\r\n                if (error) {\r\n                    console.error('Error fetching classes:', error);\r\n                    // Fallback to empty or mock if DB fails so UI doesn't break\r\n                }\r\n\r\n                if (data) {\r\n                    // Import the helper function (dynamically or statically)\r\n                    const { getGradeDisplayName } = await import('../../lib/schoolSystem');\r\n\r\n                    const mappedClasses: ClassSession[] = data.map((c: any) => ({\r\n                        id: c.id,\r\n                        grade: `${getGradeDisplayName(c.grade)} - Section ${c.section}`,\r\n                        subject: c.subject || 'General',\r\n                        description: `Class Session for ${getGradeDisplayName(c.grade)} ${c.section}`,\r\n                        time: 'Now', // Dynamic in real app\r\n                        studentsCount: c.student_count || 0\r\n                    }));\r\n                    setClasses(mappedClasses);\r\n                }\r\n            } catch (err) {\r\n                console.error(err);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchClasses();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (selectedClass) {\r\n            setSubject(selectedClass.subject);\r\n        }\r\n    }, [selectedClass]);\r\n\r\n    // Effect for Lobby Camera Preview\r\n    useEffect(() => {\r\n        let stream: MediaStream | null = null;\r\n        if (!lobbyCameraOff) {\r\n            navigator.mediaDevices.getUserMedia({ video: true, audio: true })\r\n                .then(s => {\r\n                    stream = s;\r\n                    if (videoPreviewRef.current) videoPreviewRef.current.srcObject = s;\r\n                })\r\n                .catch(err => {\r\n                    console.error(\"Lobby Camera Error:\", err);\r\n                    setLobbyCameraOff(true);\r\n                });\r\n        }\r\n        return () => {\r\n            stream?.getTracks().forEach(t => t.stop());\r\n        };\r\n    }, [lobbyCameraOff]);\r\n\r\n\r\n    return (\r\n        <div className=\"flex flex-col items-center justify-center min-h-[calc(100vh-64px)] bg-slate-50 p-4 md:p-8\">\r\n            <div className=\"w-full max-w-6xl space-y-6 md:space-y-8 animate-fade-in-up\">\r\n                <div className=\"text-center space-y-2\">\r\n                    <h1 className=\"text-2xl md:text-3xl font-bold text-slate-800\">Classroom Lobby</h1>\r\n                    <p className=\"text-slate-500 text-sm md:text-base\">Configure your session details and check your equipment.</p>\r\n                </div>\r\n\r\n                <div className=\"grid lg:grid-cols-12 gap-6 md:gap-8\">\r\n                    {/* Left: Class List (4 cols) */}\r\n                    <div className=\"lg:col-span-4 space-y-4 order-2 lg:order-1\">\r\n                        <div className=\"flex items-center space-x-2 text-slate-700 font-semibold mb-2\">\r\n                            <CalendarIcon className=\"w-5 h-5 text-indigo-500\" />\r\n                            <h2>Classes</h2>\r\n                        </div>\r\n                        <div className=\"space-y-3 h-[400px] overflow-y-auto custom-scrollbar lg:pr-2\">\r\n                            {loading && <p className=\"text-center text-slate-400 py-4\">Loading classes...</p>}\r\n                            {!loading && classes.length === 0 && <p className=\"text-center text-slate-400 py-4\">No classes found.</p>}\r\n                            {classes.map((cls) => (\r\n                                <div key={cls.id}\r\n                                    onClick={() => setSelectedClass(cls)}\r\n                                    className={`p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 shadow-sm hover:shadow-md relative group ${selectedClass?.id === cls.id ? 'border-indigo-500 bg-indigo-50/50 ring-1 ring-indigo-500/20' : 'border-slate-200 bg-white hover:border-indigo-200'}`}\r\n                                >\r\n                                    <div className=\"flex justify-between items-start\">\r\n                                        <div className=\"pr-2\">\r\n                                            <h3 className={`font-bold text-sm md:text-base ${selectedClass?.id === cls.id ? 'text-indigo-900' : 'text-slate-800'}`}>{cls.grade}</h3>\r\n                                            <p className={`text-xs md:text-sm font-medium ${selectedClass?.id === cls.id ? 'text-indigo-700' : 'text-slate-600'}`}>{cls.subject}</p>\r\n                                            <p className=\"text-xs text-slate-400 mt-1 line-clamp-1\">{cls.description}</p>\r\n                                        </div>\r\n                                        <div className=\"text-right flex-shrink-0\">\r\n                                            <span className=\"block text-[10px] md:text-xs font-semibold text-indigo-600 bg-indigo-100 px-2 py-1 rounded-full\">{cls.time}</span>\r\n                                            <span className=\"block text-[10px] text-slate-400 mt-1\">{cls.studentsCount} Students</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Right: Green Room & Setup (8 cols) */}\r\n                    <div className=\"lg:col-span-8 bg-white p-4 md:p-6 rounded-2xl shadow-lg border border-slate-200 flex flex-col md:flex-row gap-6 order-1 lg:order-2\">\r\n\r\n                        {/* Column 1: Config Fields */}\r\n                        <div className=\"flex-1 space-y-5\">\r\n                            <h3 className=\"font-bold text-slate-800 text-lg border-b border-slate-100 pb-2\">Session Details</h3>\r\n\r\n                            <div>\r\n                                <label className=\"block text-xs font-bold text-slate-500 mb-1.5 uppercase tracking-wide\">Class Subject</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    className=\"w-full p-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all outline-none text-sm bg-slate-50 font-semibold text-slate-800\"\r\n                                    placeholder=\"e.g. Mathematics\"\r\n                                    value={subject}\r\n                                    onChange={(e) => setSubject(e.target.value)}\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-xs font-bold text-slate-500 mb-1.5 uppercase tracking-wide\">Duration</label>\r\n                                <div className=\"grid grid-cols-4 gap-2\">\r\n                                    {['30', '45', '60', '90'].map((m) => (\r\n                                        <button\r\n                                            key={m}\r\n                                            onClick={() => setDuration(m)}\r\n                                            className={`py-2 px-1 rounded-lg text-sm font-medium border transition-all ${duration === m ? 'bg-indigo-600 text-white border-indigo-600 shadow-md' : 'bg-white text-slate-600 border-slate-200 hover:border-indigo-300'}`}\r\n                                        >\r\n                                            {m}m\r\n                                        </button>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-xs font-bold text-slate-500 mb-1.5 uppercase tracking-wide\">Agenda / Topic</label>\r\n                                <textarea\r\n                                    className=\"w-full p-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all outline-none resize-none h-24 text-sm bg-slate-50\"\r\n                                    placeholder=\"Enter today's lesson topic...\"\r\n                                    value={topic}\r\n                                    onChange={(e) => setTopic(e.target.value)}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Column 2: Preview & Actions */}\r\n                        <div className=\"flex-1 flex flex-col space-y-6\">\r\n                            <h3 className=\"font-bold text-slate-800 text-lg border-b border-slate-100 pb-2 hidden md:block\">Preview</h3>\r\n\r\n                            {/* Audio/Video Preview */}\r\n                            <div className=\"relative aspect-video bg-slate-900 rounded-xl overflow-hidden shadow-inner flex items-center justify-center group ring-1 ring-black/5\">\r\n                                <video ref={videoPreviewRef} autoPlay muted playsInline className={`w-full h-full object-cover transform scale-x-[-1] transition-opacity duration-300 ${lobbyCameraOff ? 'opacity-0' : 'opacity-100'}`} />\r\n                                {lobbyCameraOff && (\r\n                                    <div className=\"absolute inset-0 flex items-center justify-center text-slate-500\">\r\n                                        <div className=\"text-center\">\r\n                                            <div className=\"w-16 h-16 rounded-full bg-slate-800 flex items-center justify-center mx-auto mb-2\">\r\n                                                <VideoIcon className=\"w-8 h-8 opacity-50\" />\r\n                                            </div>\r\n                                            <span className=\"text-sm font-medium\">Camera is off</span>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n\r\n                                {/* Controls Overlay */}\r\n                                <div className=\"absolute bottom-4 left-1/2 -translate-x-1/2 flex items-center space-x-4 bg-black/40 backdrop-blur-md px-4 py-2 rounded-full border border-white/10 shadow-lg\">\r\n                                    <button onClick={() => setLobbyMuted(!lobbyMuted)} className={`p-2.5 rounded-full transition-all ${lobbyMuted ? 'bg-red-500 text-white shadow-red-500/50 shadow-sm' : 'bg-white/20 hover:bg-white/30 text-white'}`}>\r\n                                        <MicrophoneIcon className=\"w-5 h-5\" />\r\n                                    </button>\r\n                                    <button onClick={() => setLobbyCameraOff(!lobbyCameraOff)} className={`p-2.5 rounded-full transition-all ${lobbyCameraOff ? 'bg-red-500 text-white shadow-red-500/50 shadow-sm' : 'bg-white/20 hover:bg-white/30 text-white'}`}>\r\n                                        <VideoIcon className=\"w-5 h-5\" />\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"mt-auto pt-4\">\r\n                                <button\r\n                                    disabled={!selectedClass}\r\n                                    onClick={() => selectedClass && onStartClass(selectedClass, subject, topic, duration, lobbyMuted, lobbyCameraOff)}\r\n                                    className={`w-full py-4 rounded-xl font-bold shadow-lg transition-all transform active:scale-[0.98] flex items-center justify-center space-x-2 text-sm md:text-base ${!selectedClass ? 'bg-slate-100 text-slate-400 cursor-not-allowed shadow-none' : 'bg-indigo-600 text-white hover:bg-indigo-700 shadow-indigo-200 hover:shadow-indigo-300'}`}\r\n                                >\r\n                                    <VideoIcon className=\"w-5 h-5\" />\r\n                                    <span>{selectedClass ? 'Start Class Session' : 'Select a Class First'}</span>\r\n                                </button>\r\n                                <p className=\"text-xs text-center text-slate-400 mt-3 flex items-center justify-center\">\r\n                                    <ShareIcon className=\"w-3 h-3 mr-1\" />\r\n                                    Students will be notified automatically\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nconst VirtualClassScreen: React.FC = () => {\r\n    // Session State\r\n    const [activeSession, setActiveSession] = useState<{ classDetails: ClassSession, subject: string, topic: string, duration: string } | null>(null);\r\n\r\n    // Call State\r\n    const [isMuted, setIsMuted] = useState(false);\r\n    const [isCameraOff, setIsCameraOff] = useState(false);\r\n    const [isHandRaised, setIsHandRaised] = useState(false);\r\n    const [isSidebarOpen, setIsSidebarOpen] = useState(false);\r\n    const [activeSidebarTab, setActiveSidebarTab] = useState<'participants' | 'chat'>('chat');\r\n    const [viewMode, setViewMode] = useState<'grid' | 'speaker'>('speaker');\r\n    const [currentTime, setCurrentTime] = useState(new Date());\r\n    const [showReactions, setShowReactions] = useState(false);\r\n    const scrollContainerRef = useRef<HTMLDivElement>(null);\r\n    const [elapsedTime, setElapsedTime] = useState(0);\r\n\r\n    // Refs\r\n    const videoRef = useRef<HTMLVideoElement>(null);\r\n    const streamRef = useRef<MediaStream | null>(null);\r\n\r\n    // Mock Data\r\n    const participants = mockStudents.slice(0, 12).map((s, i) => ({\r\n        name: s.name,\r\n        avatarUrl: s.avatarUrl,\r\n        isMuted: i % 3 === 0,\r\n        isCameraOff: i % 5 === 0,\r\n        isSpeaking: i === 2,\r\n        isHandRaised: i % 7 === 0,\r\n        id: s.id\r\n    }));\r\n\r\n    // Effects for Clock\r\n    useEffect(() => {\r\n        const timer = setInterval(() => setCurrentTime(new Date()), 60000);\r\n        return () => clearInterval(timer);\r\n    }, []);\r\n\r\n    // Effect for Session Timer\r\n    useEffect(() => {\r\n        let timer: NodeJS.Timeout;\r\n        if (activeSession) {\r\n            timer = setInterval(() => {\r\n                setElapsedTime(prev => prev + 1);\r\n            }, 1000);\r\n        } else {\r\n            setElapsedTime(0);\r\n        }\r\n        return () => clearInterval(timer);\r\n    }, [activeSession]);\r\n\r\n    // Format seconds to mm:ss\r\n    const formatTime = (seconds: number) => {\r\n        const mins = Math.floor(seconds / 60);\r\n        const secs = seconds % 60;\r\n        return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (!activeSession) return;\r\n\r\n        // Important: In a real app, we would take the already active stream from the Green Room\r\n        // For this demo, we re-request it to keep logic simple but consistent\r\n        const startCamera = async () => {\r\n            try {\r\n                const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });\r\n                streamRef.current = stream;\r\n                if (videoRef.current) {\r\n                    videoRef.current.srcObject = stream;\r\n                    // Apply initial muted/camera state\r\n                    stream.getAudioTracks().forEach(t => t.enabled = !isMuted);\r\n                    stream.getVideoTracks().forEach(t => t.enabled = !isCameraOff);\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Camera access:\", error);\r\n                setIsCameraOff(true);\r\n            }\r\n        };\r\n        if (!isCameraOff || isMuted) startCamera(); // Try to start even if camera is off, for audio\r\n\r\n        return () => {\r\n            streamRef.current?.getTracks().forEach(track => track.stop());\r\n        };\r\n    }, [activeSession]); // Only run on session start\r\n\r\n    // Update tracks when toggles change during call\r\n    useEffect(() => {\r\n        if (streamRef.current) {\r\n            streamRef.current.getAudioTracks().forEach(t => t.enabled = !isMuted);\r\n            streamRef.current.getVideoTracks().forEach(t => t.enabled = !isCameraOff);\r\n        }\r\n    }, [isMuted, isCameraOff]);\r\n\r\n    const toggleMute = () => setIsMuted(prev => !prev);\r\n    const toggleCamera = () => setIsCameraOff(prev => !prev);\r\n\r\n    const scrollParticipants = (direction: 'left' | 'right') => {\r\n        if (scrollContainerRef.current) {\r\n            const scrollAmount = 300;\r\n            const newScrollLeft = direction === 'left'\r\n                ? scrollContainerRef.current.scrollLeft - scrollAmount\r\n                : scrollContainerRef.current.scrollLeft + scrollAmount;\r\n\r\n            scrollContainerRef.current.scrollTo({\r\n                left: newScrollLeft,\r\n                behavior: 'smooth'\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleStartClass = (cls: ClassSession, subject: string, topic: string, duration: string, initialMuted: boolean, initialCameraOff: boolean) => {\r\n        setIsMuted(initialMuted);\r\n        setIsCameraOff(initialCameraOff);\r\n        setActiveSession({ classDetails: cls, subject, topic, duration });\r\n    };\r\n\r\n    // --- Render Logic ---\r\n\r\n    // Derived State for Layout\r\n    const isDesktop = typeof window !== 'undefined' && window.innerWidth >= 1024; // Simple check, resize listener better in real app\r\n\r\n    if (!activeSession) {\r\n        return <ClassSelectionScreen onStartClass={handleStartClass} />;\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex bg-slate-50 h-[calc(100vh-64px)] w-full overflow-hidden font-sans text-slate-900\">\r\n\r\n            {/* Main Stage Area (Flex-1) */}\r\n            <div className={`flex-1 flex flex-col h-full relative z-0 transition-all duration-300 ease-in-out overflow-hidden`}>\r\n\r\n                {/* 1. Header Pill (Absolute Top) */}\r\n                <div className=\"absolute top-4 left-0 right-0 z-20 flex justify-center pointer-events-none px-4\">\r\n                    <div className=\"bg-white/90 backdrop-blur-xl border border-white/50 shadow-sm rounded-full px-4 py-2 flex items-center justify-between w-full max-w-3xl md:w-auto md:space-x-8 pointer-events-auto transition-all\">\r\n                        <div className=\"flex items-center space-x-2 md:space-x-4 overflow-hidden\">\r\n                            <div className=\"flex flex-col items-center leading-none\">\r\n                                <span className=\"text-[10px] md:text-xs font-bold text-red-500 uppercase tracking-wide flex items-center gap-1\">\r\n                                    <span className=\"w-1.5 h-1.5 rounded-full bg-red-500 animate-pulse\"></span> REC\r\n                                </span>\r\n                                <span className=\"text-[10px] md:text-xs font-mono text-slate-500 mt-0.5 w-[35px] text-center\">{formatTime(elapsedTime)}</span>\r\n                            </div>\r\n\r\n                            <div className=\"h-6 w-px bg-slate-200 mx-1 md:mx-0 flex-shrink-0\"></div>\r\n\r\n                            <div className=\"flex flex-col overflow-hidden\">\r\n                                <div className=\"flex items-baseline space-x-2\">\r\n                                    <h2 className=\"text-xs md:text-sm font-bold text-slate-800 truncate max-w-[100px] md:max-w-[160px]\">{activeSession.classDetails.grade}</h2>\r\n                                    <span className=\"hidden sm:inline text-xs md:text-sm font-semibold text-indigo-600 truncate\">{activeSession.subject}</span>\r\n                                </div>\r\n                                <span className=\"text-[10px] md:text-xs text-slate-500 truncate max-w-[140px] md:max-w-xs\">{activeSession.topic || 'No topic set'}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"text-[10px] md:text-xs font-medium text-slate-500 font-mono hidden sm:block flex-shrink-0 border-l border-slate-200 pl-4 ml-4\">\r\n                            Ends in {parseInt(activeSession.duration) - Math.floor(elapsedTime / 60)}m\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* 2. Top Right View Toggle */}\r\n                <div className=\"absolute top-4 right-4 z-20 hidden md:block\">\r\n                    <button onClick={() => setViewMode(viewMode === 'grid' ? 'speaker' : 'grid')} className=\"p-2.5 bg-white hover:bg-slate-50 border border-slate-200 shadow-sm rounded-xl transition text-slate-600 hover:text-indigo-600\">\r\n                        {viewMode === 'grid' ? <FullScreenIcon className=\"w-5 h-5\" /> : <GridViewIcon className=\"w-5 h-5\" />}\r\n                    </button>\r\n                </div>\r\n\r\n                {/* 3. Main Content (Video/Grid) */}\r\n                <div\r\n                    onClick={() => isSidebarOpen && setIsSidebarOpen(false)}\r\n                    className=\"flex-1 w-full h-full flex flex-col items-center justify-center p-2 md:p-4 overflow-hidden relative\"\r\n                >\r\n                    {/* Fixed Container for Video/Grid - No Scroll */}\r\n                    <div className=\"w-full h-full flex flex-col items-center pt-16 pb-20 overflow-hidden\">\r\n                        {viewMode === 'speaker' ? (\r\n                            <div className=\"w-full max-w-6xl flex flex-col h-full justify-center items-center gap-2\">\r\n                                {/* Featured Speaker */}\r\n                                <div className=\"w-full flex-1 min-h-0 flex justify-center items-center\">\r\n                                    <div className=\"relative rounded-2xl md:rounded-3xl overflow-hidden bg-white shadow-xl border border-slate-100 ring-1 ring-black/5 group w-full max-w-5xl h-full max-h-full aspect-video md:aspect-auto object-contain\">\r\n                                        <video ref={videoRef} autoPlay muted playsInline className={`w-full h-full object-cover transition-transform duration-700 group-hover:scale-105 ${isCameraOff ? 'hidden' : 'block'}`} />\r\n                                        {isCameraOff && (\r\n                                            <div className=\"absolute inset-0 flex items-center justify-center bg-slate-50 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-white to-slate-200\">\r\n                                                <div className=\"w-20 h-20 md:w-32 md:h-32 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-3xl md:text-4xl font-bold text-white shadow-2xl ring-4 ring-white\">Y</div>\r\n                                            </div>\r\n                                        )}\r\n                                        <div className=\"absolute bottom-4 left-4 md:bottom-6 md:left-6\">\r\n                                            <div className=\"flex items-center space-x-2 bg-white/80 backdrop-blur-md px-3 py-1.5 md:px-4 md:py-2 rounded-xl shadow-lg border border-white/60\">\r\n                                                <AudioVisualizer />\r\n                                                <span className=\"font-bold text-slate-800 text-xs md:text-sm\">You (Host)</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Filmstrip - No Scrollbar */}\r\n                                <div className=\"relative w-full h-24 md:h-28 flex-shrink-0 group max-w-5xl\">\r\n                                    <button onClick={() => scrollParticipants('left')} className=\"absolute -left-4 md:-left-12 top-1/2 -translate-y-1/2 z-10 p-2 bg-white/80 shadow-md rounded-full text-slate-600 opacity-0 group-hover:opacity-100 transition hover:bg-white border border-slate-100 hidden md:block\">\r\n                                        <ChevronLeftIcon className=\"w-5 h-5\" />\r\n                                    </button>\r\n\r\n                                    <div ref={scrollContainerRef} className=\"flex space-x-2 overflow-x-auto pb-2 px-1 snap-x items-center h-full w-full mask-image-x no-scrollbar scrollbar-hide\">\r\n                                        {participants.map(p => (\r\n                                            <div key={p.id} className=\"snap-start flex-shrink-0 w-28 md:w-36 h-full\">\r\n                                                <ParticipantTile {...p} size=\"sm\" />\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n\r\n                                    <button onClick={() => scrollParticipants('right')} className=\"absolute -right-4 md:-right-12 top-1/2 -translate-y-1/2 z-10 p-2 bg-white/80 shadow-md rounded-full text-slate-600 opacity-0 group-hover:opacity-100 transition hover:bg-white border border-slate-100 hidden md:block\">\r\n                                        <ChevronRightIcon className=\"w-5 h-5\" />\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        ) : (\r\n                            // GRID VIEW\r\n                            <div className=\"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-4 w-full max-w-7xl mx-auto h-full content-start\">\r\n                                {/* Self */}\r\n                                <div className=\"relative rounded-xl md:rounded-2xl overflow-hidden shadow-sm border-2 border-green-400 w-full aspect-video bg-white\">\r\n                                    <video ref={videoRef} autoPlay muted playsInline className={`w-full h-full object-cover ${isCameraOff ? 'hidden' : 'block'}`} />\r\n                                    {isCameraOff && (\r\n                                        <div className=\"absolute inset-0 flex items-center justify-center bg-slate-100\">\r\n                                            <div className=\"w-16 h-16 md:w-20 md:h-20 rounded-full bg-indigo-600 flex items-center justify-center text-xl md:text-2xl font-bold text-white\">Y</div>\r\n                                        </div>\r\n                                    )}\r\n                                    <div className=\"absolute bottom-2 left-2 md:bottom-3 md:left-3 bg-white/90 px-2 py-1 rounded text-[10px] md:text-xs backdrop-blur-sm font-bold text-slate-800 shadow-sm\">You</div>\r\n                                </div>\r\n\r\n                                {/* Others */}\r\n                                {participants.map(p => (\r\n                                    <ParticipantTile key={p.id} {...p} size=\"sm\" />\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* 4. Floating Control Dock - Centered in Main Stage */}\r\n                <div className=\"absolute bottom-6 left-0 right-0 z-30 flex flex-col items-center justify-end pointer-events-none px-4\">\r\n\r\n                    {/* Reactions */}\r\n                    <div className=\"h-10 pointer-events-auto\">\r\n                        {showReactions && (\r\n                            <div className=\"flex space-x-2 bg-white p-2 rounded-full shadow-xl border border-slate-100 animate-slide-in-up mb-3\">\r\n                                <button className=\"p-1.5 hover:bg-slate-100 rounded-full text-xl transition hover:scale-125\"></button>\r\n                                <button className=\"p-1.5 hover:bg-slate-100 rounded-full text-xl transition hover:scale-125\"></button>\r\n                                <button className=\"p-1.5 hover:bg-slate-100 rounded-full text-xl transition hover:scale-125\"></button>\r\n                                <button className=\"p-1.5 hover:bg-slate-100 rounded-full text-xl transition hover:scale-125\"></button>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Dock */}\r\n                    <div className=\"bg-white/95 backdrop-blur-2xl border border-white/50 p-2 md:px-6 md:py-2.5 rounded-2xl flex items-center space-x-1 md:space-x-4 shadow-[0_8px_30px_rgb(0,0,0,0.12)] pointer-events-auto max-w-full overflow-x-auto no-scrollbar\">\r\n                        <ControlBtn\r\n                            icon={<MicrophoneIcon />}\r\n                            label=\"Mute\"\r\n                            active={isMuted}\r\n                            onClick={toggleMute}\r\n                            activeColor=\"bg-red-50 text-red-600 border border-red-100\"\r\n                            inactiveColor=\"hover:bg-slate-50 text-slate-600\"\r\n                        />\r\n                        <ControlBtn\r\n                            icon={<VideoIcon />}\r\n                            label=\"Video\"\r\n                            active={isCameraOff}\r\n                            onClick={toggleCamera}\r\n                            activeColor=\"bg-red-50 text-red-600 border border-red-100\"\r\n                            inactiveColor=\"hover:bg-slate-50 text-slate-600\"\r\n                        />\r\n                        <div className=\"w-px h-6 bg-slate-200 mx-1 hidden sm:block\"></div>\r\n                        <ControlBtn\r\n                            icon={<ReactionIcon className=\"w-5 h-5 md:w-6 md:h-6\" />}\r\n                            label=\"React\"\r\n                            active={showReactions}\r\n                            onClick={() => setShowReactions(!showReactions)}\r\n                            activeColor=\"bg-orange-50 text-orange-600 border border-orange-100\"\r\n                            inactiveColor=\"hover:bg-slate-50 text-slate-600\"\r\n                        />\r\n                        <ControlBtn\r\n                            icon={<HandIcon className=\"w-5 h-5 md:w-6 md:h-6\" />}\r\n                            label=\"Hand\"\r\n                            active={isHandRaised}\r\n                            onClick={() => setIsHandRaised(!isHandRaised)}\r\n                            activeColor=\"bg-yellow-50 text-yellow-600 border border-yellow-200\"\r\n                            inactiveColor=\"hover:bg-slate-50 text-slate-600\"\r\n                        />\r\n                        <div className=\"w-px h-6 bg-slate-200 mx-1 hidden sm:block\"></div>\r\n                        <ControlBtn\r\n                            icon={<UsersIcon />}\r\n                            label=\"People\"\r\n                            active={isSidebarOpen && activeSidebarTab === 'participants'}\r\n                            onClick={() => {\r\n                                if (isSidebarOpen && activeSidebarTab === 'participants') {\r\n                                    setIsSidebarOpen(false);\r\n                                } else {\r\n                                    setIsSidebarOpen(true);\r\n                                    setActiveSidebarTab('participants');\r\n                                }\r\n                            }}\r\n                            inactiveColor=\"hover:bg-slate-50 text-slate-600\"\r\n                            activeColor=\"bg-indigo-50 text-indigo-600 border border-indigo-100\"\r\n                        />\r\n                        <ControlBtn\r\n                            icon={<MessagesIcon />}\r\n                            label=\"Chat\"\r\n                            active={isSidebarOpen && activeSidebarTab === 'chat'}\r\n                            onClick={() => {\r\n                                if (isSidebarOpen && activeSidebarTab === 'chat') {\r\n                                    setIsSidebarOpen(false);\r\n                                } else {\r\n                                    setIsSidebarOpen(true);\r\n                                    setActiveSidebarTab('chat');\r\n                                }\r\n                            }}\r\n                            notificationCount={2}\r\n                            inactiveColor=\"hover:bg-slate-50 text-slate-600\"\r\n                            activeColor=\"bg-indigo-50 text-indigo-600 border border-indigo-100\"\r\n                        />\r\n\r\n                        {/* End Button */}\r\n                        <div className=\"pl-1 md:pl-4 md:border-l md:border-slate-200 ml-1 md:ml-4\">\r\n                            <button onClick={() => setActiveSession(null)} className=\"hidden md:block px-6 py-2.5 rounded-xl bg-red-600 hover:bg-red-700 text-white font-bold text-sm shadow-lg shadow-red-200 transition-transform hover:scale-105 active:scale-95 whitespace-nowrap\">\r\n                                End Class\r\n                            </button>\r\n                            <button onClick={() => setActiveSession(null)} className=\"md:hidden bg-red-600 text-white p-2.5 rounded-xl shadow-lg shadow-red-200\">\r\n                                <XIcon className=\"w-5 h-5\" />\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Session Time Up Notification Overlay */}\r\n                {elapsedTime >= parseInt(activeSession.duration) * 60 && (\r\n                    <div className=\"absolute top-20 left-1/2 -translate-x-1/2 z-50 animate-bounce-in\">\r\n                        <div className=\"bg-red-600/90 backdrop-blur-md text-white px-6 py-3 rounded-full shadow-2xl flex items-center space-x-3 border border-red-400\">\r\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 animate-pulse\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                            </svg>\r\n                            <div className=\"flex flex-col\">\r\n                                <span className=\"font-bold text-sm\">Class Duration Reached</span>\r\n                                <span className=\"text-xs text-red-100\">You can wrap up or continue.</span>\r\n                            </div>\r\n                            <button onClick={() => { /* Ideally add logic to dismiss just this notif, but for now it persists or we could add a dismiss state */ }} className=\"bg-white/20 hover:bg-white/30 p-1 rounded-full transition ml-2\">\r\n                                <XIcon className=\"w-4 h-4\" />\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n            </div>\r\n\r\n            {/* Sidebar - RESPONSIVE BEHAVIOR */}\r\n            {/* Mobile: Fixed Overlay with Backdrop */}\r\n            {isSidebarOpen && (\r\n                <div className=\"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 lg:hidden\" onClick={() => setIsSidebarOpen(false)} />\r\n            )}\r\n\r\n            {/* Sidebar Container */}\r\n            {/* On Desktop (lg): It is NOT fixed. It is a flex item that slides in. */}\r\n            {/* on Mobile: It IS fixed. */}\r\n            <div className={`\r\n                fixed inset-y-0 right-0 z-50 w-full sm:w-80 bg-white shadow-2xl transform transition-transform duration-300 ease-out sm:border-l border-slate-200\r\n                lg:relative lg:shadow-none lg:z-0 lg:transform-none lg:transition-[width,opacity] lg:duration-300 lg:ease-in-out\r\n                ${isSidebarOpen ? 'translate-x-0' : 'translate-x-full lg:translate-x-0'}\r\n                ${isSidebarOpen ? 'lg:w-96 lg:opacity-100' : 'lg:w-0 lg:opacity-0 lg:overflow-hidden'}\r\n            `}>\r\n                <div className=\"flex flex-col h-full bg-white/50 backdrop-blur-xl w-full\"> {/* Inner wrapper to ensure width stability during transition */}\r\n                    {/* Sidebar Header */}\r\n                    <div className=\"p-5 border-b border-slate-100 flex justify-between items-center bg-white/80 shrink-0\">\r\n                        <h3 className=\"font-bold text-lg text-slate-800 tracking-tight whitespace-nowrap\">{activeSidebarTab === 'chat' ? 'Messages' : 'Participants'}</h3>\r\n                        <button onClick={() => setIsSidebarOpen(false)} className=\"p-2 hover:bg-slate-100 rounded-full text-slate-400 hover:text-red-500 transition border border-transparent hover:border-slate-200\">\r\n                            <XIcon className=\"w-5 h-5\" />\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Sidebar Tabs */}\r\n                    <div className=\"px-5 pt-4 shrink-0\">\r\n                        <div className=\"flex p-1 bg-slate-100 rounded-xl\">\r\n                            <button onClick={() => setActiveSidebarTab('chat')} className={`flex-1 py-2 text-xs font-bold rounded-lg transition-all shadow-sm ${activeSidebarTab === 'chat' ? 'bg-white text-indigo-600 shadow-md' : 'text-slate-500 hover:text-slate-700 shadow-none'}`}>Chat</button>\r\n                            <button onClick={() => setActiveSidebarTab('participants')} className={`flex-1 py-2 text-xs font-bold rounded-lg transition-all shadow-sm ${activeSidebarTab === 'participants' ? 'bg-white text-indigo-600 shadow-md' : 'text-slate-500 hover:text-slate-700 shadow-none'}`}>People ({participants.length + 1})</button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Sidebar Content */}\r\n                    <div className=\"flex-1 overflow-y-auto p-5 custom-scrollbar min-w-[320px]\"> {/* min-w ensures content doesn't squish during transition */}\r\n                        {activeSidebarTab === 'chat' ? (\r\n                            <div className=\"space-y-6 pb-4\">\r\n                                <div className=\"flex items-center space-x-4\">\r\n                                    <div className=\"h-px bg-slate-200 flex-1\"></div>\r\n                                    <span className=\"text-[10px] font-bold text-slate-400 uppercase tracking-widest whitespace-nowrap\">Today</span>\r\n                                    <div className=\"h-px bg-slate-200 flex-1\"></div>\r\n                                </div>\r\n                                <ChatBubble name=\"Adebayo\" message=\"Good morning Mrs. Funke! Yes, I can hear you clearly.\" time=\"10:24 AM\" />\r\n                                <ChatBubble name=\"Chidinma\" message=\"Can we review the last assignment first?\" time=\"10:25 AM\" />\r\n                                <ChatBubble name=\"You\" message=\"Sure, Chidinma. Let's start with that.\" time=\"10:26 AM\" isYou />\r\n                                <ChatBubble name=\"Musa\" message=\"I had trouble with question #3.\" time=\"10:28 AM\" />\r\n                                <ChatBubble name=\"Fatima\" message=\"Same here!\" time=\"10:28 AM\" />\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"space-y-2\">\r\n                                {/* Host Item */}\r\n                                <div className=\"flex items-center justify-between p-3 rounded-xl bg-indigo-50/50 border border-indigo-100\">\r\n                                    <div className=\"flex items-center space-x-3\">\r\n                                        <div className=\"w-10 h-10 rounded-full bg-indigo-600 flex items-center justify-center text-sm font-bold text-white shadow-md ring-2 ring-white\">Y</div>\r\n                                        <div>\r\n                                            <p className=\"text-sm font-bold text-slate-800 whitespace-nowrap\">You (Host)</p>\r\n                                            <div className=\"flex items-center space-x-1 mt-0.5\">\r\n                                                <span className=\"w-1.5 h-1.5 rounded-full bg-green-500\"></span>\r\n                                                <p className=\"text-xs text-slate-500\">Connected</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"flex space-x-1\">\r\n                                        <button className={`p-2 rounded-lg transition ${isMuted ? 'text-red-500 bg-red-50' : 'text-slate-400 hover:bg-slate-200'}`}><MicrophoneIcon className=\"w-4 h-4\" /></button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"h-px bg-slate-100 my-2\"></div>\r\n\r\n                                {/* Participants */}\r\n                                {participants.map(p => (\r\n                                    <div key={p.id} className=\"flex items-center justify-between p-3 rounded-xl hover:bg-slate-50 cursor-pointer group transition border border-transparent hover:border-slate-100\">\r\n                                        <div className=\"flex items-center space-x-3\">\r\n                                            <div className=\"w-10 h-10 rounded-full bg-slate-200 text-slate-600 flex items-center justify-center text-sm font-bold shadow-sm\">{p.name.charAt(0)}</div>\r\n                                            <div>\r\n                                                <p className=\"text-sm font-semibold text-slate-700 whitespace-nowrap\">{p.name}</p>\r\n                                                {p.isHandRaised && <p className=\"text-xs text-yellow-600 font-medium flex items-center mt-0.5 animate-pulse\"><HandIcon className=\"w-3 h-3 mr-1\" /> Raised Hand</p>}\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"flex space-x-1 items-center\">\r\n                                            {p.isMuted && <MicrophoneIcon className=\"w-4 h-4 text-red-400\" />}\r\n                                            <button className=\"opacity-0 group-hover:opacity-100 p-2 hover:bg-slate-200 rounded-lg text-slate-400 transition ml-1\"><DotsHorizontalIcon className=\"w-4 h-4\" /></button>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Chat Input */}\r\n                    {activeSidebarTab === 'chat' && (\r\n                        <div className=\"p-4 bg-white border-t border-slate-100 pb-8 shrink-0\">\r\n                            <div className=\"relative group\">\r\n                                <input type=\"text\" placeholder=\"Type a message...\" className=\"w-full bg-slate-50 text-slate-800 rounded-2xl pl-5 pr-12 py-4 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:bg-white transition border border-slate-200 focus:border-indigo-200 shadow-sm group-hover:shadow-md\" />\r\n                                <button className=\"absolute right-3 top-1/2 -translate-y-1/2 p-2 bg-indigo-600 rounded-xl hover:bg-indigo-700 transition shadow-lg shadow-indigo-200 text-white transform active:scale-95\">\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\" /></svg>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Helper for control buttons on dock\r\nconst ControlBtn: React.FC<{\r\n    icon: React.ReactNode,\r\n    label: string,\r\n    active: boolean,\r\n    onClick: () => void,\r\n    activeColor?: string,\r\n    inactiveColor?: string,\r\n    notificationCount?: number\r\n}> = ({ icon, label, active, onClick, activeColor, inactiveColor, notificationCount }) => (\r\n    <div className=\"group relative flex flex-col items-center flex-shrink-0\">\r\n        {/* ToolTip - Desktop Only */}\r\n        <div className=\"absolute -top-10 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-800 text-white text-[10px] px-2 py-1 rounded shadow-lg pointer-events-none whitespace-nowrap hidden md:block z-50\">\r\n            {label}\r\n        </div>\r\n\r\n        <button onClick={onClick} className={`p-2.5 md:p-3.5 rounded-xl transition-all duration-200 relative ${active ? activeColor : inactiveColor}`}>\r\n            <span className=\"w-5 h-5 md:w-6 md:h-6\">{icon}</span>\r\n            {notificationCount && (\r\n                <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] w-4 h-4 flex items-center justify-center rounded-full border-2 border-white shadow-sm font-bold\">\r\n                    {notificationCount}\r\n                </span>\r\n            )}\r\n        </button>\r\n    </div>\r\n);\r\n\r\nexport default VirtualClassScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}