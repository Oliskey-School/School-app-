{"ast":null,"code":"import { QueryClient } from '@tanstack/react-query';\nimport { get, set, del } from 'idb-keyval';\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      staleTime: 1000 * 60 * 5,\n      gcTime: 1000 * 60 * 60 * 24,\n      retry: 1,\n      refetchOnWindowFocus: false\n    }\n  }\n});\nexport const idbPersister = {\n  persistClient: async client => {\n    try {\n      await set('reactQueryClient', client);\n    } catch (error) {\n      console.error('Error persisting cache:', error);\n    }\n  },\n  restoreClient: async () => {\n    try {\n      return await get('reactQueryClient');\n    } catch (error) {\n      console.error('Error restoring cache:', error);\n      return undefined;\n    }\n  },\n  removeClient: async () => {\n    await del('reactQueryClient');\n  }\n};","map":{"version":3,"names":["QueryClient","get","set","del","queryClient","defaultOptions","queries","staleTime","gcTime","retry","refetchOnWindowFocus","idbPersister","persistClient","client","error","console","restoreClient","undefined","removeClient"],"sources":["C:/Users/USER/OneDrive/Desktop/Project/school-app-/lib/react-query.ts"],"sourcesContent":["import { QueryClient } from '@tanstack/react-query';\r\nimport { get, set, del } from 'idb-keyval';\r\nimport { Persister } from '@tanstack/react-query-persist-client';\r\n\r\nexport const queryClient = new QueryClient({\r\n    defaultOptions: {\r\n        queries: {\r\n            staleTime: 1000 * 60 * 5, // 5 minutes\r\n            gcTime: 1000 * 60 * 60 * 24, // 24 hours\r\n            retry: 1,\r\n            refetchOnWindowFocus: false,\r\n        },\r\n    },\r\n});\r\n\r\nexport const idbPersister: Persister = {\r\n    persistClient: async (client) => {\r\n        try {\r\n            await set('reactQueryClient', client);\r\n        } catch (error) {\r\n            console.error('Error persisting cache:', error);\r\n        }\r\n    },\r\n    restoreClient: async () => {\r\n        try {\r\n            return await get('reactQueryClient');\r\n        } catch (error) {\r\n            console.error('Error restoring cache:', error);\r\n            return undefined;\r\n        }\r\n    },\r\n    removeClient: async () => {\r\n        await del('reactQueryClient');\r\n    },\r\n};\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,uBAAuB;AACnD,SAASC,GAAG,EAAEC,GAAG,EAAEC,GAAG,QAAQ,YAAY;AAG1C,OAAO,MAAMC,WAAW,GAAG,IAAIJ,WAAW,CAAC;EACvCK,cAAc,EAAE;IACZC,OAAO,EAAE;MACLC,SAAS,EAAE,IAAI,GAAG,EAAE,GAAG,CAAC;MACxBC,MAAM,EAAE,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;MAC3BC,KAAK,EAAE,CAAC;MACRC,oBAAoB,EAAE;IAC1B;EACJ;AACJ,CAAC,CAAC;AAEF,OAAO,MAAMC,YAAuB,GAAG;EACnCC,aAAa,EAAE,MAAOC,MAAM,IAAK;IAC7B,IAAI;MACA,MAAMX,GAAG,CAAC,kBAAkB,EAAEW,MAAM,CAAC;IACzC,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACnD;EACJ,CAAC;EACDE,aAAa,EAAE,MAAAA,CAAA,KAAY;IACvB,IAAI;MACA,OAAO,MAAMf,GAAG,CAAC,kBAAkB,CAAC;IACxC,CAAC,CAAC,OAAOa,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9C,OAAOG,SAAS;IACpB;EACJ,CAAC;EACDC,YAAY,EAAE,MAAAA,CAAA,KAAY;IACtB,MAAMf,GAAG,CAAC,kBAAkB,CAAC;EACjC;AACJ,CAAC","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}