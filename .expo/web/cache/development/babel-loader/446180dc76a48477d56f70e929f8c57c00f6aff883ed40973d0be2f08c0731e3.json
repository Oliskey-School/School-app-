{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\OneDrive\\\\Desktop\\\\Project\\\\school-app-\\\\components\\\\admin\\\\StudentListScreen.tsx\";\nimport React, { useState, useMemo, useEffect } from 'react';\nimport { SearchIcon, CheckCircleIcon, XCircleIcon, ExclamationCircleIcon, PlusIcon, ClockIcon, ChevronRightIcon } from '../../constants';\nimport { supabase } from '../../lib/supabase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AttendanceStatusIndicator = ({\n  status\n}) => {\n  switch (status) {\n    case 'Present':\n      return _jsxDEV(CheckCircleIcon, {\n        className: \"text-green-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 14\n      }, this);\n    case 'Absent':\n      return _jsxDEV(XCircleIcon, {\n        className: \"text-red-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 14\n      }, this);\n    case 'Leave':\n      return _jsxDEV(ExclamationCircleIcon, {\n        className: \"text-orange-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 14\n      }, this);\n    case 'Late':\n      return _jsxDEV(ClockIcon, {\n        className: \"text-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 14\n      }, this);\n    default:\n      return null;\n  }\n};\nconst StudentRow = ({\n  student,\n  onSelect\n}) => _jsxDEV(\"button\", {\n  onClick: () => onSelect(student),\n  className: \"w-full text-left bg-white rounded-lg p-2 flex items-center space-x-3 transition-all hover:bg-gray-100 ring-1 ring-gray-100\",\n  \"aria-label\": `View profile for ${student.name}`,\n  children: [_jsxDEV(\"img\", {\n    src: student.avatarUrl,\n    alt: student.name,\n    className: \"w-10 h-10 rounded-full object-cover\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this), _jsxDEV(\"div\", {\n    className: \"flex-grow min-w-0\",\n    children: [_jsxDEV(\"p\", {\n      className: \"font-bold text-sm text-gray-800 truncate\",\n      children: student.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), _jsxDEV(\"p\", {\n      className: \"text-xs text-gray-500\",\n      children: [\"ID: SCH-0\", student.id]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this), _jsxDEV(\"div\", {\n    className: \"flex items-center space-x-3\",\n    children: _jsxDEV(AttendanceStatusIndicator, {\n      status: student.attendanceStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this)]\n}, student.id, true, {\n  fileName: _jsxFileName,\n  lineNumber: 33,\n  columnNumber: 3\n}, this);\nconst StageAccordion = ({\n  title,\n  count,\n  children,\n  defaultOpen = false\n}) => {\n  const [isOpen, setIsOpen] = useState(defaultOpen);\n  return _jsxDEV(\"div\", {\n    className: \"bg-white rounded-2xl shadow-sm overflow-hidden\",\n    children: [_jsxDEV(\"button\", {\n      onClick: () => setIsOpen(!isOpen),\n      className: \"w-full flex justify-between items-center p-4 text-left\",\n      \"aria-expanded\": isOpen,\n      children: [_jsxDEV(\"h3\", {\n        className: \"font-bold text-lg text-gray-800\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), _jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [_jsxDEV(\"span\", {\n          className: \"text-sm font-semibold text-gray-700 bg-gray-100 px-2.5 py-1 rounded-full\",\n          children: [count, \" Students\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), _jsxDEV(ChevronRightIcon, {\n          className: `h-5 w-5 text-gray-500 transition-transform duration-200 ${isOpen ? 'rotate-90' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), isOpen && _jsxDEV(\"div\", {\n      className: \"px-4 pb-4 pt-0 space-y-2\",\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\nconst SubStageAccordion = ({\n  title,\n  count,\n  children,\n  defaultOpen = false\n}) => {\n  const [isOpen, setIsOpen] = useState(defaultOpen);\n  return _jsxDEV(\"div\", {\n    className: \"bg-gray-50 rounded-xl overflow-hidden\",\n    children: [_jsxDEV(\"button\", {\n      onClick: () => setIsOpen(!isOpen),\n      className: \"w-full flex justify-between items-center p-3 text-left hover:bg-gray-100\",\n      \"aria-expanded\": isOpen,\n      children: [_jsxDEV(\"h4\", {\n        className: \"font-semibold text-gray-700\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), _jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [_jsxDEV(\"span\", {\n          className: \"text-xs font-medium text-gray-600 bg-gray-200 px-2 py-0.5 rounded-full\",\n          children: count\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), _jsxDEV(ChevronRightIcon, {\n          className: `h-5 w-5 text-gray-400 transition-transform duration-200 ${isOpen ? 'rotate-90' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), isOpen && _jsxDEV(\"div\", {\n      className: \"p-2 space-y-2\",\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\nconst ClassAccordion = ({\n  title,\n  count,\n  children,\n  defaultOpen = false\n}) => {\n  const [isOpen, setIsOpen] = useState(defaultOpen);\n  return _jsxDEV(\"div\", {\n    className: \"bg-white rounded-xl overflow-hidden border\",\n    children: [_jsxDEV(\"button\", {\n      onClick: () => setIsOpen(!isOpen),\n      className: \"w-full flex justify-between items-center p-3 text-left hover:bg-gray-100\",\n      \"aria-expanded\": isOpen,\n      children: [_jsxDEV(\"h4\", {\n        className: \"font-semibold text-sm text-gray-600\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), _jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [_jsxDEV(\"span\", {\n          className: \"text-xs font-medium text-gray-500 bg-gray-100 px-2 py-0.5 rounded-full\",\n          children: count\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), _jsxDEV(ChevronRightIcon, {\n          className: `h-4 w-4 text-gray-400 transition-transform duration-200 ${isOpen ? 'rotate-90' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), isOpen && _jsxDEV(\"div\", {\n      className: \"p-2 space-y-2\",\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n};\nconst StudentListScreen = ({\n  filter,\n  navigateTo\n}) => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [students, setStudents] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [fetchError, setFetchError] = useState(null);\n  useEffect(() => {\n    fetchStudents();\n    const subscription = supabase.channel('public:students').on('postgres_changes', {\n      event: '*',\n      schema: 'public',\n      table: 'students'\n    }, payload => {\n      console.log('Student change received:', payload);\n      fetchStudents();\n    }).subscribe();\n    return () => {\n      supabase.removeChannel(subscription);\n    };\n  }, []);\n  const fetchStudents = async () => {\n    setIsLoading(true);\n    setFetchError(null);\n    try {\n      const {\n        data,\n        error\n      } = await supabase.from('students').select('*').order('grade', {\n        ascending: false\n      });\n      console.debug('fetchStudents response', {\n        data,\n        error\n      });\n      if (error) throw error;\n      const transformedData = (data || []).map(s => ({\n        id: s.id,\n        name: s.name,\n        avatarUrl: s.avatar_url || 'https://i.pravatar.cc/150',\n        grade: s.grade,\n        section: s.section,\n        department: s.department,\n        attendanceStatus: s.attendance_status || 'Absent',\n        birthday: s.birthday\n      }));\n      setStudents(transformedData);\n    } catch (error) {\n      console.error('Error fetching students:', error);\n      setFetchError(error?.message || String(error));\n      setStudents([]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleStudentSelect = student => {\n    navigateTo('studentProfileAdminView', student.name, {\n      student\n    });\n  };\n  const studentsByStageAndClass = useMemo(() => {\n    const stages = {\n      primary: {\n        lower: {},\n        upper: {}\n      },\n      junior: {},\n      senior: {}\n    };\n    const allStudents = students.filter(student => student.name.toLowerCase().includes(searchTerm.toLowerCase()));\n    allStudents.forEach(student => {\n      const className = `Grade ${student.grade}${student.section}`;\n      if (student.grade >= 1 && student.grade <= 3) {\n        if (!stages.primary.lower[className]) stages.primary.lower[className] = [];\n        stages.primary.lower[className].push(student);\n      } else if (student.grade >= 4 && student.grade <= 6) {\n        if (!stages.primary.upper[className]) stages.primary.upper[className] = [];\n        stages.primary.upper[className].push(student);\n      } else if (student.grade >= 7 && student.grade <= 9) {\n        if (!stages.junior[className]) stages.junior[className] = [];\n        stages.junior[className].push(student);\n      } else if (student.grade >= 10 && student.grade <= 12) {\n        if (!stages.senior[className]) stages.senior[className] = [];\n        stages.senior[className].push(student);\n      }\n    });\n    const sortClasses = classGroup => {\n      const sortedClasses = Object.keys(classGroup).sort((a, b) => {\n        const gradeA = parseInt(a.match(/\\d+/)?.[0] || '0');\n        const gradeB = parseInt(b.match(/\\d+/)?.[0] || '0');\n        if (gradeA !== gradeB) return gradeB - gradeA;\n        const sectionA = a.match(/[A-Z]/)?.[0] || '';\n        const sectionB = b.match(/[A-Z]/)?.[0] || '';\n        return sectionA.localeCompare(sectionB);\n      });\n      const sortedGroup = {};\n      sortedClasses.forEach(className => {\n        sortedGroup[className] = classGroup[className];\n      });\n      return sortedGroup;\n    };\n    stages.primary.lower = sortClasses(stages.primary.lower);\n    stages.primary.upper = sortClasses(stages.primary.upper);\n    stages.junior = sortClasses(stages.junior);\n    stages.senior = sortClasses(stages.senior);\n    return stages;\n  }, [searchTerm, students]);\n  if (filter) {\n    const filteredStudents = students.filter(student => student.grade === filter.grade && student.section === filter.section && student.name.toLowerCase().includes(searchTerm.toLowerCase()));\n    return _jsxDEV(\"div\", {\n      className: \"flex flex-col h-full bg-gray-100 relative\",\n      children: [_jsxDEV(\"div\", {\n        className: \"p-4 bg-gray-100 z-10\",\n        children: _jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [_jsxDEV(\"span\", {\n            className: \"absolute inset-y-0 left-0 flex items-center pl-3\",\n            children: _jsxDEV(SearchIcon, {\n              className: \"text-gray-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 140\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 73\n          }, this), _jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search by name...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value),\n            className: \"w-full pl-10 pr-4 py-2.5 text-gray-700 bg-white border border-gray-300 rounded-lg focus:ring-sky-500 focus:border-sky-500\",\n            \"aria-label\": \"Search for a student\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 187\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 47\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), _jsxDEV(\"main\", {\n        className: \"flex-grow px-4 pb-24 space-y-3 overflow-y-auto\",\n        children: isLoading ? _jsxDEV(\"div\", {\n          className: \"flex justify-center items-center h-full\",\n          children: _jsxDEV(\"div\", {\n            className: \"text-gray-500\",\n            children: \"Loading students...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this) : filteredStudents.length > 0 ? filteredStudents.map(student => _jsxDEV(StudentRow, {\n          student: student,\n          onSelect: handleStudentSelect\n        }, student.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 15\n        }, this)) : _jsxDEV(\"div\", {\n          className: \"flex justify-center items-center h-full\",\n          children: _jsxDEV(\"div\", {\n            className: \"text-gray-500\",\n            children: \"No students found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this), _jsxDEV(\"div\", {\n        className: \"absolute bottom-6 right-6\",\n        children: _jsxDEV(\"button\", {\n          onClick: () => navigateTo('addStudent', 'Add New Student', {}),\n          className: \"bg-sky-500 text-white p-4 rounded-full shadow-lg hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500\",\n          \"aria-label\": \"Add new student\",\n          children: _jsxDEV(PlusIcon, {\n            className: \"h-6 w-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 302\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 52\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this);\n  }\n  const seniorCount = Object.values(studentsByStageAndClass.senior).flat().length;\n  const juniorCount = Object.values(studentsByStageAndClass.junior).flat().length;\n  const lowerPrimaryCount = Object.values(studentsByStageAndClass.primary.lower).flat().length;\n  const upperPrimaryCount = Object.values(studentsByStageAndClass.primary.upper).flat().length;\n  const primaryCount = lowerPrimaryCount + upperPrimaryCount;\n  return _jsxDEV(\"div\", {\n    className: \"flex flex-col h-full bg-gray-100 relative\",\n    children: [_jsxDEV(\"div\", {\n      className: \"p-4 bg-gray-100 z-10\",\n      children: _jsxDEV(\"div\", {\n        className: \"relative\",\n        children: [_jsxDEV(\"span\", {\n          className: \"absolute inset-y-0 left-0 flex items-center pl-3\",\n          children: _jsxDEV(SearchIcon, {\n            className: \"text-gray-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), _jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search by name...\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          className: \"w-full pl-10 pr-4 py-2.5 text-gray-700 bg-white border border-gray-300 rounded-lg focus:ring-sky-500 focus:border-sky-500\",\n          \"aria-label\": \"Search for a student\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this), _jsxDEV(\"main\", {\n      className: \"flex-grow px-4 pb-24 space-y-4 overflow-y-auto\",\n      children: [seniorCount > 0 && _jsxDEV(StageAccordion, {\n        title: \"Senior Secondary\",\n        count: seniorCount,\n        children: Object.entries(studentsByStageAndClass.senior).map(([className, students]) => _jsxDEV(SubStageAccordion, {\n          title: className,\n          count: students.length,\n          children: students.map(s => _jsxDEV(StudentRow, {\n            student: s,\n            onSelect: handleStudentSelect\n          }, s.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 36\n          }, this))\n        }, className, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 11\n      }, this), juniorCount > 0 && _jsxDEV(StageAccordion, {\n        title: \"Junior Secondary\",\n        count: juniorCount,\n        children: Object.entries(studentsByStageAndClass.junior).map(([className, students]) => _jsxDEV(SubStageAccordion, {\n          title: className,\n          count: students.length,\n          children: students.map(s => _jsxDEV(StudentRow, {\n            student: s,\n            onSelect: handleStudentSelect\n          }, s.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 36\n          }, this))\n        }, className, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 11\n      }, this), primaryCount > 0 && _jsxDEV(StageAccordion, {\n        title: \"Primary School\",\n        count: primaryCount,\n        children: [upperPrimaryCount > 0 && _jsxDEV(SubStageAccordion, {\n          title: \"Upper Primary (4-6)\",\n          count: upperPrimaryCount,\n          children: Object.entries(studentsByStageAndClass.primary.upper).map(([className, students]) => _jsxDEV(ClassAccordion, {\n            title: className,\n            count: students.length,\n            children: students.map(s => _jsxDEV(StudentRow, {\n              student: s,\n              onSelect: handleStudentSelect\n            }, s.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 40\n            }, this))\n          }, className, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 15\n        }, this), lowerPrimaryCount > 0 && _jsxDEV(SubStageAccordion, {\n          title: \"Lower Primary (1-3)\",\n          count: lowerPrimaryCount,\n          children: Object.entries(studentsByStageAndClass.primary.lower).map(([className, students]) => _jsxDEV(ClassAccordion, {\n            title: className,\n            count: students.length,\n            children: students.map(s => _jsxDEV(StudentRow, {\n              student: s,\n              onSelect: handleStudentSelect\n            }, s.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 40\n            }, this))\n          }, className, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 7\n    }, this), _jsxDEV(\"div\", {\n      className: \"absolute bottom-6 right-6\",\n      children: _jsxDEV(\"button\", {\n        onClick: () => navigateTo('addStudent', 'Add New Student', {}),\n        className: \"bg-sky-500 text-white p-4 rounded-full shadow-lg hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500\",\n        \"aria-label\": \"Add new student\",\n        children: _jsxDEV(PlusIcon, {\n          className: \"h-6 w-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 259\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 283,\n    columnNumber: 5\n  }, this);\n};\nexport default StudentListScreen;","map":{"version":3,"names":["React","useState","useMemo","useEffect","SearchIcon","CheckCircleIcon","XCircleIcon","ExclamationCircleIcon","PlusIcon","ClockIcon","ChevronRightIcon","supabase","jsxDEV","_jsxDEV","AttendanceStatusIndicator","status","className","fileName","_jsxFileName","lineNumber","columnNumber","StudentRow","student","onSelect","onClick","name","children","src","avatarUrl","alt","id","attendanceStatus","StageAccordion","title","count","defaultOpen","isOpen","setIsOpen","SubStageAccordion","ClassAccordion","StudentListScreen","filter","navigateTo","searchTerm","setSearchTerm","students","setStudents","isLoading","setIsLoading","fetchError","setFetchError","fetchStudents","subscription","channel","on","event","schema","table","payload","console","log","subscribe","removeChannel","data","error","from","select","order","ascending","debug","transformedData","map","s","avatar_url","grade","section","department","attendance_status","birthday","message","String","handleStudentSelect","studentsByStageAndClass","stages","primary","lower","upper","junior","senior","allStudents","toLowerCase","includes","forEach","push","sortClasses","classGroup","sortedClasses","Object","keys","sort","a","b","gradeA","parseInt","match","gradeB","sectionA","sectionB","localeCompare","sortedGroup","filteredStudents","type","placeholder","value","onChange","e","target","length","seniorCount","values","flat","juniorCount","lowerPrimaryCount","upperPrimaryCount","primaryCount","entries"],"sources":["C:/Users/USER/OneDrive/Desktop/Project/school-app-/components/admin/StudentListScreen.tsx"],"sourcesContent":["\r\n\r\nimport React, { useState, useMemo, useEffect } from 'react';\r\nimport {\r\n  SearchIcon,\r\n  CheckCircleIcon,\r\n  XCircleIcon,\r\n  ExclamationCircleIcon,\r\n  PlusIcon,\r\n  gradeColors,\r\n  ClockIcon,\r\n  ChevronRightIcon\r\n} from '../../constants';\r\nimport { Student, AttendanceStatus } from '../../types';\r\nimport { supabase } from '../../lib/supabase';\r\n\r\nconst AttendanceStatusIndicator: React.FC<{ status: AttendanceStatus }> = ({ status }) => {\r\n  switch (status) {\r\n    case 'Present':\r\n      return <CheckCircleIcon className=\"text-green-500\" />;\r\n    case 'Absent':\r\n      return <XCircleIcon className=\"text-red-500\" />;\r\n    case 'Leave':\r\n      return <ExclamationCircleIcon className=\"text-orange-500\" />;\r\n    case 'Late':\r\n      return <ClockIcon className=\"text-blue-500\" />;\r\n    default:\r\n      return null;\r\n  }\r\n};\r\n\r\nconst StudentRow: React.FC<{ student: Student; onSelect: (student: Student) => void; }> = ({ student, onSelect }) => (\r\n  <button\r\n    key={student.id}\r\n    onClick={() => onSelect(student)}\r\n    className=\"w-full text-left bg-white rounded-lg p-2 flex items-center space-x-3 transition-all hover:bg-gray-100 ring-1 ring-gray-100\"\r\n    aria-label={`View profile for ${student.name}`}\r\n  >\r\n    <img src={student.avatarUrl} alt={student.name} className=\"w-10 h-10 rounded-full object-cover\" />\r\n    <div className=\"flex-grow min-w-0\">\r\n      <p className=\"font-bold text-sm text-gray-800 truncate\">{student.name}</p>\r\n      <p className=\"text-xs text-gray-500\">ID: SCH-0{student.id}</p>\r\n    </div>\r\n    <div className=\"flex items-center space-x-3\">\r\n      <AttendanceStatusIndicator status={student.attendanceStatus} />\r\n    </div>\r\n  </button>\r\n);\r\n\r\nconst StageAccordion: React.FC<{ title: string; count: number; children: React.ReactNode, defaultOpen?: boolean }> = ({ title, count, children, defaultOpen = false }) => {\r\n  const [isOpen, setIsOpen] = useState(defaultOpen);\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-2xl shadow-sm overflow-hidden\">\r\n      <button\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className=\"w-full flex justify-between items-center p-4 text-left\"\r\n        aria-expanded={isOpen}\r\n      >\r\n        <h3 className=\"font-bold text-lg text-gray-800\">{title}</h3>\r\n        <div className=\"flex items-center space-x-2\">\r\n          <span className=\"text-sm font-semibold text-gray-700 bg-gray-100 px-2.5 py-1 rounded-full\">{count} Students</span>\r\n          <ChevronRightIcon className={`h-5 w-5 text-gray-500 transition-transform duration-200 ${isOpen ? 'rotate-90' : ''}`} />\r\n        </div>\r\n      </button>\r\n      {isOpen && (\r\n        <div className=\"px-4 pb-4 pt-0 space-y-2\">\r\n          {children}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst SubStageAccordion: React.FC<{ title: string; count: number; children: React.ReactNode, defaultOpen?: boolean }> = ({ title, count, children, defaultOpen = false }) => {\r\n  const [isOpen, setIsOpen] = useState(defaultOpen);\r\n  return (\r\n    <div className=\"bg-gray-50 rounded-xl overflow-hidden\">\r\n      <button\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className=\"w-full flex justify-between items-center p-3 text-left hover:bg-gray-100\"\r\n        aria-expanded={isOpen}\r\n      >\r\n        <h4 className=\"font-semibold text-gray-700\">{title}</h4>\r\n        <div className=\"flex items-center space-x-2\">\r\n          <span className=\"text-xs font-medium text-gray-600 bg-gray-200 px-2 py-0.5 rounded-full\">{count}</span>\r\n          <ChevronRightIcon className={`h-5 w-5 text-gray-400 transition-transform duration-200 ${isOpen ? 'rotate-90' : ''}`} />\r\n        </div>\r\n      </button>\r\n      {isOpen && (\r\n        <div className=\"p-2 space-y-2\">\r\n          {children}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ClassAccordion: React.FC<{ title: string; count: number; children: React.ReactNode, defaultOpen?: boolean }> = ({ title, count, children, defaultOpen = false }) => {\r\n  const [isOpen, setIsOpen] = useState(defaultOpen);\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-xl overflow-hidden border\">\r\n      <button\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className=\"w-full flex justify-between items-center p-3 text-left hover:bg-gray-100\"\r\n        aria-expanded={isOpen}\r\n      >\r\n        <h4 className=\"font-semibold text-sm text-gray-600\">{title}</h4>\r\n        <div className=\"flex items-center space-x-2\">\r\n          <span className=\"text-xs font-medium text-gray-500 bg-gray-100 px-2 py-0.5 rounded-full\">{count}</span>\r\n          <ChevronRightIcon className={`h-4 w-4 text-gray-400 transition-transform duration-200 ${isOpen ? 'rotate-90' : ''}`} />\r\n        </div>\r\n      </button>\r\n      {isOpen && (\r\n        <div className=\"p-2 space-y-2\">\r\n          {children}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface StudentListScreenProps {\r\n  filter?: { grade: number; section: string; };\r\n  navigateTo: (view: string, title: string, props?: any) => void;\r\n}\r\n\r\nconst StudentListScreen: React.FC<StudentListScreenProps> = ({ filter, navigateTo }) => {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [students, setStudents] = useState<Student[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [fetchError, setFetchError] = useState<string | null>(null);\r\n\r\n  // Fetch students from Supabase\r\n  useEffect(() => {\r\n    fetchStudents();\r\n\r\n    // Realtime Subscription\r\n    const subscription = supabase\r\n      .channel('public:students')\r\n      .on('postgres_changes', { event: '*', schema: 'public', table: 'students' }, (payload) => {\r\n        console.log('Student change received:', payload);\r\n        fetchStudents();\r\n      })\r\n      .subscribe();\r\n\r\n    return () => {\r\n      supabase.removeChannel(subscription);\r\n    };\r\n  }, []);\r\n\r\n  const fetchStudents = async () => {\r\n    setIsLoading(true);\r\n    setFetchError(null);\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('students')\r\n        .select('*')\r\n        .order('grade', { ascending: false });\r\n\r\n      // log response for debugging\r\n      console.debug('fetchStudents response', { data, error });\r\n\r\n      if (error) throw error;\r\n\r\n      // Transform Supabase data to match Student interface\r\n      const transformedData: Student[] = (data || []).map((s: any) => ({\r\n        id: s.id,\r\n        name: s.name,\r\n        avatarUrl: s.avatar_url || 'https://i.pravatar.cc/150',\r\n        grade: s.grade,\r\n        section: s.section,\r\n        department: s.department,\r\n        attendanceStatus: s.attendance_status || 'Absent',\r\n        birthday: s.birthday\r\n      }));\r\n\r\n      setStudents(transformedData);\r\n    } catch (error) {\r\n      console.error('Error fetching students:', error);\r\n      setFetchError((error as any)?.message || String(error));\r\n      setStudents([]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleStudentSelect = (student: Student) => {\r\n    navigateTo('studentProfileAdminView', student.name, { student });\r\n  };\r\n\r\n  const studentsByStageAndClass = useMemo(() => {\r\n    const stages: {\r\n      primary: {\r\n        lower: { [className: string]: Student[] };\r\n        upper: { [className: string]: Student[] };\r\n      };\r\n      junior: { [className: string]: Student[] };\r\n      senior: { [className: string]: Student[] };\r\n    } = { primary: { lower: {}, upper: {} }, junior: {}, senior: {} };\r\n\r\n    const allStudents = students.filter(student => student.name.toLowerCase().includes(searchTerm.toLowerCase()));\r\n\r\n    allStudents.forEach(student => {\r\n      const className = `Grade ${student.grade}${student.section}`;\r\n      if (student.grade >= 1 && student.grade <= 3) { // Lower Primary\r\n        if (!stages.primary.lower[className]) stages.primary.lower[className] = [];\r\n        stages.primary.lower[className].push(student);\r\n      } else if (student.grade >= 4 && student.grade <= 6) { // Upper Primary\r\n        if (!stages.primary.upper[className]) stages.primary.upper[className] = [];\r\n        stages.primary.upper[className].push(student);\r\n      } else if (student.grade >= 7 && student.grade <= 9) {\r\n        if (!stages.junior[className]) stages.junior[className] = [];\r\n        stages.junior[className].push(student);\r\n      } else if (student.grade >= 10 && student.grade <= 12) {\r\n        if (!stages.senior[className]) stages.senior[className] = [];\r\n        stages.senior[className].push(student);\r\n      }\r\n    });\r\n\r\n    // Sort classes within each stage/sub-stage\r\n    const sortClasses = (classGroup: { [className: string]: Student[] }) => {\r\n      const sortedClasses = Object.keys(classGroup).sort((a, b) => {\r\n        const gradeA = parseInt(a.match(/\\d+/)?.[0] || '0');\r\n        const gradeB = parseInt(b.match(/\\d+/)?.[0] || '0');\r\n        if (gradeA !== gradeB) return gradeB - gradeA;\r\n        const sectionA = a.match(/[A-Z]/)?.[0] || '';\r\n        const sectionB = b.match(/[A-Z]/)?.[0] || '';\r\n        return sectionA.localeCompare(sectionB);\r\n      });\r\n      const sortedGroup: { [className: string]: Student[] } = {};\r\n      sortedClasses.forEach(className => {\r\n        sortedGroup[className] = classGroup[className];\r\n      });\r\n      return sortedGroup;\r\n    };\r\n\r\n    stages.primary.lower = sortClasses(stages.primary.lower);\r\n    stages.primary.upper = sortClasses(stages.primary.upper);\r\n    stages.junior = sortClasses(stages.junior);\r\n    stages.senior = sortClasses(stages.senior);\r\n\r\n    return stages;\r\n  }, [searchTerm, students]);\r\n\r\n  if (filter) {\r\n    const filteredStudents = students.filter(student =>\r\n      (student.grade === filter.grade && student.section === filter.section) &&\r\n      student.name.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n    return (\r\n      <div className=\"flex flex-col h-full bg-gray-100 relative\">\r\n        <div className=\"p-4 bg-gray-100 z-10\"><div className=\"relative\"><span className=\"absolute inset-y-0 left-0 flex items-center pl-3\"><SearchIcon className=\"text-gray-600\" /></span><input type=\"text\" placeholder=\"Search by name...\" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} className=\"w-full pl-10 pr-4 py-2.5 text-gray-700 bg-white border border-gray-300 rounded-lg focus:ring-sky-500 focus:border-sky-500\" aria-label=\"Search for a student\" /></div></div>\r\n        <main className=\"flex-grow px-4 pb-24 space-y-3 overflow-y-auto\">\r\n          {isLoading ? (\r\n            <div className=\"flex justify-center items-center h-full\">\r\n              <div className=\"text-gray-500\">Loading students...</div>\r\n            </div>\r\n          ) : filteredStudents.length > 0 ? (\r\n            filteredStudents.map(student => (\r\n              <StudentRow key={student.id} student={student} onSelect={handleStudentSelect} />\r\n            ))\r\n          ) : (\r\n            <div className=\"flex justify-center items-center h-full\">\r\n              <div className=\"text-gray-500\">No students found</div>\r\n            </div>\r\n          )}\r\n        </main>\r\n        <div className=\"absolute bottom-6 right-6\"><button onClick={() => navigateTo('addStudent', 'Add New Student', {})} className=\"bg-sky-500 text-white p-4 rounded-full shadow-lg hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500\" aria-label=\"Add new student\"><PlusIcon className=\"h-6 w-6\" /></button></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const seniorCount = Object.values(studentsByStageAndClass.senior).flat().length;\r\n  const juniorCount = Object.values(studentsByStageAndClass.junior).flat().length;\r\n  const lowerPrimaryCount = Object.values(studentsByStageAndClass.primary.lower).flat().length;\r\n  const upperPrimaryCount = Object.values(studentsByStageAndClass.primary.upper).flat().length;\r\n  const primaryCount = lowerPrimaryCount + upperPrimaryCount;\r\n\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full bg-gray-100 relative\">\r\n      <div className=\"p-4 bg-gray-100 z-10\">\r\n        <div className=\"relative\">\r\n          <span className=\"absolute inset-y-0 left-0 flex items-center pl-3\">\r\n            <SearchIcon className=\"text-gray-600\" />\r\n          </span>\r\n          <input type=\"text\" placeholder=\"Search by name...\" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} className=\"w-full pl-10 pr-4 py-2.5 text-gray-700 bg-white border border-gray-300 rounded-lg focus:ring-sky-500 focus:border-sky-500\" aria-label=\"Search for a student\" />\r\n        </div>\r\n      </div>\r\n\r\n      <main className=\"flex-grow px-4 pb-24 space-y-4 overflow-y-auto\">\r\n        {seniorCount > 0 && (\r\n          <StageAccordion title=\"Senior Secondary\" count={seniorCount}>\r\n            {Object.entries(studentsByStageAndClass.senior).map(([className, students]: [string, Student[]]) => (\r\n              <SubStageAccordion key={className} title={className} count={students.length}>\r\n                {students.map(s => <StudentRow key={s.id} student={s} onSelect={handleStudentSelect} />)}\r\n              </SubStageAccordion>\r\n            ))}\r\n          </StageAccordion>\r\n        )}\r\n\r\n        {juniorCount > 0 && (\r\n          <StageAccordion title=\"Junior Secondary\" count={juniorCount}>\r\n            {Object.entries(studentsByStageAndClass.junior).map(([className, students]: [string, Student[]]) => (\r\n              <SubStageAccordion key={className} title={className} count={students.length}>\r\n                {students.map(s => <StudentRow key={s.id} student={s} onSelect={handleStudentSelect} />)}\r\n              </SubStageAccordion>\r\n            ))}\r\n          </StageAccordion>\r\n        )}\r\n\r\n        {primaryCount > 0 && (\r\n          <StageAccordion title=\"Primary School\" count={primaryCount}>\r\n            {upperPrimaryCount > 0 && (\r\n              <SubStageAccordion title=\"Upper Primary (4-6)\" count={upperPrimaryCount}>\r\n                {Object.entries(studentsByStageAndClass.primary.upper).map(([className, students]: [string, Student[]]) => (\r\n                  <ClassAccordion key={className} title={className} count={students.length}>\r\n                    {students.map(s => <StudentRow key={s.id} student={s} onSelect={handleStudentSelect} />)}\r\n                  </ClassAccordion>\r\n                ))}\r\n              </SubStageAccordion>\r\n            )}\r\n            {lowerPrimaryCount > 0 && (\r\n              <SubStageAccordion title=\"Lower Primary (1-3)\" count={lowerPrimaryCount}>\r\n                {Object.entries(studentsByStageAndClass.primary.lower).map(([className, students]: [string, Student[]]) => (\r\n                  <ClassAccordion key={className} title={className} count={students.length}>\r\n                    {students.map(s => <StudentRow key={s.id} student={s} onSelect={handleStudentSelect} />)}\r\n                  </ClassAccordion>\r\n                ))}\r\n              </SubStageAccordion>\r\n            )}\r\n          </StageAccordion>\r\n        )}\r\n      </main>\r\n\r\n      <div className=\"absolute bottom-6 right-6\">\r\n        <button onClick={() => navigateTo('addStudent', 'Add New Student', {})} className=\"bg-sky-500 text-white p-4 rounded-full shadow-lg hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500\" aria-label=\"Add new student\"><PlusIcon className=\"h-6 w-6\" /></button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StudentListScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}