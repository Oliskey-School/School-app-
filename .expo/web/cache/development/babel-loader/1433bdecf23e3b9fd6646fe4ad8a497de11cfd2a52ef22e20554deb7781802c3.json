{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\OneDrive\\\\Desktop\\\\Project\\\\school-app-\\\\components\\\\teacher\\\\AssignmentSubmissionsScreen.tsx\";\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { toast } from 'react-hot-toast';\nimport { supabase } from '../../lib/supabase';\nimport { CheckCircleIcon, ClockIcon, MailIcon } from '../../constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SubmissionCard = ({\n  student,\n  submission,\n  onGrade\n}) => _jsxDEV(\"div\", {\n  className: \"bg-white rounded-xl shadow-sm p-3 flex items-center space-x-3\",\n  children: [student.avatarUrl ? _jsxDEV(\"img\", {\n    src: student.avatarUrl,\n    alt: student.name,\n    className: \"w-12 h-12 rounded-full object-cover\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 13\n  }, this) : _jsxDEV(\"div\", {\n    className: \"w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-500 font-bold\",\n    children: student.name.charAt(0)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 13\n  }, this), _jsxDEV(\"div\", {\n    className: \"flex-grow\",\n    children: [_jsxDEV(\"p\", {\n      className: \"font-bold text-gray-800\",\n      children: student.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }, this), _jsxDEV(\"div\", {\n      className: \"flex items-center text-sm text-gray-500 space-x-2\",\n      children: [_jsxDEV(\"span\", {\n        children: new Date(submission.submittedAt).toLocaleString('en-US', {\n          month: 'short',\n          day: 'numeric',\n          hour: 'numeric',\n          minute: '2-digit'\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }, this), _jsxDEV(\"span\", {\n        className: `px-2 py-0.5 text-xs font-semibold rounded-full ${submission.isLate ? 'bg-red-100 text-red-700' : 'bg-green-100 text-green-700'}`,\n        children: submission.isLate ? 'Late' : 'On Time'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 9\n  }, this), _jsxDEV(\"div\", {\n    className: \"flex items-center space-x-3\",\n    children: [_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center\",\n      children: [submission.status === 'Graded' ? _jsxDEV(CheckCircleIcon, {\n        className: \"w-6 h-6 text-green-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 51\n      }, this) : _jsxDEV(ClockIcon, {\n        className: \"w-6 h-6 text-gray-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 108\n      }, this), submission.status === 'Graded' && _jsxDEV(\"span\", {\n        className: \"font-bold text-green-600 text-sm\",\n        children: [submission.grade, \"/100\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this), _jsxDEV(\"button\", {\n      onClick: () => onGrade(submission),\n      className: \"py-2 px-4 bg-purple-100 text-purple-700 text-sm font-semibold rounded-lg hover:bg-purple-200 transition-colors\",\n      children: submission.status === 'Graded' ? 'View' : 'Grade'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 15,\n  columnNumber: 5\n}, this);\nconst NotSubmittedCard = ({\n  student,\n  onRemind\n}) => _jsxDEV(\"div\", {\n  className: \"bg-white rounded-xl shadow-sm p-3 flex items-center space-x-3\",\n  children: [student.avatarUrl ? _jsxDEV(\"img\", {\n    src: student.avatarUrl,\n    alt: student.name,\n    className: \"w-12 h-12 rounded-full object-cover\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 13\n  }, this) : _jsxDEV(\"div\", {\n    className: \"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center text-red-500 font-bold\",\n    children: student.name.charAt(0)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 13\n  }, this), _jsxDEV(\"div\", {\n    className: \"flex-grow\",\n    children: [_jsxDEV(\"p\", {\n      className: \"font-bold text-gray-800\",\n      children: student.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), _jsxDEV(\"p\", {\n      className: \"text-sm text-red-500 font-semibold\",\n      children: \"Not Submitted\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this), _jsxDEV(\"button\", {\n    onClick: () => onRemind(student),\n    className: \"py-2 px-4 bg-blue-100 text-blue-700 text-sm font-semibold rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-2\",\n    children: [_jsxDEV(MailIcon, {\n      className: \"w-4 h-4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), _jsxDEV(\"span\", {\n      children: \"Remind\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 49,\n  columnNumber: 5\n}, this);\nconst AssignmentSubmissionsScreen = ({\n  assignment,\n  navigateTo,\n  handleBack,\n  forceUpdate\n}) => {\n  const [submissions, setSubmissions] = useState([]);\n  const [allClassStudents, setAllClassStudents] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      try {\n        const gradeMatch = assignment.className.match(/\\d+/);\n        const sectionMatch = assignment.className.match(/[A-Z]/);\n        let classStudents = [];\n        if (gradeMatch && sectionMatch) {\n          const grade = parseInt(gradeMatch[0], 10);\n          const section = sectionMatch[0];\n          const {\n            data: studentsData\n          } = await supabase.from('students').select('*').eq('grade', grade).eq('section', section);\n          if (studentsData) {\n            classStudents = studentsData.map(s => Object.assign({}, s, {\n              avatarUrl: s.avatar_url\n            }));\n          }\n        }\n        setAllClassStudents(classStudents);\n        const {\n          data: submissionsData\n        } = await supabase.from('submissions').select('*').eq('assignment_id', assignment.id);\n        if (submissionsData) {\n          const mappedSubmissions = submissionsData.map(sub => {\n            const student = classStudents.find(s => s.id === sub.student_id) || {\n              id: sub.student_id,\n              name: 'Unknown',\n              avatarUrl: '',\n              grade: 0,\n              section: ''\n            };\n            return {\n              id: sub.id,\n              assignmentId: sub.assignment_id,\n              student: {\n                id: student.id,\n                name: student.name,\n                avatarUrl: student.avatarUrl\n              },\n              submittedAt: sub.submitted_at,\n              status: sub.status,\n              grade: sub.grade,\n              feedback: sub.feedback,\n              isLate: sub.is_late || false,\n              textSubmission: sub.text_submission,\n              fileUrl: sub.file_url\n            };\n          });\n          setSubmissions(mappedSubmissions);\n        }\n      } catch (error) {\n        console.error(\"Error loading submissions:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [assignment.id, assignment.className, forceUpdate]);\n  const {\n    submittedStudents,\n    notSubmittedStudents\n  } = useMemo(() => {\n    const submittedStudentIds = new Set(submissions.map(s => s.student.id));\n    const submitted = allClassStudents.filter(s => submittedStudentIds.has(s.id)).map(student => ({\n      student,\n      submission: submissions.find(s => s.student.id === student.id)\n    }));\n    const notSubmitted = allClassStudents.filter(s => !submittedStudentIds.has(s.id));\n    return {\n      submittedStudents: submitted,\n      notSubmittedStudents: notSubmitted\n    };\n  }, [allClassStudents, submissions]);\n  const gradedCount = submissions.filter(s => s.status === 'Graded').length;\n  const ungradedCount = submissions.length - gradedCount;\n  const handleGradeSubmission = async (submissionId, grade, feedback) => {\n    try {\n      const {\n        error\n      } = await supabase.from('submissions').update({\n        grade,\n        feedback,\n        status: 'Graded'\n      }).eq('id', submissionId);\n      if (error) throw error;\n      setSubmissions(prev => prev.map(s => s.id === submissionId ? Object.assign({}, s, {\n        grade,\n        feedback,\n        status: 'Graded'\n      }) : s));\n      handleBack();\n    } catch (err) {\n      console.error(\"Error saving grade:\", err);\n      toast.error(\"Failed to save grade. Please try again.\");\n    }\n  };\n  const viewOrGrade = submission => {\n    navigateTo('gradeSubmission', 'Grade Submission', {\n      submission: submission,\n      assignment: assignment,\n      onGrade: handleGradeSubmission\n    });\n  };\n  const handleRemind = student => {\n    navigateTo('chat', student.name, {\n      participantId: student.id,\n      participantRole: 'Student',\n      participantName: student.name,\n      participantAvatar: student.avatarUrl\n    });\n  };\n  return _jsxDEV(\"div\", {\n    className: \"flex flex-col h-full bg-gray-50\",\n    children: _jsxDEV(\"main\", {\n      className: \"flex-grow p-4 space-y-4 overflow-y-auto\",\n      children: [_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-xl shadow-sm text-center grid grid-cols-3 divide-x divide-gray-200\",\n        children: [_jsxDEV(\"div\", {\n          children: [_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold text-purple-700\",\n            children: [submissions.length, \"/\", assignment.totalStudents]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 25\n          }, this), _jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 font-medium\",\n            children: \"Submitted\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 21\n        }, this), _jsxDEV(\"div\", {\n          children: [_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold text-green-600\",\n            children: gradedCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 25\n          }, this), _jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 font-medium\",\n            children: \"Graded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 21\n        }, this), _jsxDEV(\"div\", {\n          children: [_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold text-blue-600\",\n            children: ungradedCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 25\n          }, this), _jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 font-medium\",\n            children: \"Ungraded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }, this), loading ? _jsxDEV(\"div\", {\n        className: \"p-10 text-center text-gray-500\",\n        children: \"Loading submissions...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 21\n      }, this) : _jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-2 gap-4\",\n        children: [_jsxDEV(\"div\", {\n          children: [_jsxDEV(\"h3\", {\n            className: \"font-bold text-gray-700 mb-2 px-1\",\n            children: [\"Submitted (\", submittedStudents.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 29\n          }, this), _jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: submittedStudents.length > 0 ? submittedStudents.map(item => _jsxDEV(SubmissionCard, {\n              student: item.student,\n              submission: item.submission,\n              onGrade: viewOrGrade\n            }, item.student.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 37\n            }, this)) : _jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 p-4 bg-white rounded-xl text-center\",\n              children: \"No submissions yet.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 25\n        }, this), _jsxDEV(\"div\", {\n          children: [_jsxDEV(\"h3\", {\n            className: \"font-bold text-gray-700 mb-2 px-1\",\n            children: [\"Not Submitted (\", notSubmittedStudents.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 29\n          }, this), _jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: notSubmittedStudents.length > 0 ? notSubmittedStudents.map(student => _jsxDEV(NotSubmittedCard, {\n              student: student,\n              onRemind: handleRemind\n            }, student.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 37\n            }, this)) : _jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 p-4 bg-white rounded-xl text-center\",\n              children: \"All students have submitted!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 9\n  }, this);\n};\nexport default AssignmentSubmissionsScreen;","map":{"version":3,"names":["React","useState","useEffect","useMemo","toast","supabase","CheckCircleIcon","ClockIcon","MailIcon","jsxDEV","_jsxDEV","SubmissionCard","student","submission","onGrade","className","children","avatarUrl","src","alt","name","fileName","_jsxFileName","lineNumber","columnNumber","charAt","Date","submittedAt","toLocaleString","month","day","hour","minute","isLate","status","grade","onClick","NotSubmittedCard","onRemind","AssignmentSubmissionsScreen","assignment","navigateTo","handleBack","forceUpdate","submissions","setSubmissions","allClassStudents","setAllClassStudents","loading","setLoading","fetchData","gradeMatch","match","sectionMatch","classStudents","parseInt","section","data","studentsData","from","select","eq","map","s","Object","assign","avatar_url","submissionsData","id","mappedSubmissions","sub","find","student_id","assignmentId","assignment_id","submitted_at","feedback","is_late","textSubmission","text_submission","fileUrl","file_url","error","console","submittedStudents","notSubmittedStudents","submittedStudentIds","Set","submitted","filter","has","notSubmitted","gradedCount","length","ungradedCount","handleGradeSubmission","submissionId","update","prev","err","viewOrGrade","handleRemind","participantId","participantRole","participantName","participantAvatar","totalStudents","item"],"sources":["C:/Users/USER/OneDrive/Desktop/Project/school-app-/components/teacher/AssignmentSubmissionsScreen.tsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport { toast } from 'react-hot-toast';\r\nimport { supabase } from '../../lib/supabase';\r\nimport { Submission, Assignment, Student } from '../../types';\r\nimport { CheckCircleIcon, ClockIcon, MailIcon } from '../../constants';\r\n\r\ninterface AssignmentSubmissionsScreenProps {\r\n    assignment: Assignment;\r\n    navigateTo: (view: string, title: string, props: any) => void;\r\n    handleBack: () => void;\r\n    forceUpdate: () => void;\r\n}\r\n\r\nconst SubmissionCard: React.FC<{ student: Student; submission: Submission; onGrade: (submission: Submission) => void }> = ({ student, submission, onGrade }) => (\r\n    <div className=\"bg-white rounded-xl shadow-sm p-3 flex items-center space-x-3\">\r\n        {student.avatarUrl ? (\r\n            <img src={student.avatarUrl} alt={student.name} className=\"w-12 h-12 rounded-full object-cover\" />\r\n        ) : (\r\n            <div className=\"w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-500 font-bold\">\r\n                {student.name.charAt(0)}\r\n            </div>\r\n        )}\r\n        <div className=\"flex-grow\">\r\n            <p className=\"font-bold text-gray-800\">{student.name}</p>\r\n            <div className=\"flex items-center text-sm text-gray-500 space-x-2\">\r\n                <span>{new Date(submission.submittedAt).toLocaleString('en-US', { month: 'short', day: 'numeric', hour: 'numeric', minute: '2-digit' })}</span>\r\n                <span className={`px-2 py-0.5 text-xs font-semibold rounded-full ${submission.isLate ? 'bg-red-100 text-red-700' : 'bg-green-100 text-green-700'}`}>\r\n                    {submission.isLate ? 'Late' : 'On Time'}\r\n                </span>\r\n            </div>\r\n        </div>\r\n        <div className=\"flex items-center space-x-3\">\r\n            <div className=\"flex flex-col items-center\">\r\n                {submission.status === 'Graded' ? <CheckCircleIcon className=\"w-6 h-6 text-green-500\" /> : <ClockIcon className=\"w-6 h-6 text-gray-400\" />}\r\n                {submission.status === 'Graded' && (\r\n                    <span className=\"font-bold text-green-600 text-sm\">{submission.grade}/100</span>\r\n                )}\r\n            </div>\r\n            <button\r\n                onClick={() => onGrade(submission)}\r\n                className=\"py-2 px-4 bg-purple-100 text-purple-700 text-sm font-semibold rounded-lg hover:bg-purple-200 transition-colors\">\r\n                {submission.status === 'Graded' ? 'View' : 'Grade'}\r\n            </button>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nconst NotSubmittedCard: React.FC<{ student: Student; onRemind: (student: Student) => void }> = ({ student, onRemind }) => (\r\n    <div className=\"bg-white rounded-xl shadow-sm p-3 flex items-center space-x-3\">\r\n        {student.avatarUrl ? (\r\n            <img src={student.avatarUrl} alt={student.name} className=\"w-12 h-12 rounded-full object-cover\" />\r\n        ) : (\r\n            <div className=\"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center text-red-500 font-bold\">\r\n                {student.name.charAt(0)}\r\n            </div>\r\n        )}\r\n        <div className=\"flex-grow\">\r\n            <p className=\"font-bold text-gray-800\">{student.name}</p>\r\n            <p className=\"text-sm text-red-500 font-semibold\">Not Submitted</p>\r\n        </div>\r\n        <button\r\n            onClick={() => onRemind(student)}\r\n            className=\"py-2 px-4 bg-blue-100 text-blue-700 text-sm font-semibold rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-2\">\r\n            <MailIcon className=\"w-4 h-4\" />\r\n            <span>Remind</span>\r\n        </button>\r\n    </div>\r\n);\r\n\r\nconst AssignmentSubmissionsScreen: React.FC<AssignmentSubmissionsScreenProps> = ({ assignment, navigateTo, handleBack, forceUpdate }) => {\r\n    const [submissions, setSubmissions] = useState<Submission[]>([]);\r\n    const [allClassStudents, setAllClassStudents] = useState<Student[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            setLoading(true);\r\n            try {\r\n                // 1. Fetch Students in the class\r\n                const gradeMatch = assignment.className.match(/\\d+/);\r\n                const sectionMatch = assignment.className.match(/[A-Z]/);\r\n\r\n                let classStudents: Student[] = [];\r\n                if (gradeMatch && sectionMatch) {\r\n                    const grade = parseInt(gradeMatch[0], 10);\r\n                    const section = sectionMatch[0];\r\n\r\n                    const { data: studentsData } = await supabase\r\n                        .from('students')\r\n                        .select('*')\r\n                        .eq('grade', grade)\r\n                        .eq('section', section);\r\n\r\n                    if (studentsData) {\r\n                        classStudents = studentsData.map((s: any) => ({\r\n                            ...s,\r\n                            avatarUrl: s.avatar_url\r\n                        }));\r\n                    }\r\n                }\r\n                setAllClassStudents(classStudents);\r\n\r\n                // 2. Fetch Submissions for this assignment\r\n                const { data: submissionsData } = await supabase\r\n                    .from('submissions')\r\n                    .select('*')\r\n                    .eq('assignment_id', assignment.id);\r\n\r\n                if (submissionsData) {\r\n                    const mappedSubmissions: Submission[] = submissionsData.map((sub: any) => {\r\n                        const student = classStudents.find(s => s.id === sub.student_id) || { id: sub.student_id, name: 'Unknown', avatarUrl: '', grade: 0, section: '' };\r\n                        return {\r\n                            id: sub.id,\r\n                            assignmentId: sub.assignment_id,\r\n                            student: { id: student.id, name: student.name, avatarUrl: student.avatarUrl },\r\n                            submittedAt: sub.submitted_at,\r\n                            status: sub.status,\r\n                            grade: sub.grade,\r\n                            feedback: sub.feedback,\r\n                            isLate: sub.is_late || false,\r\n                            textSubmission: sub.text_submission,\r\n                            fileUrl: sub.file_url\r\n                        } as Submission;\r\n                    });\r\n                    setSubmissions(mappedSubmissions);\r\n                }\r\n\r\n            } catch (error) {\r\n                console.error(\"Error loading submissions:\", error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchData();\r\n    }, [assignment.id, assignment.className, forceUpdate]); // forceUpdate in deps ensures re-fetch on parent trigger\r\n\r\n    const { submittedStudents, notSubmittedStudents } = useMemo(() => {\r\n        const submittedStudentIds = new Set(submissions.map(s => s.student.id));\r\n\r\n        const submitted = allClassStudents\r\n            .filter(s => submittedStudentIds.has(s.id))\r\n            .map(student => ({\r\n                student,\r\n                submission: submissions.find(s => s.student.id === student.id)!\r\n            }));\r\n\r\n        const notSubmitted = allClassStudents.filter(s => !submittedStudentIds.has(s.id));\r\n\r\n        return { submittedStudents: submitted, notSubmittedStudents: notSubmitted };\r\n    }, [allClassStudents, submissions]);\r\n\r\n    const gradedCount = submissions.filter(s => s.status === 'Graded').length;\r\n    const ungradedCount = submissions.length - gradedCount;\r\n\r\n    const handleGradeSubmission = async (submissionId: number, grade: number, feedback: string) => {\r\n        try {\r\n            const { error } = await supabase\r\n                .from('submissions')\r\n                .update({\r\n                    grade,\r\n                    feedback,\r\n                    status: 'Graded'\r\n                })\r\n                .eq('id', submissionId);\r\n\r\n            if (error) throw error;\r\n\r\n            // Optimistic update\r\n            setSubmissions(prev => prev.map(s => s.id === submissionId ? { ...s, grade, feedback, status: 'Graded' } : s));\r\n            handleBack(); // Go back to summary\r\n        } catch (err) {\r\n            console.error(\"Error saving grade:\", err);\r\n            toast.error(\"Failed to save grade. Please try again.\");\r\n        }\r\n    };\r\n\r\n    const viewOrGrade = (submission: Submission) => {\r\n        navigateTo('gradeSubmission', 'Grade Submission', {\r\n            submission: submission,\r\n            assignment: assignment,\r\n            onGrade: handleGradeSubmission,\r\n        });\r\n    };\r\n\r\n    const handleRemind = (student: Student) => {\r\n        // Navigate to Chat with this student\r\n        navigateTo('chat', student.name, {\r\n            participantId: student.id,\r\n            participantRole: 'Student',\r\n            participantName: student.name,\r\n            participantAvatar: student.avatarUrl\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex flex-col h-full bg-gray-50\">\r\n            <main className=\"flex-grow p-4 space-y-4 overflow-y-auto\">\r\n                {/* Summary Header */}\r\n                <div className=\"bg-white p-4 rounded-xl shadow-sm text-center grid grid-cols-3 divide-x divide-gray-200\">\r\n                    <div>\r\n                        <p className=\"text-2xl font-bold text-purple-700\">{submissions.length}/{assignment.totalStudents}</p>\r\n                        <p className=\"text-xs text-gray-500 font-medium\">Submitted</p>\r\n                    </div>\r\n                    <div>\r\n                        <p className=\"text-2xl font-bold text-green-600\">{gradedCount}</p>\r\n                        <p className=\"text-xs text-gray-500 font-medium\">Graded</p>\r\n                    </div>\r\n                    <div>\r\n                        <p className=\"text-2xl font-bold text-blue-600\">{ungradedCount}</p>\r\n                        <p className=\"text-xs text-gray-500 font-medium\">Ungraded</p>\r\n                    </div>\r\n                </div>\r\n\r\n                {loading ? (\r\n                    <div className=\"p-10 text-center text-gray-500\">Loading submissions...</div>\r\n                ) : (\r\n                    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\r\n                        {/* Submitted List */}\r\n                        <div>\r\n                            <h3 className=\"font-bold text-gray-700 mb-2 px-1\">Submitted ({submittedStudents.length})</h3>\r\n                            <div className=\"space-y-3\">\r\n                                {submittedStudents.length > 0 ? submittedStudents.map(item => (\r\n                                    <SubmissionCard key={item.student.id} student={item.student} submission={item.submission} onGrade={viewOrGrade} />\r\n                                )) : <p className=\"text-sm text-gray-500 p-4 bg-white rounded-xl text-center\">No submissions yet.</p>}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Not Submitted List */}\r\n                        <div>\r\n                            <h3 className=\"font-bold text-gray-700 mb-2 px-1\">Not Submitted ({notSubmittedStudents.length})</h3>\r\n                            <div className=\"space-y-3\">\r\n                                {notSubmittedStudents.length > 0 ? notSubmittedStudents.map(student => (\r\n                                    <NotSubmittedCard key={student.id} student={student} onRemind={handleRemind} />\r\n                                )) : <p className=\"text-sm text-gray-500 p-4 bg-white rounded-xl text-center\">All students have submitted!</p>}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </main>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AssignmentSubmissionsScreen;"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}