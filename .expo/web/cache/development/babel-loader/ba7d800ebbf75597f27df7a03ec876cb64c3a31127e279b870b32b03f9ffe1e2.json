{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\OneDrive\\\\Desktop\\\\Project\\\\school-app-\\\\components\\\\teacher\\\\GradeSubmissionScreen.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport { toast } from 'react-hot-toast';\nimport { SparklesIcon, AIIcon } from '../../constants';\nimport { getAIClient, SchemaType as Type } from '../../lib/ai';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MicrophoneIcon = ({\n  className\n}) => _jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  className: `h-6 w-6 ${className || ''}`.trim(),\n  viewBox: \"0 0 24 24\",\n  strokeWidth: \"1.5\",\n  stroke: \"currentColor\",\n  fill: \"none\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  children: [_jsxDEV(\"path\", {\n    stroke: \"none\",\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 272\n  }, this), _jsxDEV(\"path\", {\n    d: \"M9 2m0 3a3 3 0 0 1 3 -3h0a3 3 0 0 1 3 3v5a3 3 0 0 1 -3 3h0a3 3 0 0 1 -3 -3z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 324\n  }, this), _jsxDEV(\"path\", {\n    d: \"M5 10a7 7 0 0 0 14 0\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 412\n  }, this), _jsxDEV(\"path\", {\n    d: \"M8 21l8 0\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 445\n  }, this), _jsxDEV(\"path\", {\n    d: \"M12 17l0 4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 467\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 8,\n  columnNumber: 67\n}, this);\nconst GradeSubmissionScreen = ({\n  submission,\n  assignment,\n  onGrade\n}) => {\n  const [grade, setGrade] = useState(submission.grade?.toString() || '');\n  const [feedback, setFeedback] = useState(submission.feedback || '');\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [aiSuggestions, setAiSuggestions] = useState([]);\n  const [isRecording, setIsRecording] = useState(false);\n  const recognitionRef = React.useRef(null);\n  useEffect(() => {\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n    if (SpeechRecognition) {\n      recognitionRef.current = new SpeechRecognition();\n      recognitionRef.current.continuous = true;\n      recognitionRef.current.interimResults = true;\n      recognitionRef.current.onresult = event => {\n        let interimTranscript = '';\n        let finalTranscript = '';\n        for (let i = event.resultIndex; i < event.results.length; ++i) {\n          if (event.results[i].isFinal) {\n            finalTranscript += event.results[i][0].transcript;\n          } else {\n            interimTranscript += event.results[i][0].transcript;\n          }\n        }\n        setFeedback(prev => prev + finalTranscript);\n      };\n      recognitionRef.current.onend = () => {\n        setIsRecording(false);\n      };\n    }\n  }, []);\n  const handleToggleRecording = () => {\n    if (!recognitionRef.current) {\n      toast.error(\"Voice recognition is not supported in your browser.\");\n      return;\n    }\n    if (isRecording) {\n      recognitionRef.current.stop();\n      setIsRecording(false);\n    } else {\n      recognitionRef.current.start();\n      setIsRecording(true);\n    }\n  };\n  const handleGenerateFeedback = async () => {\n    setIsGenerating(true);\n    setAiSuggestions([]);\n    try {\n      const ai = getAIClient(import.meta.env.VITE_GEMINI_API_KEY || '');\n      const prompt = `Act as an expert teacher. Evaluate this student submission and provide:\n      1. A recommended grade (0-100) based on quality.\n      2. 3 distinct, constructive feedback comments.\n\n      - Assignment: \"${assignment.title}\" (${assignment.subject})\n      - Student Submission: \"${submission.textSubmission || '(No text submitted, check file)'}\"\n      - Current Grade Input: ${grade ? grade + '/100' : 'Not yet graded'}\n\n      If the grade is active, tailor feedback to that score. If not, analyze the text to suggest a fair grade.\n      Return JSON.`;\n      const response = await ai.models.generateContent({\n        model: 'gemini-2.5-flash',\n        contents: prompt,\n        config: {\n          responseMimeType: \"application/json\",\n          responseSchema: {\n            type: Type.OBJECT,\n            properties: {\n              suggested_grade: {\n                type: Type.INTEGER,\n                description: \"Recommended score out of 100\"\n              },\n              suggestions: {\n                type: Type.ARRAY,\n                items: {\n                  type: Type.STRING\n                },\n                description: \"Array of 3 feedback comments.\"\n              }\n            },\n            required: [\"suggestions\"]\n          }\n        }\n      });\n      const jsonResponse = JSON.parse(response.text.trim());\n      if (jsonResponse.suggestions && Array.isArray(jsonResponse.suggestions)) {\n        if (jsonResponse.suggested_grade && !grade) {\n          setGrade(jsonResponse.suggested_grade.toString());\n          toast.success(`AI suggested a grade of ${jsonResponse.suggested_grade}`);\n        }\n        setAiSuggestions(jsonResponse.suggestions);\n      } else {\n        throw new Error(\"Invalid response format from AI.\");\n      }\n    } catch (error) {\n      console.error(\"AI Feedback Generation Error:\", error);\n      toast.error(\"Sorry, there was an error generating feedback. Please try again.\");\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    const numericGrade = parseInt(grade, 10);\n    if (isNaN(numericGrade) || numericGrade < 0 || numericGrade > 100) {\n      toast.error('Please enter a valid grade between 0 and 100.');\n      return;\n    }\n    onGrade(submission.id, numericGrade, feedback);\n  };\n  return _jsxDEV(\"div\", {\n    className: \"flex flex-col h-full bg-gray-50\",\n    children: _jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"flex-grow flex flex-col\",\n      children: [_jsxDEV(\"main\", {\n        className: \"flex-grow p-4 overflow-y-auto\",\n        children: _jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 lg:grid-cols-5 gap-4\",\n          children: [_jsxDEV(\"div\", {\n            className: \"lg:col-span-3 space-y-4\",\n            children: [_jsxDEV(\"div\", {\n              className: \"bg-white p-4 rounded-xl shadow-sm flex items-center space-x-4\",\n              children: [_jsxDEV(\"img\", {\n                src: submission.student.avatarUrl,\n                alt: submission.student.name,\n                className: \"w-16 h-16 rounded-full object-cover\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 17\n              }, this), _jsxDEV(\"div\", {\n                children: [_jsxDEV(\"p\", {\n                  className: \"font-bold text-xl text-gray-800\",\n                  children: submission.student.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 19\n                }, this), _jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500\",\n                  children: [\"Submitted: \", new Date(submission.submittedAt).toLocaleString('en-US', {\n                    month: 'short',\n                    day: 'numeric',\n                    hour: 'numeric',\n                    minute: '2-digit'\n                  })]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 19\n                }, this), _jsxDEV(\"span\", {\n                  className: `mt-1 inline-block px-2 py-0.5 text-xs font-semibold rounded-full ${submission.isLate ? 'bg-red-100 text-red-700' : 'bg-green-100 text-green-700'}`,\n                  children: submission.isLate ? 'Late' : 'On Time'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this), submission.textSubmission && _jsxDEV(\"div\", {\n              className: \"bg-white p-4 rounded-xl shadow-sm\",\n              children: [_jsxDEV(\"h3\", {\n                className: \"font-bold text-gray-800 mb-2\",\n                children: \"Student's Submission\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 19\n              }, this), _jsxDEV(\"div\", {\n                className: \"bg-gray-50 p-3 rounded-lg border border-gray-200 max-h-96 overflow-y-auto\",\n                children: _jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-700 whitespace-pre-wrap\",\n                  children: submission.textSubmission\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), _jsxDEV(\"div\", {\n            className: \"lg:col-span-2\",\n            children: _jsxDEV(\"div\", {\n              className: \"bg-white p-4 rounded-xl shadow-sm space-y-4\",\n              children: [_jsxDEV(\"div\", {\n                children: [_jsxDEV(\"label\", {\n                  htmlFor: \"grade-input\",\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Score (out of 100)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 19\n                }, this), _jsxDEV(\"input\", {\n                  id: \"grade-input\",\n                  type: \"number\",\n                  value: grade,\n                  onChange: e => setGrade(e.target.value),\n                  placeholder: \"e.g., 85\",\n                  required: true,\n                  min: \"0\",\n                  max: \"100\",\n                  className: \"w-full px-3 py-2 text-gray-700 bg-gray-50 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 17\n              }, this), _jsxDEV(\"div\", {\n                children: [_jsxDEV(\"label\", {\n                  htmlFor: \"feedback-input\",\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Feedback\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 19\n                }, this), _jsxDEV(\"div\", {\n                  className: \"relative\",\n                  children: [_jsxDEV(\"textarea\", {\n                    id: \"feedback-input\",\n                    value: feedback,\n                    onChange: e => setFeedback(e.target.value),\n                    rows: 6,\n                    placeholder: \"Provide constructive feedback for the student...\",\n                    className: \"w-full px-3 py-2 pr-12 text-gray-700 bg-gray-50 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 21\n                  }, this), recognitionRef.current && _jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: handleToggleRecording,\n                    className: `absolute top-2 right-2 p-2 rounded-full transition-colors ${isRecording ? 'bg-red-500 text-white animate-pulse' : 'bg-gray-200 text-gray-600 hover:bg-gray-300'}`,\n                    \"aria-label\": isRecording ? 'Stop recording' : 'Start recording feedback',\n                    children: _jsxDEV(MicrophoneIcon, {\n                      className: \"h-5 w-5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 194,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 19\n                }, this), _jsxDEV(\"div\", {\n                  className: \"flex justify-end mt-2\",\n                  children: _jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: handleGenerateFeedback,\n                    disabled: isGenerating,\n                    className: \"flex items-center space-x-2 px-3 py-1.5 bg-violet-100 text-violet-700 rounded-lg hover:bg-violet-200 transition-colors text-sm font-medium disabled:opacity-50\",\n                    children: [isGenerating ? _jsxDEV(\"div\", {\n                      className: \"w-4 h-4 border-2 border-violet-600 border-t-transparent rounded-full animate-spin\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 206,\n                      columnNumber: 25\n                    }, this) : _jsxDEV(SparklesIcon, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 25\n                    }, this), _jsxDEV(\"span\", {\n                      children: isGenerating ? 'Drafting...' : 'Draft with AI'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 210,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this), _jsxDEV(\"div\", {\n                children: [_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: handleGenerateFeedback,\n                  disabled: isGenerating || !grade,\n                  className: \"w-full flex items-center justify-center space-x-2 px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:bg-gray-100 hover:border-purple-400 hover:text-purple-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",\n                  children: [_jsxDEV(AIIcon, {\n                    className: \"h-5 w-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 21\n                  }, this), _jsxDEV(\"span\", {\n                    className: \"font-semibold\",\n                    children: isGenerating ? 'Generating...' : 'Generate Feedback with AI'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 19\n                }, this), aiSuggestions.length > 0 && _jsxDEV(\"div\", {\n                  className: \"mt-3 space-y-2\",\n                  children: [_jsxDEV(\"h4\", {\n                    className: \"text-xs font-semibold text-gray-500\",\n                    children: \"AI Suggestions (Click to use):\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 23\n                  }, this), aiSuggestions.map((suggestion, index) => _jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => setFeedback(suggestion),\n                    className: \"w-full text-left p-2 bg-purple-50 text-purple-800 text-sm rounded-lg hover:bg-purple-100 transition-colors flex items-start space-x-2\",\n                    children: [_jsxDEV(SparklesIcon, {\n                      className: \"w-4 h-4 mt-0.5 flex-shrink-0 text-purple-500\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 234,\n                      columnNumber: 27\n                    }, this), _jsxDEV(\"span\", {\n                      children: suggestion\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 235,\n                      columnNumber: 27\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 25\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), _jsxDEV(\"div\", {\n        className: \"p-4 mt-auto bg-white border-t border-gray-200\",\n        children: _jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500\",\n          children: \"Submit Grade\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 5\n  }, this);\n};\nexport default GradeSubmissionScreen;","map":{"version":3,"names":["React","useState","useEffect","toast","SparklesIcon","AIIcon","getAIClient","SchemaType","Type","jsxDEV","_jsxDEV","MicrophoneIcon","className","xmlns","trim","viewBox","strokeWidth","stroke","fill","strokeLinecap","strokeLinejoin","children","d","fileName","_jsxFileName","lineNumber","columnNumber","GradeSubmissionScreen","submission","assignment","onGrade","grade","setGrade","toString","feedback","setFeedback","isGenerating","setIsGenerating","aiSuggestions","setAiSuggestions","isRecording","setIsRecording","recognitionRef","useRef","SpeechRecognition","window","webkitSpeechRecognition","current","continuous","interimResults","onresult","event","interimTranscript","finalTranscript","i","resultIndex","results","length","isFinal","transcript","prev","onend","handleToggleRecording","error","stop","start","handleGenerateFeedback","ai","import","meta","env","VITE_GEMINI_API_KEY","prompt","title","subject","textSubmission","response","models","generateContent","model","contents","config","responseMimeType","responseSchema","type","OBJECT","properties","suggested_grade","INTEGER","description","suggestions","ARRAY","items","STRING","required","jsonResponse","JSON","parse","text","Array","isArray","success","Error","console","handleSubmit","e","preventDefault","numericGrade","parseInt","isNaN","id","onSubmit","src","student","avatarUrl","alt","name","Date","submittedAt","toLocaleString","month","day","hour","minute","isLate","htmlFor","value","onChange","target","placeholder","min","max","rows","onClick","disabled","map","suggestion","index"],"sources":["C:/Users/USER/OneDrive/Desktop/Project/school-app-/components/teacher/GradeSubmissionScreen.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { toast } from 'react-hot-toast';\r\nimport { Submission, Assignment } from '../../types';\r\nimport { SparklesIcon, AIIcon } from '../../constants';\r\nimport { getAIClient, AI_MODEL_NAME, SchemaType as Type } from '../../lib/ai';\r\n\r\n// A custom microphone icon\r\nconst MicrophoneIcon = ({ className }: { className?: string }) => <svg xmlns=\"http://www.w3.org/2000/svg\" className={`h-6 w-6 ${className || ''}`.trim()} viewBox=\"0 0 24 24\" strokeWidth=\"1.5\" stroke=\"currentColor\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" /><path d=\"M9 2m0 3a3 3 0 0 1 3 -3h0a3 3 0 0 1 3 3v5a3 3 0 0 1 -3 3h0a3 3 0 0 1 -3 -3z\" /><path d=\"M5 10a7 7 0 0 0 14 0\" /><path d=\"M8 21l8 0\" /><path d=\"M12 17l0 4\" /></svg>;\r\n\r\n\r\ninterface GradeSubmissionScreenProps {\r\n  submission: Submission;\r\n  assignment: Assignment;\r\n  onGrade: (submissionId: number, grade: number, feedback: string) => void;\r\n}\r\n\r\nconst GradeSubmissionScreen: React.FC<GradeSubmissionScreenProps> = ({ submission, assignment, onGrade }) => {\r\n  const [grade, setGrade] = useState<string>(submission.grade?.toString() || '');\r\n  const [feedback, setFeedback] = useState<string>(submission.feedback || '');\r\n  const [isGenerating, setIsGenerating] = useState(false);\r\n  const [aiSuggestions, setAiSuggestions] = useState<string[]>([]);\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const recognitionRef = React.useRef<any>(null);\r\n\r\n  useEffect(() => {\r\n    const SpeechRecognition = (window as any).SpeechRecognition || (window as any).webkitSpeechRecognition;\r\n    if (SpeechRecognition) {\r\n      recognitionRef.current = new SpeechRecognition();\r\n      recognitionRef.current.continuous = true;\r\n      recognitionRef.current.interimResults = true;\r\n      recognitionRef.current.onresult = (event: any) => {\r\n        let interimTranscript = '';\r\n        let finalTranscript = '';\r\n        for (let i = event.resultIndex; i < event.results.length; ++i) {\r\n          if (event.results[i].isFinal) {\r\n            finalTranscript += event.results[i][0].transcript;\r\n          } else {\r\n            interimTranscript += event.results[i][0].transcript;\r\n          }\r\n        }\r\n        setFeedback(prev => prev + finalTranscript);\r\n      };\r\n      recognitionRef.current.onend = () => {\r\n        setIsRecording(false);\r\n      };\r\n    }\r\n  }, []);\r\n\r\n  const handleToggleRecording = () => {\r\n    if (!recognitionRef.current) {\r\n      toast.error(\"Voice recognition is not supported in your browser.\");\r\n      return;\r\n    }\r\n    if (isRecording) {\r\n      recognitionRef.current.stop();\r\n      setIsRecording(false);\r\n    } else {\r\n      recognitionRef.current.start();\r\n      setIsRecording(true);\r\n    }\r\n  };\r\n\r\n  const handleGenerateFeedback = async () => {\r\n    setIsGenerating(true);\r\n    setAiSuggestions([]);\r\n    try {\r\n      const ai = getAIClient(import.meta.env.VITE_GEMINI_API_KEY || '');\r\n      const prompt = `Act as an expert teacher. Evaluate this student submission and provide:\r\n      1. A recommended grade (0-100) based on quality.\r\n      2. 3 distinct, constructive feedback comments.\r\n\r\n      - Assignment: \"${assignment.title}\" (${assignment.subject})\r\n      - Student Submission: \"${submission.textSubmission || '(No text submitted, check file)'}\"\r\n      - Current Grade Input: ${grade ? grade + '/100' : 'Not yet graded'}\r\n\r\n      If the grade is active, tailor feedback to that score. If not, analyze the text to suggest a fair grade.\r\n      Return JSON.`;\r\n\r\n      const response = await ai.models.generateContent({\r\n        model: 'gemini-2.5-flash',\r\n        contents: prompt,\r\n        config: {\r\n          responseMimeType: \"application/json\",\r\n          responseSchema: {\r\n            type: Type.OBJECT,\r\n            properties: {\r\n              suggested_grade: { type: Type.INTEGER, description: \"Recommended score out of 100\" },\r\n              suggestions: {\r\n                type: Type.ARRAY,\r\n                items: { type: Type.STRING },\r\n                description: \"Array of 3 feedback comments.\"\r\n              }\r\n            },\r\n            required: [\"suggestions\"]\r\n          }\r\n        }\r\n      });\r\n\r\n      const jsonResponse = JSON.parse(response.text.trim());\r\n      if (jsonResponse.suggestions && Array.isArray(jsonResponse.suggestions)) {\r\n        if (jsonResponse.suggested_grade && !grade) {\r\n          setGrade(jsonResponse.suggested_grade.toString());\r\n          toast.success(`AI suggested a grade of ${jsonResponse.suggested_grade}`);\r\n        }\r\n        setAiSuggestions(jsonResponse.suggestions);\r\n      } else {\r\n        throw new Error(\"Invalid response format from AI.\");\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error(\"AI Feedback Generation Error:\", error);\r\n      toast.error(\"Sorry, there was an error generating feedback. Please try again.\");\r\n    } finally {\r\n      setIsGenerating(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    const numericGrade = parseInt(grade, 10);\r\n    if (isNaN(numericGrade) || numericGrade < 0 || numericGrade > 100) {\r\n      toast.error('Please enter a valid grade between 0 and 100.');\r\n      return;\r\n    }\r\n    onGrade(submission.id, numericGrade, feedback);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full bg-gray-50\">\r\n      <form onSubmit={handleSubmit} className=\"flex-grow flex flex-col\">\r\n        <main className=\"flex-grow p-4 overflow-y-auto\">\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-5 gap-4\">\r\n            <div className=\"lg:col-span-3 space-y-4\">\r\n              {/* Student and Submission Info */}\r\n              <div className=\"bg-white p-4 rounded-xl shadow-sm flex items-center space-x-4\">\r\n                <img src={submission.student.avatarUrl} alt={submission.student.name} className=\"w-16 h-16 rounded-full object-cover\" />\r\n                <div>\r\n                  <p className=\"font-bold text-xl text-gray-800\">{submission.student.name}</p>\r\n                  <p className=\"text-sm text-gray-500\">\r\n                    Submitted: {new Date(submission.submittedAt).toLocaleString('en-US', { month: 'short', day: 'numeric', hour: 'numeric', minute: '2-digit' })}\r\n                  </p>\r\n                  <span className={`mt-1 inline-block px-2 py-0.5 text-xs font-semibold rounded-full ${submission.isLate ? 'bg-red-100 text-red-700' : 'bg-green-100 text-green-700'}`}>\r\n                    {submission.isLate ? 'Late' : 'On Time'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Submission Preview */}\r\n              {submission.textSubmission && (\r\n                <div className=\"bg-white p-4 rounded-xl shadow-sm\">\r\n                  <h3 className=\"font-bold text-gray-800 mb-2\">Student's Submission</h3>\r\n                  <div className=\"bg-gray-50 p-3 rounded-lg border border-gray-200 max-h-96 overflow-y-auto\">\r\n                    <p className=\"text-sm text-gray-700 whitespace-pre-wrap\">{submission.textSubmission}</p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"lg:col-span-2\">\r\n              {/* Grading Form */}\r\n              <div className=\"bg-white p-4 rounded-xl shadow-sm space-y-4\">\r\n                <div>\r\n                  <label htmlFor=\"grade-input\" className=\"block text-sm font-medium text-gray-700 mb-1\">Score (out of 100)</label>\r\n                  <input\r\n                    id=\"grade-input\"\r\n                    type=\"number\"\r\n                    value={grade}\r\n                    onChange={e => setGrade(e.target.value)}\r\n                    placeholder=\"e.g., 85\"\r\n                    required\r\n                    min=\"0\"\r\n                    max=\"100\"\r\n                    className=\"w-full px-3 py-2 text-gray-700 bg-gray-50 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label htmlFor=\"feedback-input\" className=\"block text-sm font-medium text-gray-700 mb-1\">Feedback</label>\r\n                  <div className=\"relative\">\r\n                    <textarea\r\n                      id=\"feedback-input\"\r\n                      value={feedback}\r\n                      onChange={e => setFeedback(e.target.value)}\r\n                      rows={6}\r\n                      placeholder=\"Provide constructive feedback for the student...\"\r\n                      className=\"w-full px-3 py-2 pr-12 text-gray-700 bg-gray-50 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500\"\r\n                    />\r\n                    {recognitionRef.current && (\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={handleToggleRecording}\r\n                        className={`absolute top-2 right-2 p-2 rounded-full transition-colors ${isRecording ? 'bg-red-500 text-white animate-pulse' : 'bg-gray-200 text-gray-600 hover:bg-gray-300'}`}\r\n                        aria-label={isRecording ? 'Stop recording' : 'Start recording feedback'}\r\n                      >\r\n                        <MicrophoneIcon className=\"h-5 w-5\" />\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"flex justify-end mt-2\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={handleGenerateFeedback}\r\n                      disabled={isGenerating}\r\n                      className=\"flex items-center space-x-2 px-3 py-1.5 bg-violet-100 text-violet-700 rounded-lg hover:bg-violet-200 transition-colors text-sm font-medium disabled:opacity-50\"\r\n                    >\r\n                      {isGenerating ? (\r\n                        <div className=\"w-4 h-4 border-2 border-violet-600 border-t-transparent rounded-full animate-spin\"></div>\r\n                      ) : (\r\n                        <SparklesIcon className=\"w-4 h-4\" />\r\n                      )}\r\n                      <span>{isGenerating ? 'Drafting...' : 'Draft with AI'}</span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* AI Feedback Section */}\r\n                <div>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={handleGenerateFeedback}\r\n                    disabled={isGenerating || !grade}\r\n                    className=\"w-full flex items-center justify-center space-x-2 px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:bg-gray-100 hover:border-purple-400 hover:text-purple-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\">\r\n                    <AIIcon className=\"h-5 w-5\" />\r\n                    <span className=\"font-semibold\">{isGenerating ? 'Generating...' : 'Generate Feedback with AI'}</span>\r\n                  </button>\r\n                  {aiSuggestions.length > 0 && (\r\n                    <div className=\"mt-3 space-y-2\">\r\n                      <h4 className=\"text-xs font-semibold text-gray-500\">AI Suggestions (Click to use):</h4>\r\n                      {aiSuggestions.map((suggestion, index) => (\r\n                        <button\r\n                          type=\"button\"\r\n                          key={index}\r\n                          onClick={() => setFeedback(suggestion)}\r\n                          className=\"w-full text-left p-2 bg-purple-50 text-purple-800 text-sm rounded-lg hover:bg-purple-100 transition-colors flex items-start space-x-2\">\r\n                          <SparklesIcon className=\"w-4 h-4 mt-0.5 flex-shrink-0 text-purple-500\" />\r\n                          <span>{suggestion}</span>\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </main>\r\n\r\n        <div className=\"p-4 mt-auto bg-white border-t border-gray-200\">\r\n          <button\r\n            type=\"submit\"\r\n            className=\"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500\"\r\n          >\r\n            Submit Grade\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GradeSubmissionScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}