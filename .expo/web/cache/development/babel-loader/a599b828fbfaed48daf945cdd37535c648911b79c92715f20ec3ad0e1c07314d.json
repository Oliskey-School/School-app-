{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\OneDrive\\\\Desktop\\\\Project\\\\school-app-\\\\components\\\\teacher\\\\QuizBuilderScreen.tsx\";\nimport React, { useState } from 'react';\nimport { toast } from 'react-hot-toast';\nimport { supabase } from '../../lib/supabase';\nimport { PlusIcon, TrashIcon, SaveIcon, ClockIcon } from '../../constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst QuizBuilderScreen = ({\n  teacherId,\n  onClose\n}) => {\n  const [title, setTitle] = useState('');\n  const [subject, setSubject] = useState('');\n  const [grade, setGrade] = useState('');\n  const [duration, setDuration] = useState(30);\n  const [description, setDescription] = useState('');\n  const [questions, setQuestions] = useState([]);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const addQuestion = type => {\n    const newQ = {\n      id: Date.now(),\n      text: '',\n      type,\n      options: type === 'MultipleChoice' ? [{\n        id: 'opt1',\n        text: '',\n        isCorrect: false\n      }, {\n        id: 'opt2',\n        text: '',\n        isCorrect: false\n      }, {\n        id: 'opt3',\n        text: '',\n        isCorrect: false\n      }, {\n        id: 'opt4',\n        text: '',\n        isCorrect: false\n      }] : [],\n      points: type === 'MultipleChoice' ? 1 : 5\n    };\n    setQuestions([...questions, newQ]);\n    toast.success(`Added ${type === 'MultipleChoice' ? 'Multiple Choice' : 'Theory'} Question`);\n  };\n  const updateQuestionText = (id, text) => {\n    setQuestions(questions.map(q => q.id === id ? Object.assign({}, q, {\n      text\n    }) : q));\n  };\n  const updateOptionText = (qId, optId, text) => {\n    setQuestions(questions.map(q => {\n      if (q.id === qId) {\n        return Object.assign({}, q, {\n          options: q.options.map(o => o.id === optId ? Object.assign({}, o, {\n            text\n          }) : o)\n        });\n      }\n      return q;\n    }));\n  };\n  const setCorrectOption = (qId, optId) => {\n    setQuestions(questions.map(q => {\n      if (q.id === qId) {\n        return Object.assign({}, q, {\n          options: q.options.map(o => Object.assign({}, o, {\n            isCorrect: o.id === optId\n          }))\n        });\n      }\n      return q;\n    }));\n  };\n  const removeQuestion = id => {\n    setQuestions(questions.filter(q => q.id !== id));\n  };\n  const handleSaveQuiz = async () => {\n    if (!title || !subject || questions.length === 0) {\n      toast.error('Please provide a title, subject, and at least one question.');\n      return;\n    }\n    setIsSubmitting(true);\n    try {\n      const {\n        data: quizData,\n        error: quizError\n      } = await supabase.from('quizzes').insert([{\n        title,\n        subject,\n        grade: parseInt(grade) || 0,\n        teacher_id: teacherId,\n        duration_minutes: duration,\n        description,\n        is_published: true\n      }]).select().single();\n      if (quizError) throw quizError;\n      const formattedQuestions = questions.map(q => ({\n        quiz_id: quizData.id,\n        text: q.text,\n        type: q.type,\n        points: q.points,\n        options: q.type === 'MultipleChoice' ? q.options : null\n      }));\n      const {\n        error: qError\n      } = await supabase.from('questions').insert(formattedQuestions);\n      if (qError) throw qError;\n      toast.success('Quiz created successfully!');\n      onClose();\n    } catch (error) {\n      console.error('Error creating quiz:', error);\n      toast.error(`Failed to create quiz: ${error.message}`);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  return _jsxDEV(\"div\", {\n    className: \"flex flex-col h-full bg-gray-50 overflow-hidden\",\n    children: [_jsxDEV(\"div\", {\n      className: \"bg-white px-6 py-4 border-b border-gray-200 flex justify-between items-center sticky top-0 z-10\",\n      children: [_jsxDEV(\"div\", {\n        children: [_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-800\",\n          children: \"Quiz Builder\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this), _jsxDEV(\"p\", {\n          className: \"text-gray-500 text-sm\",\n          children: \"Create assessments for your students\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }, this), _jsxDEV(\"div\", {\n        className: \"flex space-x-3\",\n        children: [_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"px-4 py-2 text-gray-600 font-medium hover:bg-gray-100 rounded-lg\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this), _jsxDEV(\"button\", {\n          onClick: handleSaveQuiz,\n          disabled: isSubmitting,\n          className: \"px-6 py-2 bg-blue-600 text-white font-bold rounded-lg shadow hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2\",\n          children: [_jsxDEV(SaveIcon, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this), _jsxDEV(\"span\", {\n            children: isSubmitting ? 'Saving...' : 'Publish Quiz'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }, this), _jsxDEV(\"div\", {\n      className: \"flex-grow overflow-y-auto p-6 space-y-6\",\n      children: [_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-xl shadow-sm border border-gray-200 space-y-4\",\n        children: [_jsxDEV(\"h2\", {\n          className: \"text-lg font-bold text-gray-800 border-b pb-2\",\n          children: \"Quiz Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }, this), _jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: [_jsxDEV(\"div\", {\n            children: [_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Quiz Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 29\n            }, this), _jsxDEV(\"input\", {\n              type: \"text\",\n              value: title,\n              onChange: e => setTitle(e.target.value),\n              className: \"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\",\n              placeholder: \"e.g. Weekly Math Assessment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 25\n          }, this), _jsxDEV(\"div\", {\n            children: [_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Subject\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 29\n            }, this), _jsxDEV(\"input\", {\n              type: \"text\",\n              value: subject,\n              onChange: e => setSubject(e.target.value),\n              className: \"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\",\n              placeholder: \"e.g. Mathematics\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }, this), _jsxDEV(\"div\", {\n            children: [_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Grade Level\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 29\n            }, this), _jsxDEV(\"input\", {\n              type: \"number\",\n              value: grade,\n              onChange: e => setGrade(e.target.value),\n              className: \"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\",\n              placeholder: \"e.g. 10\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 25\n          }, this), _jsxDEV(\"div\", {\n            children: [_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Duration (Minutes)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 29\n            }, this), _jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [_jsxDEV(ClockIcon, {\n                className: \"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 33\n              }, this), _jsxDEV(\"input\", {\n                type: \"number\",\n                value: duration,\n                onChange: e => setDuration(parseInt(e.target.value)),\n                className: \"w-full pl-10 p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 25\n          }, this), _jsxDEV(\"div\", {\n            className: \"md:col-span-2\",\n            children: [_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Description / Instructions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 29\n            }, this), _jsxDEV(\"textarea\", {\n              value: description,\n              onChange: e => setDescription(e.target.value),\n              className: \"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\",\n              rows: 2,\n              placeholder: \"Instructions for students...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this), _jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center\",\n          children: [_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold text-gray-800\",\n            children: [\"Questions (\", questions.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 25\n          }, this), _jsxDEV(\"div\", {\n            className: \"flex space-x-2\",\n            children: [_jsxDEV(\"button\", {\n              onClick: () => addQuestion('MultipleChoice'),\n              className: \"px-4 py-2 bg-white border border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50 flex items-center shadow-sm\",\n              children: [_jsxDEV(PlusIcon, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 33\n              }, this), \" MCQ\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 29\n            }, this), _jsxDEV(\"button\", {\n              onClick: () => addQuestion('Theory'),\n              className: \"px-4 py-2 bg-white border border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50 flex items-center shadow-sm\",\n              children: [_jsxDEV(PlusIcon, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 33\n              }, this), \" Theory\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 21\n        }, this), questions.map((q, index) => _jsxDEV(\"div\", {\n          className: \"bg-white p-6 rounded-xl shadow-sm border border-gray-200 relative group transition-all hover:shadow-md\",\n          children: [_jsxDEV(\"div\", {\n            className: \"absolute top-4 right-4\",\n            children: _jsxDEV(\"button\", {\n              onClick: () => removeQuestion(q.id),\n              className: \"text-gray-400 hover:text-red-500\",\n              children: _jsxDEV(TrashIcon, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 29\n          }, this), _jsxDEV(\"div\", {\n            className: \"flex items-start space-x-4\",\n            children: [_jsxDEV(\"span\", {\n              className: \"bg-gray-100 text-gray-600 px-3 py-1 rounded-full font-bold text-sm\",\n              children: [\"Q\", index + 1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 33\n            }, this), _jsxDEV(\"div\", {\n              className: \"flex-grow space-y-4\",\n              children: [_jsxDEV(\"input\", {\n                type: \"text\",\n                value: q.text,\n                onChange: e => updateQuestionText(q.id, e.target.value),\n                placeholder: \"Enter your question here...\",\n                className: \"w-full text-lg font-medium border-b border-gray-200 outline-none focus:border-blue-500 pb-2 bg-transparent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 37\n              }, this), q.type === 'MultipleChoice' && _jsxDEV(\"div\", {\n                className: \"space-y-3 mt-4\",\n                children: [q.options.map(opt => _jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-3\",\n                  children: [_jsxDEV(\"button\", {\n                    onClick: () => setCorrectOption(q.id, opt.id),\n                    className: `w-6 h-6 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${opt.isCorrect ? 'border-green-500 bg-green-50' : 'border-gray-300'}`,\n                    title: \"Mark as correct answer\",\n                    children: opt.isCorrect && _jsxDEV(\"div\", {\n                      className: \"w-3 h-3 bg-green-500 rounded-full\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 265,\n                      columnNumber: 75\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 53\n                  }, this), _jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: opt.text,\n                    onChange: e => updateOptionText(q.id, opt.id, e.target.value),\n                    className: `flex-grow p-2 border rounded-lg outline-none text-sm ${opt.isCorrect ? 'border-green-200 bg-green-50/30' : 'border-gray-200 focus:border-blue-500'}`,\n                    placeholder: `Option ${opt.id}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 53\n                  }, this)]\n                }, opt.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 49\n                }, this)), _jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-400 italic mt-2 ml-9\",\n                  children: \"Select the radio button to mark the correct answer.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 41\n              }, this), q.type === 'Theory' && _jsxDEV(\"div\", {\n                className: \"bg-gray-50 p-4 rounded-lg border border-gray-200 border-dashed text-gray-400 text-sm\",\n                children: \"Student will input a text answer for this question.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 29\n          }, this)]\n        }, q.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 25\n        }, this)), questions.length === 0 && _jsxDEV(\"div\", {\n          className: \"text-center py-12 bg-white rounded-xl border-2 border-dashed border-gray-200 text-gray-400\",\n          children: [_jsxDEV(\"p\", {\n            children: \"No questions added yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 29\n          }, this), _jsxDEV(\"p\", {\n            className: \"text-sm\",\n            children: \"Click the buttons above to add your first question.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 9\n  }, this);\n};\nexport default QuizBuilderScreen;","map":{"version":3,"names":["React","useState","toast","supabase","PlusIcon","TrashIcon","SaveIcon","ClockIcon","jsxDEV","_jsxDEV","QuizBuilderScreen","teacherId","onClose","title","setTitle","subject","setSubject","grade","setGrade","duration","setDuration","description","setDescription","questions","setQuestions","isSubmitting","setIsSubmitting","addQuestion","type","newQ","id","Date","now","text","options","isCorrect","points","success","updateQuestionText","map","q","Object","assign","updateOptionText","qId","optId","o","setCorrectOption","removeQuestion","filter","handleSaveQuiz","length","error","data","quizData","quizError","from","insert","parseInt","teacher_id","duration_minutes","is_published","select","single","formattedQuestions","quiz_id","qError","console","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","value","onChange","e","target","placeholder","rows","index","opt"],"sources":["C:/Users/USER/OneDrive/Desktop/Project/school-app-/components/teacher/QuizBuilderScreen.tsx"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport { toast } from 'react-hot-toast';\r\nimport { supabase } from '../../lib/supabase';\r\nimport { PlusIcon, TrashIcon, SaveIcon, CheckCircleIcon, XCircleIcon, ClockIcon } from '../../constants';\r\n// Note: Using new 'Quiz', 'Question' types from types.ts automatically if imported, ensuring no conflict with 'GamifiedQuiz' if explicit.\r\nimport { Question } from '../../types';\r\n\r\ninterface QuizBuilderScreenProps {\r\n    teacherId: number;\r\n    onClose: () => void;\r\n}\r\n\r\n// Temporary local type for form state before saving\r\ninterface WarningQuestionState {\r\n    id: number; // temp id\r\n    text: string;\r\n    type: 'MultipleChoice' | 'Theory';\r\n    options: { id: string; text: string; isCorrect: boolean }[];\r\n    points: number;\r\n}\r\n\r\nconst QuizBuilderScreen: React.FC<QuizBuilderScreenProps> = ({ teacherId, onClose }) => {\r\n    const [title, setTitle] = useState('');\r\n    const [subject, setSubject] = useState('');\r\n    const [grade, setGrade] = useState('');\r\n    const [duration, setDuration] = useState(30);\r\n    const [description, setDescription] = useState('');\r\n    const [questions, setQuestions] = useState<WarningQuestionState[]>([]);\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n    const addQuestion = (type: 'MultipleChoice' | 'Theory') => {\r\n        const newQ: WarningQuestionState = {\r\n            id: Date.now(),\r\n            text: '',\r\n            type,\r\n            options: type === 'MultipleChoice' ? [\r\n                { id: 'opt1', text: '', isCorrect: false },\r\n                { id: 'opt2', text: '', isCorrect: false },\r\n                { id: 'opt3', text: '', isCorrect: false },\r\n                { id: 'opt4', text: '', isCorrect: false }\r\n            ] : [],\r\n            points: type === 'MultipleChoice' ? 1 : 5\r\n        };\r\n        setQuestions([...questions, newQ]);\r\n        toast.success(`Added ${type === 'MultipleChoice' ? 'Multiple Choice' : 'Theory'} Question`);\r\n    };\r\n\r\n    const updateQuestionText = (id: number, text: string) => {\r\n        setQuestions(questions.map(q => q.id === id ? { ...q, text } : q));\r\n    };\r\n\r\n    const updateOptionText = (qId: number, optId: string, text: string) => {\r\n        setQuestions(questions.map(q => {\r\n            if (q.id === qId) {\r\n                return {\r\n                    ...q,\r\n                    options: q.options.map(o => o.id === optId ? { ...o, text } : o)\r\n                };\r\n            }\r\n            return q;\r\n        }));\r\n    };\r\n\r\n    const setCorrectOption = (qId: number, optId: string) => {\r\n        setQuestions(questions.map(q => {\r\n            if (q.id === qId) {\r\n                return {\r\n                    ...q,\r\n                    options: q.options.map(o => ({ ...o, isCorrect: o.id === optId }))\r\n                };\r\n            }\r\n            return q;\r\n        }));\r\n    };\r\n\r\n    const removeQuestion = (id: number) => {\r\n        setQuestions(questions.filter(q => q.id !== id));\r\n    };\r\n\r\n    const handleSaveQuiz = async () => {\r\n        if (!title || !subject || questions.length === 0) {\r\n            toast.error('Please provide a title, subject, and at least one question.');\r\n            return;\r\n        }\r\n\r\n        setIsSubmitting(true);\r\n        try {\r\n            // 1. Create Quiz Record\r\n            const { data: quizData, error: quizError } = await supabase\r\n                .from('quizzes')\r\n                .insert([{\r\n                    title,\r\n                    subject,\r\n                    grade: parseInt(grade) || 0,\r\n                    teacher_id: teacherId,\r\n                    duration_minutes: duration,\r\n                    description,\r\n                    is_published: true // auto-publish for now\r\n                }])\r\n                .select()\r\n                .single();\r\n\r\n            if (quizError) throw quizError;\r\n\r\n            // 2. Create Questions\r\n            const formattedQuestions = questions.map(q => ({\r\n                quiz_id: quizData.id,\r\n                text: q.text,\r\n                type: q.type,\r\n                points: q.points,\r\n                options: q.type === 'MultipleChoice' ? q.options : null\r\n            }));\r\n\r\n            const { error: qError } = await supabase\r\n                .from('questions')\r\n                .insert(formattedQuestions);\r\n\r\n            if (qError) throw qError;\r\n\r\n            toast.success('Quiz created successfully!');\r\n            onClose();\r\n\r\n        } catch (error: any) {\r\n            console.error('Error creating quiz:', error);\r\n            toast.error(`Failed to create quiz: ${error.message}`);\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex flex-col h-full bg-gray-50 overflow-hidden\">\r\n            {/* Header */}\r\n            <div className=\"bg-white px-6 py-4 border-b border-gray-200 flex justify-between items-center sticky top-0 z-10\">\r\n                <div>\r\n                    <h1 className=\"text-2xl font-bold text-gray-800\">Quiz Builder</h1>\r\n                    <p className=\"text-gray-500 text-sm\">Create assessments for your students</p>\r\n                </div>\r\n                <div className=\"flex space-x-3\">\r\n                    <button onClick={onClose} className=\"px-4 py-2 text-gray-600 font-medium hover:bg-gray-100 rounded-lg\">\r\n                        Cancel\r\n                    </button>\r\n                    <button\r\n                        onClick={handleSaveQuiz}\r\n                        disabled={isSubmitting}\r\n                        className=\"px-6 py-2 bg-blue-600 text-white font-bold rounded-lg shadow hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2\"\r\n                    >\r\n                        <SaveIcon className=\"w-5 h-5\" />\r\n                        <span>{isSubmitting ? 'Saving...' : 'Publish Quiz'}</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex-grow overflow-y-auto p-6 space-y-6\">\r\n\r\n                {/* Quiz Details Card */}\r\n                <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200 space-y-4\">\r\n                    <h2 className=\"text-lg font-bold text-gray-800 border-b pb-2\">Quiz Details</h2>\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Quiz Title</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={title}\r\n                                onChange={e => setTitle(e.target.value)}\r\n                                className=\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\"\r\n                                placeholder=\"e.g. Weekly Math Assessment\"\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Subject</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={subject}\r\n                                onChange={e => setSubject(e.target.value)}\r\n                                className=\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\"\r\n                                placeholder=\"e.g. Mathematics\"\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Grade Level</label>\r\n                            <input\r\n                                type=\"number\"\r\n                                value={grade}\r\n                                onChange={e => setGrade(e.target.value)}\r\n                                className=\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\"\r\n                                placeholder=\"e.g. 10\"\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Duration (Minutes)</label>\r\n                            <div className=\"relative\">\r\n                                <ClockIcon className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n                                <input\r\n                                    type=\"number\"\r\n                                    value={duration}\r\n                                    onChange={e => setDuration(parseInt(e.target.value))}\r\n                                    className=\"w-full pl-10 p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"md:col-span-2\">\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description / Instructions</label>\r\n                            <textarea\r\n                                value={description}\r\n                                onChange={e => setDescription(e.target.value)}\r\n                                className=\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\"\r\n                                rows={2}\r\n                                placeholder=\"Instructions for students...\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Questions List */}\r\n                <div className=\"space-y-4\">\r\n                    <div className=\"flex justify-between items-center\">\r\n                        <h2 className=\"text-xl font-bold text-gray-800\">Questions ({questions.length})</h2>\r\n                        <div className=\"flex space-x-2\">\r\n                            <button\r\n                                onClick={() => addQuestion('MultipleChoice')}\r\n                                className=\"px-4 py-2 bg-white border border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50 flex items-center shadow-sm\"\r\n                            >\r\n                                <PlusIcon className=\"w-4 h-4 mr-2\" /> MCQ\r\n                            </button>\r\n                            <button\r\n                                onClick={() => addQuestion('Theory')}\r\n                                className=\"px-4 py-2 bg-white border border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50 flex items-center shadow-sm\"\r\n                            >\r\n                                <PlusIcon className=\"w-4 h-4 mr-2\" /> Theory\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {questions.map((q, index) => (\r\n                        <div key={q.id} className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200 relative group transition-all hover:shadow-md\">\r\n                            <div className=\"absolute top-4 right-4\">\r\n                                <button onClick={() => removeQuestion(q.id)} className=\"text-gray-400 hover:text-red-500\">\r\n                                    <TrashIcon className=\"w-5 h-5\" />\r\n                                </button>\r\n                            </div>\r\n\r\n                            <div className=\"flex items-start space-x-4\">\r\n                                <span className=\"bg-gray-100 text-gray-600 px-3 py-1 rounded-full font-bold text-sm\">Q{index + 1}</span>\r\n                                <div className=\"flex-grow space-y-4\">\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        value={q.text}\r\n                                        onChange={e => updateQuestionText(q.id, e.target.value)}\r\n                                        placeholder=\"Enter your question here...\"\r\n                                        className=\"w-full text-lg font-medium border-b border-gray-200 outline-none focus:border-blue-500 pb-2 bg-transparent\"\r\n                                    />\r\n\r\n                                    {q.type === 'MultipleChoice' && (\r\n                                        <div className=\"space-y-3 mt-4\">\r\n                                            {q.options.map((opt) => (\r\n                                                <div key={opt.id} className=\"flex items-center space-x-3\">\r\n                                                    <button\r\n                                                        onClick={() => setCorrectOption(q.id, opt.id)}\r\n                                                        className={`w-6 h-6 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${opt.isCorrect ? 'border-green-500 bg-green-50' : 'border-gray-300'\r\n                                                            }`}\r\n                                                        title=\"Mark as correct answer\"\r\n                                                    >\r\n                                                        {opt.isCorrect && <div className=\"w-3 h-3 bg-green-500 rounded-full\" />}\r\n                                                    </button>\r\n                                                    <input\r\n                                                        type=\"text\"\r\n                                                        value={opt.text}\r\n                                                        onChange={e => updateOptionText(q.id, opt.id, e.target.value)}\r\n                                                        className={`flex-grow p-2 border rounded-lg outline-none text-sm ${opt.isCorrect ? 'border-green-200 bg-green-50/30' : 'border-gray-200 focus:border-blue-500'}`}\r\n                                                        placeholder={`Option ${opt.id}`}\r\n                                                    />\r\n                                                </div>\r\n                                            ))}\r\n                                            <p className=\"text-xs text-gray-400 italic mt-2 ml-9\">Select the radio button to mark the correct answer.</p>\r\n                                        </div>\r\n                                    )}\r\n\r\n                                    {q.type === 'Theory' && (\r\n                                        <div className=\"bg-gray-50 p-4 rounded-lg border border-gray-200 border-dashed text-gray-400 text-sm\">\r\n                                            Student will input a text answer for this question.\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n\r\n                    {questions.length === 0 && (\r\n                        <div className=\"text-center py-12 bg-white rounded-xl border-2 border-dashed border-gray-200 text-gray-400\">\r\n                            <p>No questions added yet.</p>\r\n                            <p className=\"text-sm\">Click the buttons above to add your first question.</p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default QuizBuilderScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}