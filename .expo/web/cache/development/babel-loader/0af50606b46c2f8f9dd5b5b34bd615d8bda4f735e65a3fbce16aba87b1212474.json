{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\OneDrive\\\\Desktop\\\\Project\\\\school-app-\\\\components\\\\student\\\\AssignmentSubmissionScreen.tsx\";\nimport React, { useState, useRef } from 'react';\nimport { toast } from 'react-hot-toast';\nimport { SUBJECT_COLORS, ClockIcon, PaperclipIcon, XCircleIcon, FileDocIcon, FilePdfIcon, FileImageIcon, DocumentTextIcon } from '../../constants';\nimport { supabase } from '../../lib/supabase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getFileIcon = fileName => {\n  const extension = fileName.split('.').pop()?.toLowerCase();\n  if (extension === 'pdf') return _jsxDEV(FilePdfIcon, {\n    className: \"text-red-500 w-8 h-8\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 35\n  }, this);\n  if (extension === 'doc' || extension === 'docx') return _jsxDEV(FileDocIcon, {\n    className: \"text-blue-500 w-8 h-8\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 59\n  }, this);\n  if (['jpg', 'jpeg', 'png', 'gif'].includes(extension || '')) return _jsxDEV(FileImageIcon, {\n    className: \"text-green-500 w-8 h-8\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 71\n  }, this);\n  return _jsxDEV(DocumentTextIcon, {\n    className: \"text-gray-500 w-8 h-8\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 10\n  }, this);\n};\nconst formatFileSize = bytes => {\n  if (bytes === 0) return '0 Bytes';\n  const k = 1024;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n};\nconst AssignmentSubmissionScreen = ({\n  assignment,\n  handleBack,\n  forceUpdate,\n  studentId\n}) => {\n  const [textAnswer, setTextAnswer] = useState('');\n  const [attachedFiles, setAttachedFiles] = useState([]);\n  const [existingSubmission, setExistingSubmission] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const fileInputRef = useRef(null);\n  const subjectColor = SUBJECT_COLORS[assignment.subject] || 'bg-gray-100 text-gray-800';\n  React.useEffect(() => {\n    const loadSubmission = async () => {\n      try {\n        const {\n          data,\n          error\n        } = await supabase.from('submissions').select('*').eq('assignment_id', assignment.id).eq('student_id', studentId).maybeSingle();\n        if (data) {\n          setExistingSubmission(data);\n          setTextAnswer(data.text_submission || '');\n        }\n      } catch (err) {\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadSubmission();\n  }, [assignment.id, studentId]);\n  const isSubmitted = !!existingSubmission;\n  const handleFileChange = event => {\n    if (event.target.files) {\n      setAttachedFiles(prevFiles => [...prevFiles, ...Array.from(event.target.files)]);\n    }\n  };\n  const handleRemoveFile = fileToRemove => {\n    setAttachedFiles(prevFiles => prevFiles.filter(file => file !== fileToRemove));\n  };\n  const handleAttachClick = () => {\n    fileInputRef.current?.click();\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!textAnswer && attachedFiles.length === 0) {\n      toast.error(\"Please provide an answer or attach a file.\");\n      return;\n    }\n    try {\n      const fileNames = attachedFiles.map(f => f.name).join(',');\n      const submissionPayload = {\n        assignment_id: assignment.id,\n        student_id: studentId,\n        text_submission: textAnswer,\n        file_url: fileNames || existingSubmission?.file_url,\n        submitted_at: new Date().toISOString(),\n        is_late: new Date() > new Date(assignment.dueDate),\n        status: 'Submitted'\n      };\n      if (existingSubmission) {\n        const {\n          error\n        } = await supabase.from('submissions').update(submissionPayload).eq('id', existingSubmission.id);\n        if (error) throw error;\n      } else {\n        const {\n          error\n        } = await supabase.from('submissions').insert(submissionPayload);\n        if (error) throw error;\n        await supabase.rpc('increment_submission_count', {\n          row_id: assignment.id\n        });\n        const {\n          data: assignData\n        } = await supabase.from('assignments').select('submissions_count').eq('id', assignment.id).single();\n        if (assignData) {\n          await supabase.from('assignments').update({\n            submissions_count: (assignData.submissions_count || 0) + 1\n          }).eq('id', assignment.id);\n        }\n      }\n      toast.success(\"Assignment submitted successfully!\");\n      forceUpdate();\n      handleBack();\n    } catch (err) {\n      console.error(\"Submission error:\", err);\n      toast.error(\"Failed to submit assignment: \" + err.message);\n    }\n  };\n  return _jsxDEV(\"div\", {\n    className: \"flex flex-col h-full bg-gray-50\",\n    children: _jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"flex-grow flex flex-col\",\n      children: [_jsxDEV(\"main\", {\n        className: \"flex-grow p-4 space-y-4 overflow-y-auto\",\n        children: [_jsxDEV(\"div\", {\n          className: \"bg-white p-4 rounded-xl shadow-sm\",\n          children: [_jsxDEV(\"div\", {\n            className: \"flex justify-between items-start mb-2\",\n            children: [_jsxDEV(\"h3\", {\n              className: \"font-bold text-xl text-gray-800 pr-2 flex-1\",\n              children: assignment.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this), _jsxDEV(\"span\", {\n              className: `px-2.5 py-1 text-xs font-semibold rounded-full flex-shrink-0 ${subjectColor}`,\n              children: assignment.subject\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), _jsxDEV(\"div\", {\n            className: \"flex items-center text-sm text-gray-500\",\n            children: [_jsxDEV(ClockIcon, {\n              className: \"w-4 h-4 mr-1.5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this), _jsxDEV(\"span\", {\n              children: [\"Due: \", new Date(assignment.dueDate).toLocaleString('en-US', {\n                month: 'short',\n                day: 'numeric',\n                year: 'numeric',\n                hour: 'numeric',\n                minute: '2-digit'\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), _jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 lg:grid-cols-2 gap-4\",\n          children: [_jsxDEV(\"div\", {\n            className: \"bg-white p-4 rounded-xl shadow-sm\",\n            children: [_jsxDEV(\"label\", {\n              htmlFor: \"text-answer\",\n              className: \"block text-md font-bold text-gray-700 mb-2\",\n              children: \"Your Answer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), _jsxDEV(\"textarea\", {\n              id: \"text-answer\",\n              value: textAnswer,\n              onChange: e => setTextAnswer(e.target.value),\n              rows: 12,\n              placeholder: \"Type your answer here...\",\n              className: \"w-full h-full px-3 py-2 text-gray-700 bg-gray-50 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\",\n              disabled: isSubmitted\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this), _jsxDEV(\"div\", {\n            className: \"bg-white p-4 rounded-xl shadow-sm\",\n            children: [_jsxDEV(\"h3\", {\n              className: \"block text-md font-bold text-gray-700 mb-2\",\n              children: \"Attachments\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this), _jsxDEV(\"input\", {\n              type: \"file\",\n              multiple: true,\n              ref: fileInputRef,\n              onChange: handleFileChange,\n              className: \"hidden\",\n              disabled: isSubmitted\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this), !isSubmitted && _jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handleAttachClick,\n              className: \"w-full flex items-center justify-center space-x-2 px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:bg-gray-100 hover:border-orange-400 hover:text-orange-600 transition-colors\",\n              children: [_jsxDEV(PaperclipIcon, {\n                className: \"h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 19\n              }, this), _jsxDEV(\"span\", {\n                className: \"font-semibold\",\n                children: \"Attach Files\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 17\n            }, this), (attachedFiles.length > 0 || isSubmitted) && _jsxDEV(\"div\", {\n              className: \"space-y-2 pt-3 max-h-96 overflow-y-auto\",\n              children: [_jsxDEV(\"h4\", {\n                className: \"text-xs font-semibold text-gray-500\",\n                children: \"Attached Files:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 19\n              }, this), (() => {\n                const filesToShow = [];\n                if (existingSubmission?.file_url) {\n                  const names = existingSubmission.file_url.split(',');\n                  filesToShow.push(...names.map(n => ({\n                    name: n.trim(),\n                    size: 0\n                  })));\n                } else if (assignment.submission?.files) {\n                  filesToShow.push(...assignment.submission.files);\n                }\n                return filesToShow.map((file, index) => _jsxDEV(\"div\", {\n                  className: \"flex items-center p-2 bg-gray-100 rounded-lg\",\n                  children: [getFileIcon(file.name), _jsxDEV(\"div\", {\n                    className: \"ml-3 flex-grow overflow-hidden\",\n                    children: [_jsxDEV(\"p\", {\n                      className: \"text-sm font-medium text-gray-800 truncate\",\n                      children: file.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 204,\n                      columnNumber: 27\n                    }, this), _jsxDEV(\"p\", {\n                      className: \"text-xs text-gray-500\",\n                      children: formatFileSize(file.size)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 25\n                  }, this)]\n                }, `existing-${index}`, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 23\n                }, this));\n              })(), attachedFiles.map((file, index) => _jsxDEV(\"div\", {\n                className: \"flex items-center p-2 bg-gray-50 rounded-lg\",\n                children: [getFileIcon(file.name), _jsxDEV(\"div\", {\n                  className: \"ml-3 flex-grow overflow-hidden\",\n                  children: [_jsxDEV(\"p\", {\n                    className: \"text-sm font-medium text-gray-800 truncate\",\n                    children: file.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 25\n                  }, this), _jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500\",\n                    children: formatFileSize(file.size)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 215,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 23\n                }, this), _jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => handleRemoveFile(file),\n                  className: \"ml-2 p-1 text-gray-400 hover:text-red-500\",\n                  \"aria-label\": `Remove ${file.name}`,\n                  children: _jsxDEV(XCircleIcon, {\n                    className: \"w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 23\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), !isSubmitted && _jsxDEV(\"div\", {\n        className: \"p-4 mt-auto bg-white border-t border-gray-200\",\n        children: _jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm font-medium text-white bg-orange-500 hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500\",\n          children: \"Submit Assignment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 5\n  }, this);\n};\nexport default AssignmentSubmissionScreen;","map":{"version":3,"names":["React","useState","useRef","toast","SUBJECT_COLORS","ClockIcon","PaperclipIcon","XCircleIcon","FileDocIcon","FilePdfIcon","FileImageIcon","DocumentTextIcon","supabase","jsxDEV","_jsxDEV","getFileIcon","fileName","extension","split","pop","toLowerCase","className","_jsxFileName","lineNumber","columnNumber","includes","formatFileSize","bytes","k","sizes","i","Math","floor","log","parseFloat","pow","toFixed","AssignmentSubmissionScreen","assignment","handleBack","forceUpdate","studentId","textAnswer","setTextAnswer","attachedFiles","setAttachedFiles","existingSubmission","setExistingSubmission","loading","setLoading","fileInputRef","subjectColor","subject","useEffect","loadSubmission","data","error","from","select","eq","id","maybeSingle","text_submission","err","console","isSubmitted","handleFileChange","event","target","files","prevFiles","Array","handleRemoveFile","fileToRemove","filter","file","handleAttachClick","current","click","handleSubmit","e","preventDefault","length","fileNames","map","f","name","join","submissionPayload","assignment_id","student_id","file_url","submitted_at","Date","toISOString","is_late","dueDate","status","update","insert","rpc","row_id","assignData","single","submissions_count","success","message","children","onSubmit","title","toLocaleString","month","day","year","hour","minute","htmlFor","value","onChange","rows","placeholder","disabled","type","multiple","ref","onClick","filesToShow","names","push","n","trim","size","submission","index"],"sources":["C:/Users/USER/OneDrive/Desktop/Project/school-app-/components/student/AssignmentSubmissionScreen.tsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport { toast } from 'react-hot-toast';\r\nimport { StudentAssignment, Submission } from '../../types';\r\nimport { SUBJECT_COLORS, ClockIcon, PaperclipIcon, XCircleIcon, FileDocIcon, FilePdfIcon, FileImageIcon, DocumentTextIcon } from '../../constants';\r\nimport { supabase } from '../../lib/supabase';\r\n\r\nconst getFileIcon = (fileName: string): React.ReactElement => {\r\n  const extension = fileName.split('.').pop()?.toLowerCase();\r\n  if (extension === 'pdf') return <FilePdfIcon className=\"text-red-500 w-8 h-8\" />;\r\n  if (extension === 'doc' || extension === 'docx') return <FileDocIcon className=\"text-blue-500 w-8 h-8\" />;\r\n  if (['jpg', 'jpeg', 'png', 'gif'].includes(extension || '')) return <FileImageIcon className=\"text-green-500 w-8 h-8\" />;\r\n  return <DocumentTextIcon className=\"text-gray-500 w-8 h-8\" />;\r\n};\r\n\r\nconst formatFileSize = (bytes: number): string => {\r\n  if (bytes === 0) return '0 Bytes';\r\n  const k = 1024;\r\n  const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n};\r\n\r\ninterface AssignmentSubmissionScreenProps {\r\n  assignment: StudentAssignment;\r\n  handleBack: () => void;\r\n  forceUpdate: () => void;\r\n  studentId: number;\r\n}\r\n\r\nconst AssignmentSubmissionScreen: React.FC<AssignmentSubmissionScreenProps> = ({ assignment, handleBack, forceUpdate, studentId }) => {\r\n  const [textAnswer, setTextAnswer] = useState('');\r\n  const [attachedFiles, setAttachedFiles] = useState<File[]>([]);\r\n  const [existingSubmission, setExistingSubmission] = useState<any>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n  const subjectColor = SUBJECT_COLORS[assignment.subject] || 'bg-gray-100 text-gray-800';\r\n\r\n  // Load existing submission\r\n  React.useEffect(() => {\r\n    const loadSubmission = async () => {\r\n      try {\r\n        const { data, error } = await supabase\r\n          .from('submissions')\r\n          .select('*')\r\n          .eq('assignment_id', assignment.id)\r\n          .eq('student_id', studentId)\r\n          .maybeSingle();\r\n\r\n        if (data) {\r\n          setExistingSubmission(data);\r\n          setTextAnswer(data.text_submission || '');\r\n          // Parse file_url (assuming it might be a JSON string of file names for now, or just a single string)\r\n          // For this demo, if it's a string, we treat it as one file\r\n          // If we want to persist real files without storage, we can't really restore File objects easily.\r\n          // We will rely on `existingSubmission` to show \"Previously submitted files\" if needed, \r\n          // but for now let's just show text answer and allow new upload or overwrite.\r\n        }\r\n      } catch (err) {\r\n        console.error(err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    loadSubmission();\r\n  }, [assignment.id, studentId]);\r\n\r\n  const isSubmitted = !!existingSubmission;\r\n\r\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (event.target.files) {\r\n      setAttachedFiles(prevFiles => [...prevFiles, ...Array.from(event.target.files!)]);\r\n    }\r\n  };\r\n\r\n  const handleRemoveFile = (fileToRemove: File) => {\r\n    setAttachedFiles(prevFiles => prevFiles.filter(file => file !== fileToRemove));\r\n  };\r\n\r\n  const handleAttachClick = () => {\r\n    fileInputRef.current?.click();\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!textAnswer && attachedFiles.length === 0) {\r\n      toast.error(\"Please provide an answer or attach a file.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Prepare file \"URLs\" (mocking upload since no storage bucket)\r\n      // We'll just save the filenames as a comma-separated string in file_url for this demo\r\n      const fileNames = attachedFiles.map(f => f.name).join(',');\r\n\r\n      const submissionPayload = {\r\n        assignment_id: assignment.id,\r\n        student_id: studentId,\r\n        text_submission: textAnswer,\r\n        file_url: fileNames || (existingSubmission?.file_url),\r\n        submitted_at: new Date().toISOString(),\r\n        is_late: new Date() > new Date(assignment.dueDate),\r\n        status: 'Submitted'\r\n      };\r\n\r\n      if (existingSubmission) {\r\n        // Update\r\n        const { error } = await supabase\r\n          .from('submissions')\r\n          .update(submissionPayload)\r\n          .eq('id', existingSubmission.id);\r\n\r\n        if (error) throw error;\r\n      } else {\r\n        // Insert\r\n        const { error } = await supabase\r\n          .from('submissions')\r\n          .insert(submissionPayload);\r\n\r\n        if (error) throw error;\r\n\r\n        // Increment assignment count (best effort)\r\n        await supabase.rpc('increment_submission_count', { row_id: assignment.id });\r\n        // If RPC doesn't exist, we might fail or need simpler approach. \r\n        // Simpler approach: read-modify-write (unsafe for concurrency but ok for demo)\r\n        const { data: assignData } = await supabase.from('assignments').select('submissions_count').eq('id', assignment.id).single();\r\n        if (assignData) {\r\n          await supabase.from('assignments').update({ submissions_count: (assignData.submissions_count || 0) + 1 }).eq('id', assignment.id);\r\n        }\r\n      }\r\n\r\n      toast.success(\"Assignment submitted successfully!\");\r\n      forceUpdate(); // To refresh parent list\r\n      handleBack();\r\n\r\n    } catch (err: any) {\r\n      console.error(\"Submission error:\", err);\r\n      toast.error(\"Failed to submit assignment: \" + err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full bg-gray-50\">\r\n      <form onSubmit={handleSubmit} className=\"flex-grow flex flex-col\">\r\n        <main className=\"flex-grow p-4 space-y-4 overflow-y-auto\">\r\n          {/* Assignment Details */}\r\n          <div className=\"bg-white p-4 rounded-xl shadow-sm\">\r\n            <div className=\"flex justify-between items-start mb-2\">\r\n              <h3 className=\"font-bold text-xl text-gray-800 pr-2 flex-1\">{assignment.title}</h3>\r\n              <span className={`px-2.5 py-1 text-xs font-semibold rounded-full flex-shrink-0 ${subjectColor}`}>\r\n                {assignment.subject}\r\n              </span>\r\n            </div>\r\n            <div className=\"flex items-center text-sm text-gray-500\">\r\n              <ClockIcon className=\"w-4 h-4 mr-1.5\" />\r\n              <span>Due: {new Date(assignment.dueDate).toLocaleString('en-US', { month: 'short', day: 'numeric', year: 'numeric', hour: 'numeric', minute: '2-digit' })}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\r\n            {/* Answer Textbox */}\r\n            <div className=\"bg-white p-4 rounded-xl shadow-sm\">\r\n              <label htmlFor=\"text-answer\" className=\"block text-md font-bold text-gray-700 mb-2\">Your Answer</label>\r\n              <textarea\r\n                id=\"text-answer\"\r\n                value={textAnswer}\r\n                onChange={e => setTextAnswer(e.target.value)}\r\n                rows={12}\r\n                placeholder=\"Type your answer here...\"\r\n                className=\"w-full h-full px-3 py-2 text-gray-700 bg-gray-50 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\"\r\n                disabled={isSubmitted}\r\n              />\r\n            </div>\r\n\r\n            {/* File Attachments */}\r\n            <div className=\"bg-white p-4 rounded-xl shadow-sm\">\r\n              <h3 className=\"block text-md font-bold text-gray-700 mb-2\">Attachments</h3>\r\n              <input type=\"file\" multiple ref={fileInputRef} onChange={handleFileChange} className=\"hidden\" disabled={isSubmitted} />\r\n              {!isSubmitted && (\r\n                <button type=\"button\" onClick={handleAttachClick} className=\"w-full flex items-center justify-center space-x-2 px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:bg-gray-100 hover:border-orange-400 hover:text-orange-600 transition-colors\">\r\n                  <PaperclipIcon className=\"h-5 w-5\" />\r\n                  <span className=\"font-semibold\">Attach Files</span>\r\n                </button>\r\n              )}\r\n\r\n              {(attachedFiles.length > 0 || isSubmitted) && (\r\n                <div className=\"space-y-2 pt-3 max-h-96 overflow-y-auto\">\r\n                  <h4 className=\"text-xs font-semibold text-gray-500\">Attached Files:</h4>\r\n\r\n                  {/* Display existing files */}\r\n                  {(() => {\r\n                    const filesToShow = [];\r\n                    if (existingSubmission?.file_url) {\r\n                      // Parse comma separated string\r\n                      const names = existingSubmission.file_url.split(',');\r\n                      filesToShow.push(...names.map((n: string) => ({ name: n.trim(), size: 0 })));\r\n                    } else if (assignment.submission?.files) {\r\n                      filesToShow.push(...assignment.submission.files);\r\n                    }\r\n\r\n                    return filesToShow.map((file, index) => (\r\n                      <div key={`existing-${index}`} className=\"flex items-center p-2 bg-gray-100 rounded-lg\">\r\n                        {getFileIcon(file.name)}\r\n                        <div className=\"ml-3 flex-grow overflow-hidden\">\r\n                          <p className=\"text-sm font-medium text-gray-800 truncate\">{file.name}</p>\r\n                          <p className=\"text-xs text-gray-500\">{formatFileSize(file.size)}</p>\r\n                        </div>\r\n                      </div>\r\n                    ));\r\n                  })()}\r\n                  {attachedFiles.map((file, index) => (\r\n                    <div key={index} className=\"flex items-center p-2 bg-gray-50 rounded-lg\">\r\n                      {getFileIcon(file.name)}\r\n                      <div className=\"ml-3 flex-grow overflow-hidden\">\r\n                        <p className=\"text-sm font-medium text-gray-800 truncate\">{file.name}</p>\r\n                        <p className=\"text-xs text-gray-500\">{formatFileSize(file.size)}</p>\r\n                      </div>\r\n                      <button type=\"button\" onClick={() => handleRemoveFile(file)} className=\"ml-2 p-1 text-gray-400 hover:text-red-500\" aria-label={`Remove ${file.name}`}>\r\n                        <XCircleIcon className=\"w-5 h-5\" />\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </main>\r\n\r\n        {!isSubmitted && (\r\n          <div className=\"p-4 mt-auto bg-white border-t border-gray-200\">\r\n            <button type=\"submit\" className=\"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm font-medium text-white bg-orange-500 hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500\">\r\n              Submit Assignment\r\n            </button>\r\n          </div>\r\n        )}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AssignmentSubmissionScreen;"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}