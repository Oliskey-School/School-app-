{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\OneDrive\\\\Desktop\\\\Project\\\\school-app-\\\\components\\\\shared\\\\PermissionSlips.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport { supabase } from '../../lib/supabase';\nimport { useProfile } from '../../context/ProfileContext';\nimport { toast } from 'react-hot-toast';\nimport { DocumentTextIcon, CheckCircleIcon } from '../../constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PermissionSlips = () => {\n  const {\n    profile\n  } = useProfile();\n  const [slips, setSlips] = useState([]);\n  const [showCreate, setShowCreate] = useState(false);\n  const [students, setStudents] = useState([]);\n  const [formData, setFormData] = useState({\n    student_id: 0,\n    event_type: 'Field Trip',\n    event_name: '',\n    event_date: '',\n    event_location: '',\n    description: '',\n    special_instructions: ''\n  });\n  const [loading, setLoading] = useState(true);\n  const isParent = profile.role === 'Parent';\n  useEffect(() => {\n    fetchSlips();\n    if (!isParent) fetchStudents();\n  }, []);\n  const fetchSlips = async () => {\n    try {\n      setLoading(true);\n      let query = supabase.from('permission_slips').select('*, students(full_name)');\n      if (isParent) {\n        const {\n          data: children\n        } = await supabase.from('students').select('id').eq('parent_id', profile.id);\n        if (children && children.length > 0) {\n          query = query.in('student_id', children.map(c => c.id));\n        }\n      }\n      const {\n        data,\n        error\n      } = await query.order('requested_date', {\n        ascending: false\n      });\n      if (error) throw error;\n      const formatted = (data || []).map(s => Object.assign({}, s, {\n        student_name: s.students?.full_name || 'Unknown'\n      }));\n      setSlips(formatted);\n    } catch (error) {\n      console.error('Error:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchStudents = async () => {\n    const {\n      data\n    } = await supabase.from('students').select('id, full_name').order('full_name');\n    setStudents(data || []);\n  };\n  const handleCreate = async e => {\n    e.preventDefault();\n    try {\n      const {\n        data: {\n          user\n        }\n      } = await supabase.auth.getUser();\n      if (!user) return;\n      const {\n        error\n      } = await supabase.from('permission_slips').insert(Object.assign({}, formData, {\n        requested_by: user.id,\n        status: 'Pending'\n      }));\n      if (error) throw error;\n      toast.success('Permission slip created successfully!');\n      setShowCreate(false);\n      setFormData({\n        student_id: 0,\n        event_type: 'Field Trip',\n        event_name: '',\n        event_date: '',\n        event_location: '',\n        description: '',\n        special_instructions: ''\n      });\n      fetchSlips();\n    } catch (error) {\n      toast.error('Failed to create permission slip');\n    }\n  };\n  const handleSign = async slipId => {\n    try {\n      const {\n        error\n      } = await supabase.from('permission_slips').update({\n        status: 'Parent Approved',\n        parent_signed_at: new Date().toISOString(),\n        parent_signature_url: 'DIGITAL_SIGNATURE'\n      }).eq('id', slipId);\n      if (error) throw error;\n      toast.success('Permission slip signed!');\n      fetchSlips();\n    } catch (error) {\n      toast.error('Failed to sign slip');\n    }\n  };\n  const getStatusColor = status => {\n    switch (status) {\n      case 'Parent Approved':\n        return 'bg-green-100 text-green-800';\n      case 'Rejected':\n        return 'bg-red-100 text-red-800';\n      default:\n        return 'bg-yellow-100 text-yellow-800';\n    }\n  };\n  return _jsxDEV(\"div\", {\n    className: \"p-6 space-y-6\",\n    children: [_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [_jsxDEV(\"div\", {\n        children: [_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-900\",\n          children: \"Permission Slips\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this), _jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600 mt-1\",\n          children: isParent ? 'Review and sign permission slips' : 'Manage student permission slips'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }, this), !isParent && _jsxDEV(\"button\", {\n        onClick: () => setShowCreate(true),\n        className: \"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium\",\n        children: \"Create Permission Slip\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }, this), _jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 gap-4\",\n      children: loading ? _jsxDEV(\"div\", {\n        className: \"flex justify-center py-12\",\n        children: _jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }, this) : slips.length === 0 ? _jsxDEV(\"div\", {\n        className: \"text-center py-12 bg-white rounded-xl border border-gray-200\",\n        children: [_jsxDEV(DocumentTextIcon, {\n          className: \"w-16 h-16 text-gray-300 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 25\n        }, this), _jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"No permission slips\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 21\n      }, this) : slips.map(slip => _jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-sm border border-gray-100 p-6\",\n        children: _jsxDEV(\"div\", {\n          className: \"flex items-start justify-between\",\n          children: [_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2 mb-2\",\n              children: [_jsxDEV(\"span\", {\n                className: `px-3 py-1 rounded-full text-xs font-bold ${getStatusColor(slip.status)}`,\n                children: slip.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 41\n              }, this), _jsxDEV(\"span\", {\n                className: \"text-sm text-gray-600\",\n                children: slip.event_type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 37\n            }, this), _jsxDEV(\"h3\", {\n              className: \"text-lg font-bold text-gray-900 mb-2\",\n              children: slip.event_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 37\n            }, this), _jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600 mb-1\",\n              children: [_jsxDEV(\"strong\", {\n                children: \"Student:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 41\n              }, this), \" \", slip.student_name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 37\n            }, this), _jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600 mb-1\",\n              children: [_jsxDEV(\"strong\", {\n                children: \"Date:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 41\n              }, this), \" \", new Date(slip.event_date).toLocaleDateString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 37\n            }, this), _jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600 mb-1\",\n              children: [_jsxDEV(\"strong\", {\n                children: \"Location:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 41\n              }, this), \" \", slip.event_location]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 37\n            }, this), slip.description && _jsxDEV(\"p\", {\n              className: \"text-sm text-gray-700 mt-3 p-3 bg-gray-50 rounded\",\n              children: slip.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 33\n          }, this), isParent && slip.status === 'Pending' && _jsxDEV(\"div\", {\n            className: \"flex flex-col space-y-2\",\n            children: _jsxDEV(\"button\", {\n              onClick: () => handleSign(slip.id),\n              className: \"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm flex items-center space-x-1\",\n              children: [_jsxDEV(CheckCircleIcon, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 45\n              }, this), _jsxDEV(\"span\", {\n                children: \"Sign & Approve\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 29\n        }, this)\n      }, slip.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }, this), showCreate && _jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      children: _jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto\",\n        children: [_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold text-gray-900 mb-4\",\n          children: \"Create Permission Slip\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 25\n        }, this), _jsxDEV(\"form\", {\n          onSubmit: handleCreate,\n          className: \"space-y-4\",\n          children: [_jsxDEV(\"div\", {\n            children: [_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Student *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 33\n            }, this), _jsxDEV(\"select\", {\n              required: true,\n              value: formData.student_id,\n              onChange: e => setFormData(Object.assign({}, formData, {\n                student_id: Number(e.target.value)\n              })),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\",\n              children: [_jsxDEV(\"option\", {\n                value: 0,\n                children: \"Select student\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 37\n              }, this), students.map(s => _jsxDEV(\"option\", {\n                value: s.id,\n                children: s.full_name\n              }, s.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 41\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 29\n          }, this), _jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [_jsxDEV(\"div\", {\n              children: [_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Event Type *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 37\n              }, this), _jsxDEV(\"select\", {\n                value: formData.event_type,\n                onChange: e => setFormData(Object.assign({}, formData, {\n                  event_type: e.target.value\n                })),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\",\n                children: [_jsxDEV(\"option\", {\n                  children: \"Field Trip\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"option\", {\n                  children: \"Sports Event\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"option\", {\n                  children: \"Excursion\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"option\", {\n                  children: \"Medical Treatment\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"option\", {\n                  children: \"Media Release\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"option\", {\n                  children: \"Other\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 33\n            }, this), _jsxDEV(\"div\", {\n              children: [_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Event Date *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 37\n              }, this), _jsxDEV(\"input\", {\n                type: \"date\",\n                required: true,\n                value: formData.event_date,\n                onChange: e => setFormData(Object.assign({}, formData, {\n                  event_date: e.target.value\n                })),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 29\n          }, this), _jsxDEV(\"div\", {\n            children: [_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Event Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 33\n            }, this), _jsxDEV(\"input\", {\n              type: \"text\",\n              required: true,\n              value: formData.event_name,\n              onChange: e => setFormData(Object.assign({}, formData, {\n                event_name: e.target.value\n              })),\n              placeholder: \"e.g., Trip to National Museum\",\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 29\n          }, this), _jsxDEV(\"div\", {\n            children: [_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Location *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 33\n            }, this), _jsxDEV(\"input\", {\n              type: \"text\",\n              required: true,\n              value: formData.event_location,\n              onChange: e => setFormData(Object.assign({}, formData, {\n                event_location: e.target.value\n              })),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 29\n          }, this), _jsxDEV(\"div\", {\n            children: [_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 33\n            }, this), _jsxDEV(\"textarea\", {\n              value: formData.description,\n              onChange: e => setFormData(Object.assign({}, formData, {\n                description: e.target.value\n              })),\n              rows: 3,\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 29\n          }, this), _jsxDEV(\"div\", {\n            className: \"flex space-x-3 pt-4\",\n            children: [_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setShowCreate(false),\n              className: \"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 33\n            }, this), _jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium\",\n              children: \"Create Slip\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 9\n  }, this);\n};\nexport default PermissionSlips;","map":{"version":3,"names":["React","useState","useEffect","supabase","useProfile","toast","DocumentTextIcon","CheckCircleIcon","jsxDEV","_jsxDEV","PermissionSlips","profile","slips","setSlips","showCreate","setShowCreate","students","setStudents","formData","setFormData","student_id","event_type","event_name","event_date","event_location","description","special_instructions","loading","setLoading","isParent","role","fetchSlips","fetchStudents","query","from","select","data","children","eq","id","length","in","map","c","error","order","ascending","formatted","s","Object","assign","student_name","full_name","console","handleCreate","e","preventDefault","user","auth","getUser","insert","requested_by","status","success","handleSign","slipId","update","parent_signed_at","Date","toISOString","parent_signature_url","getStatusColor","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","slip","toLocaleDateString","onSubmit","required","value","onChange","Number","target","type","placeholder","rows"],"sources":["C:/Users/USER/OneDrive/Desktop/Project/school-app-/components/shared/PermissionSlips.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { supabase } from '../../lib/supabase';\r\nimport { useProfile } from '../../context/ProfileContext';\r\nimport { toast } from 'react-hot-toast';\r\nimport { DocumentTextIcon, CheckCircleIcon, XCircleIcon, ClockIcon } from '../../constants';\r\n\r\ninterface PermissionSlip {\r\n    id: number;\r\n    student_id: number;\r\n    student_name?: string;\r\n    event_type: string;\r\n    event_name: string;\r\n    event_date: string;\r\n    event_location: string;\r\n    status: string;\r\n    requested_date: string;\r\n    description: string;\r\n}\r\n\r\nconst PermissionSlips: React.FC = () => {\r\n    const { profile } = useProfile();\r\n    const [slips, setSlips] = useState<PermissionSlip[]>([]);\r\n    const [showCreate, setShowCreate] = useState(false);\r\n    const [students, setStudents] = useState<any[]>([]);\r\n    const [formData, setFormData] = useState({\r\n        student_id: 0,\r\n        event_type: 'Field Trip',\r\n        event_name: '',\r\n        event_date: '',\r\n        event_location: '',\r\n        description: '',\r\n        special_instructions: ''\r\n    });\r\n    const [loading, setLoading] = useState(true);\r\n    const isParent = profile.role === 'Parent';\r\n\r\n    useEffect(() => {\r\n        fetchSlips();\r\n        if (!isParent) fetchStudents();\r\n    }, []);\r\n\r\n    const fetchSlips = async () => {\r\n        try {\r\n            setLoading(true);\r\n            let query = supabase.from('permission_slips').select('*, students(full_name)');\r\n\r\n            if (isParent) {\r\n                // Fetch slips for parent's children\r\n                const { data: children } = await supabase\r\n                    .from('students')\r\n                    .select('id')\r\n                    .eq('parent_id', profile.id);\r\n\r\n                if (children && children.length > 0) {\r\n                    query = query.in('student_id', children.map(c => c.id));\r\n                }\r\n            }\r\n\r\n            const { data, error } = await query.order('requested_date', { ascending: false });\r\n            if (error) throw error;\r\n\r\n            const formatted = (data || []).map((s: any) => ({\r\n                ...s,\r\n                student_name: s.students?.full_name || 'Unknown'\r\n            }));\r\n\r\n            setSlips(formatted);\r\n        } catch (error: any) {\r\n            console.error('Error:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const fetchStudents = async () => {\r\n        const { data } = await supabase.from('students').select('id, full_name').order('full_name');\r\n        setStudents(data || []);\r\n    };\r\n\r\n    const handleCreate = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        try {\r\n            const { data: { user } } = await supabase.auth.getUser();\r\n            if (!user) return;\r\n\r\n            const { error } = await supabase.from('permission_slips').insert({\r\n                ...formData,\r\n                requested_by: user.id,\r\n                status: 'Pending'\r\n            });\r\n\r\n            if (error) throw error;\r\n\r\n            toast.success('Permission slip created successfully!');\r\n            setShowCreate(false);\r\n            setFormData({\r\n                student_id: 0,\r\n                event_type: 'Field Trip',\r\n                event_name: '',\r\n                event_date: '',\r\n                event_location: '',\r\n                description: '',\r\n                special_instructions: ''\r\n            });\r\n            fetchSlips();\r\n        } catch (error: any) {\r\n            toast.error('Failed to create permission slip');\r\n        }\r\n    };\r\n\r\n    const handleSign = async (slipId: number) => {\r\n        try {\r\n            const { error } = await supabase\r\n                .from('permission_slips')\r\n                .update({\r\n                    status: 'Parent Approved',\r\n                    parent_signed_at: new Date().toISOString(),\r\n                    parent_signature_url: 'DIGITAL_SIGNATURE'\r\n                })\r\n                .eq('id', slipId);\r\n\r\n            if (error) throw error;\r\n            toast.success('Permission slip signed!');\r\n            fetchSlips();\r\n        } catch (error: any) {\r\n            toast.error('Failed to sign slip');\r\n        }\r\n    };\r\n\r\n    const getStatusColor = (status: string) => {\r\n        switch (status) {\r\n            case 'Parent Approved': return 'bg-green-100 text-green-800';\r\n            case 'Rejected': return 'bg-red-100 text-red-800';\r\n            default: return 'bg-yellow-100 text-yellow-800';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-6 space-y-6\">\r\n            {/* Header */}\r\n            <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                    <h2 className=\"text-2xl font-bold text-gray-900\">Permission Slips</h2>\r\n                    <p className=\"text-sm text-gray-600 mt-1\">\r\n                        {isParent ? 'Review and sign permission slips' : 'Manage student permission slips'}\r\n                    </p>\r\n                </div>\r\n                {!isParent && (\r\n                    <button\r\n                        onClick={() => setShowCreate(true)}\r\n                        className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium\"\r\n                    >\r\n                        Create Permission Slip\r\n                    </button>\r\n                )}\r\n            </div>\r\n\r\n            {/* Slips List */}\r\n            <div className=\"grid grid-cols-1 gap-4\">\r\n                {loading ? (\r\n                    <div className=\"flex justify-center py-12\">\r\n                        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600\"></div>\r\n                    </div>\r\n                ) : slips.length === 0 ? (\r\n                    <div className=\"text-center py-12 bg-white rounded-xl border border-gray-200\">\r\n                        <DocumentTextIcon className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\r\n                        <p className=\"text-gray-600\">No permission slips</p>\r\n                    </div>\r\n                ) : (\r\n                    slips.map((slip) => (\r\n                        <div key={slip.id} className=\"bg-white rounded-xl shadow-sm border border-gray-100 p-6\">\r\n                            <div className=\"flex items-start justify-between\">\r\n                                <div className=\"flex-1\">\r\n                                    <div className=\"flex items-center space-x-2 mb-2\">\r\n                                        <span className={`px-3 py-1 rounded-full text-xs font-bold ${getStatusColor(slip.status)}`}>\r\n                                            {slip.status}\r\n                                        </span>\r\n                                        <span className=\"text-sm text-gray-600\">{slip.event_type}</span>\r\n                                    </div>\r\n                                    <h3 className=\"text-lg font-bold text-gray-900 mb-2\">{slip.event_name}</h3>\r\n                                    <p className=\"text-sm text-gray-600 mb-1\">\r\n                                        <strong>Student:</strong> {slip.student_name}\r\n                                    </p>\r\n                                    <p className=\"text-sm text-gray-600 mb-1\">\r\n                                        <strong>Date:</strong> {new Date(slip.event_date).toLocaleDateString()}\r\n                                    </p>\r\n                                    <p className=\"text-sm text-gray-600 mb-1\">\r\n                                        <strong>Location:</strong> {slip.event_location}\r\n                                    </p>\r\n                                    {slip.description && (\r\n                                        <p className=\"text-sm text-gray-700 mt-3 p-3 bg-gray-50 rounded\">\r\n                                            {slip.description}\r\n                                        </p>\r\n                                    )}\r\n                                </div>\r\n                                {isParent && slip.status === 'Pending' && (\r\n                                    <div className=\"flex flex-col space-y-2\">\r\n                                        <button\r\n                                            onClick={() => handleSign(slip.id)}\r\n                                            className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm flex items-center space-x-1\"\r\n                                        >\r\n                                            <CheckCircleIcon className=\"w-4 h-4\" />\r\n                                            <span>Sign & Approve</span>\r\n                                        </button>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                )}\r\n            </div>\r\n\r\n            {/* Create Modal */}\r\n            {showCreate && (\r\n                <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n                    <div className=\"bg-white rounded-xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\r\n                        <h3 className=\"text-xl font-bold text-gray-900 mb-4\">Create Permission Slip</h3>\r\n                        <form onSubmit={handleCreate} className=\"space-y-4\">\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                    Student *\r\n                                </label>\r\n                                <select\r\n                                    required\r\n                                    value={formData.student_id}\r\n                                    onChange={(e) => setFormData({ ...formData, student_id: Number(e.target.value) })}\r\n                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                                >\r\n                                    <option value={0}>Select student</option>\r\n                                    {students.map(s => (\r\n                                        <option key={s.id} value={s.id}>{s.full_name}</option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n\r\n                            <div className=\"grid grid-cols-2 gap-4\">\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                        Event Type *\r\n                                    </label>\r\n                                    <select\r\n                                        value={formData.event_type}\r\n                                        onChange={(e) => setFormData({ ...formData, event_type: e.target.value })}\r\n                                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                                    >\r\n                                        <option>Field Trip</option>\r\n                                        <option>Sports Event</option>\r\n                                        <option>Excursion</option>\r\n                                        <option>Medical Treatment</option>\r\n                                        <option>Media Release</option>\r\n                                        <option>Other</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                        Event Date *\r\n                                    </label>\r\n                                    <input\r\n                                        type=\"date\"\r\n                                        required\r\n                                        value={formData.event_date}\r\n                                        onChange={(e) => setFormData({ ...formData, event_date: e.target.value })}\r\n                                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                    Event Name *\r\n                                </label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    required\r\n                                    value={formData.event_name}\r\n                                    onChange={(e) => setFormData({ ...formData, event_name: e.target.value })}\r\n                                    placeholder=\"e.g., Trip to National Museum\"\r\n                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                    Location *\r\n                                </label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    required\r\n                                    value={formData.event_location}\r\n                                    onChange={(e) => setFormData({ ...formData, event_location: e.target.value })}\r\n                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                    Description\r\n                                </label>\r\n                                <textarea\r\n                                    value={formData.description}\r\n                                    onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                                    rows={3}\r\n                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                                ></textarea>\r\n                            </div>\r\n\r\n                            <div className=\"flex space-x-3 pt-4\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => setShowCreate(false)}\r\n                                    className=\"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium\"\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium\"\r\n                                >\r\n                                    Create Slip\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PermissionSlips;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}