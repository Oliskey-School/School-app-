{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\OneDrive\\\\Desktop\\\\Project\\\\school-app-\\\\components\\\\admin\\\\UserAccountsScreen.tsx\";\nimport { toast } from 'react-hot-toast';\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { supabase } from '../../lib/supabase';\nimport { SearchIcon, UserIcon } from '../../constants';\nimport ConfirmationModal from '../ui/ConfirmationModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserAccountsScreen = () => {\n  const [accounts, setAccounts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [visiblePasswords, setVisiblePasswords] = useState(new Set());\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [userToDelete, setUserToDelete] = useState(null);\n  const fetchAccounts = React.useCallback(async () => {\n    setLoading(true);\n    try {\n      const {\n        data,\n        error\n      } = await supabase.from('auth_accounts').select('*');\n      if (error) throw error;\n      if (data) {\n        const mapped = data.map(acc => Object.assign({}, acc, {\n          name: acc.name || 'Unknown User'\n        }));\n        setAccounts(mapped);\n      }\n    } catch (err) {\n      console.error(\"Error fetching accounts:\", err);\n      toast.error(\"Failed to load accounts\");\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  useEffect(() => {\n    fetchAccounts();\n    const channel = supabase.channel('public:auth_accounts').on('postgres_changes', {\n      event: '*',\n      schema: 'public',\n      table: 'auth_accounts'\n    }, payload => {\n      console.log('Change received!', payload);\n      fetchAccounts();\n    }).subscribe();\n    return () => {\n      supabase.removeChannel(channel);\n    };\n  }, [fetchAccounts]);\n  const getExpectedPassword = name => {\n    if (!name) return 'password123';\n    const parts = name.trim().split(' ');\n    const surname = parts.length > 1 ? parts[parts.length - 1] : parts[0];\n    return `${surname.toLowerCase()}1234`;\n  };\n  const togglePasswordVisibility = id => {\n    setVisiblePasswords(prev => {\n      const next = new Set(prev);\n      if (next.has(id)) next.delete(id);else next.add(id);\n      return next;\n    });\n  };\n  const toggleUserStatus = async (accountId, currentStatus) => {\n    try {\n      const {\n        error\n      } = await supabase.from('auth_accounts').update({\n        is_active: !currentStatus\n      }).eq('id', accountId);\n      if (error) {\n        console.error('Error updating user status:', error);\n        toast.error('Failed to update user status. Please try again.');\n        return;\n      }\n      setAccounts(prev => prev.map(acc => acc.id === accountId ? Object.assign({}, acc, {\n        is_active: !currentStatus\n      }) : acc));\n      toast.success(`User ${!currentStatus ? 'activated' : 'deactivated'} successfully`);\n    } catch (err) {\n      console.error('Error toggling user status:', err);\n      toast.error('An error occurred while updating user status.');\n    }\n  };\n  const confirmDeleteUser = email => {\n    setUserToDelete(email);\n    setShowDeleteModal(true);\n  };\n  const handleDeleteUser = async () => {\n    if (!userToDelete) return;\n    const email = userToDelete;\n    setShowDeleteModal(false);\n    setUserToDelete(null);\n    try {\n      const {\n        error\n      } = await supabase.rpc('delete_user_by_email', {\n        target_email: email\n      });\n      if (error) {\n        console.error('Error deleting user:', error);\n        toast.error('Failed to delete user: ' + error.message);\n        return;\n      }\n      toast.success('User deleted successfully.');\n      setAccounts(prev => prev.filter(a => a.email !== email));\n    } catch (err) {\n      console.error(\"Delete error:\", err);\n      toast.error(\"Error deleting user: \" + err.message);\n    }\n  };\n  const filteredAccounts = useMemo(() => accounts.filter(acc => (acc.username || '').toLowerCase().includes(searchTerm.toLowerCase()) || (acc.name || '').toLowerCase().includes(searchTerm.toLowerCase()) || (acc.email || '').toLowerCase().includes(searchTerm.toLowerCase())), [accounts, searchTerm]);\n  if (loading) return _jsxDEV(\"div\", {\n    className: \"p-10 text-center\",\n    children: \"Loading accounts...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 25\n  }, this);\n  return _jsxDEV(\"div\", {\n    className: \"flex flex-col h-full bg-gray-50\",\n    children: [_jsxDEV(\"div\", {\n      className: \"p-4 bg-white border-b border-gray-200 space-y-3 sm:space-y-0 sm:flex sm:items-center sm:justify-between sm:gap-4\",\n      children: [_jsxDEV(\"div\", {\n        className: \"relative flex-grow\",\n        children: [_jsxDEV(\"span\", {\n          className: \"absolute inset-y-0 left-0 flex items-center pl-3\",\n          children: _jsxDEV(SearchIcon, {\n            className: \"text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 88\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }, this), _jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search accounts...\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          className: \"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-sky-500 focus:border-sky-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this), _jsxDEV(\"div\", {\n        className: \"text-sm text-gray-500 font-medium whitespace-nowrap bg-gray-50 px-3 py-2 rounded-lg border border-gray-200\",\n        children: [\"Total Users: \", _jsxDEV(\"span\", {\n          className: \"text-gray-900 font-bold ml-1\",\n          children: accounts.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 34\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }, this), _jsxDEV(\"div\", {\n      className: \"flex-grow overflow-y-auto p-4\",\n      children: [_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-sm overflow-hidden\",\n        children: [_jsxDEV(\"div\", {\n          className: \"hidden md:block overflow-x-auto\",\n          children: _jsxDEV(\"table\", {\n            className: \"min-w-full divide-y divide-gray-200\",\n            children: [_jsxDEV(\"thead\", {\n              className: \"bg-gray-50\",\n              children: _jsxDEV(\"tr\", {\n                children: [_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"User\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 37\n                }, this), _jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Username\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 37\n                }, this), _jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Role\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 37\n                }, this), _jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 37\n                }, this), _jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 37\n                }, this), _jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 29\n            }, this), _jsxDEV(\"tbody\", {\n              className: \"bg-white divide-y divide-gray-200\",\n              children: filteredAccounts.map(account => _jsxDEV(\"tr\", {\n                className: \"hover:bg-gray-50\",\n                children: [_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: _jsxDEV(\"div\", {\n                    className: \"flex items-center\",\n                    children: [_jsxDEV(\"div\", {\n                      className: \"h-10 w-10 flex-shrink-0 bg-gray-100 rounded-full flex items-center justify-center\",\n                      children: _jsxDEV(UserIcon, {\n                        className: \"h-5 w-5 text-gray-500\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 195,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 194,\n                      columnNumber: 49\n                    }, this), _jsxDEV(\"div\", {\n                      className: \"ml-4\",\n                      children: [_jsxDEV(\"div\", {\n                        className: \"text-sm font-medium text-gray-900\",\n                        children: account.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 198,\n                        columnNumber: 53\n                      }, this), _jsxDEV(\"div\", {\n                        className: \"text-sm text-gray-500\",\n                        children: account.email\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 199,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 197,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                  children: account.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: _jsxDEV(\"span\", {\n                    className: `px-2 inline-flex text-xs leading-5 font-semibold rounded-full \n                                                ${account.user_type === 'Student' ? 'bg-sky-100 text-sky-800' : account.user_type === 'Teacher' ? 'bg-purple-100 text-purple-800' : account.user_type === 'Parent' ? 'bg-orange-100 text-orange-800' : 'bg-gray-100 text-gray-800'}`,\n                    children: account.user_type\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                  children: _jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2\",\n                    children: [_jsxDEV(\"span\", {\n                      className: \"font-mono bg-gray-50 px-2 py-1 rounded border border-gray-200\",\n                      children: visiblePasswords.has(account.id) ? getExpectedPassword(account.name || '') : '••••••••'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 216,\n                      columnNumber: 49\n                    }, this), _jsxDEV(\"button\", {\n                      className: \"text-gray-600 hover:text-gray-800 p-1 hover:bg-gray-100 rounded\",\n                      onClick: () => togglePasswordVisibility(account.id),\n                      title: visiblePasswords.has(account.id) ? \"Hide password\" : \"Show password\",\n                      children: visiblePasswords.has(account.id) ? _jsxDEV(\"svg\", {\n                        className: \"w-4 h-4\",\n                        fill: \"none\",\n                        stroke: \"currentColor\",\n                        viewBox: \"0 0 24 24\",\n                        children: _jsxDEV(\"path\", {\n                          strokeLinecap: \"round\",\n                          strokeLinejoin: \"round\",\n                          strokeWidth: 2,\n                          d: \"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 228,\n                          columnNumber: 61\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 227,\n                        columnNumber: 57\n                      }, this) : _jsxDEV(\"svg\", {\n                        className: \"w-4 h-4\",\n                        fill: \"none\",\n                        stroke: \"currentColor\",\n                        viewBox: \"0 0 24 24\",\n                        children: [_jsxDEV(\"path\", {\n                          strokeLinecap: \"round\",\n                          strokeLinejoin: \"round\",\n                          strokeWidth: 2,\n                          d: \"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 232,\n                          columnNumber: 61\n                        }, this), _jsxDEV(\"path\", {\n                          strokeLinecap: \"round\",\n                          strokeLinejoin: \"round\",\n                          strokeWidth: 2,\n                          d: \"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 233,\n                          columnNumber: 61\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 231,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 221,\n                      columnNumber: 49\n                    }, this), _jsxDEV(\"button\", {\n                      className: \"text-blue-600 hover:text-blue-800 text-xs font-medium\",\n                      onClick: () => toast.success(`Password reset for ${account.username} sent to ${account.email}`),\n                      children: \"Reset\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 237,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 215,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: _jsxDEV(\"span\", {\n                    className: `px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${account.is_active ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`,\n                    children: account.is_active ? 'Active' : 'Inactive'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm\",\n                  children: [_jsxDEV(\"button\", {\n                    onClick: () => toggleUserStatus(account.id, account.is_active),\n                    className: `px-3 py-1 rounded-md text-xs font-medium transition-colors ${account.is_active ? 'bg-amber-100 text-amber-700 hover:bg-amber-200' : 'bg-green-100 text-green-700 hover:bg-green-200'}`,\n                    children: account.is_active ? 'Deactivate' : 'Activate'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 45\n                  }, this), _jsxDEV(\"button\", {\n                    onClick: () => confirmDeleteUser(account.email),\n                    className: \"ml-2 px-3 py-1 rounded-md text-xs font-medium bg-red-100 text-red-700 hover:bg-red-200 transition-colors\",\n                    children: \"Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 41\n                }, this)]\n              }, account.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 37\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 21\n        }, this), _jsxDEV(\"div\", {\n          className: \"md:hidden space-y-4 p-4 bg-gray-50\",\n          children: filteredAccounts.map(account => _jsxDEV(\"div\", {\n            className: \"bg-white rounded-xl shadow-sm p-4 space-y-3 border border-gray-100\",\n            children: [_jsxDEV(\"div\", {\n              className: \"flex items-start justify-between\",\n              children: [_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3\",\n                children: [_jsxDEV(\"div\", {\n                  className: \"h-10 w-10 flex-shrink-0 bg-gray-100 rounded-full flex items-center justify-center\",\n                  children: _jsxDEV(UserIcon, {\n                    className: \"h-5 w-5 text-gray-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"div\", {\n                  children: [_jsxDEV(\"div\", {\n                    className: \"text-sm font-medium text-gray-900\",\n                    children: account.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 45\n                  }, this), _jsxDEV(\"span\", {\n                    className: `px-2 inline-flex text-xs leading-5 font-semibold rounded-full mt-1\n                                                ${account.user_type === 'Student' ? 'bg-sky-100 text-sky-800' : account.user_type === 'Teacher' ? 'bg-purple-100 text-purple-800' : account.user_type === 'Parent' ? 'bg-orange-100 text-orange-800' : 'bg-gray-100 text-gray-800'}`,\n                    children: account.user_type\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 37\n              }, this), _jsxDEV(\"span\", {\n                className: `px-2 py-1 text-xs font-semibold rounded-lg ${account.is_active ? 'bg-green-50 text-green-700' : 'bg-red-50 text-red-700'}`,\n                children: account.is_active ? 'Active' : 'Inactive'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 33\n            }, this), _jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-2 text-sm pt-2 border-t border-gray-50\",\n              children: [_jsxDEV(\"div\", {\n                className: \"col-span-2\",\n                children: [_jsxDEV(\"span\", {\n                  className: \"text-gray-500 text-xs uppercase tracking-wide\",\n                  children: \"Email/Username\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"p\", {\n                  className: \"text-gray-700 font-medium truncate\",\n                  children: account.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 37\n              }, this), _jsxDEV(\"div\", {\n                className: \"col-span-2 flex items-center justify-between bg-gray-50 p-2 rounded-lg\",\n                children: [_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [_jsxDEV(\"span\", {\n                    className: \"text-gray-500 text-xs uppercase\",\n                    children: \"Password:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 45\n                  }, this), _jsxDEV(\"span\", {\n                    className: \"font-mono text-gray-700\",\n                    children: visiblePasswords.has(account.id) ? getExpectedPassword(account.name || '') : '••••••••'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"button\", {\n                  className: \"text-gray-500 hover:text-indigo-600\",\n                  onClick: () => togglePasswordVisibility(account.id),\n                  children: visiblePasswords.has(account.id) ? _jsxDEV(\"svg\", {\n                    className: \"w-5 h-5\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    viewBox: \"0 0 24 24\",\n                    children: _jsxDEV(\"path\", {\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      strokeWidth: 2,\n                      d: \"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 317,\n                      columnNumber: 128\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 317,\n                    columnNumber: 49\n                  }, this) : _jsxDEV(\"svg\", {\n                    className: \"w-5 h-5\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    viewBox: \"0 0 24 24\",\n                    children: [_jsxDEV(\"path\", {\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      strokeWidth: 2,\n                      d: \"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 319,\n                      columnNumber: 128\n                    }, this), _jsxDEV(\"path\", {\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      strokeWidth: 2,\n                      d: \"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 319,\n                      columnNumber: 234\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 33\n            }, this), _jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2 pt-2\",\n              children: [_jsxDEV(\"button\", {\n                onClick: () => toggleUserStatus(account.id, account.is_active),\n                className: `flex-1 py-2 rounded-lg text-sm font-semibold transition-colors ${account.is_active ? 'bg-amber-50 text-amber-600 border border-amber-100 hover:bg-amber-100' : 'bg-green-50 text-green-600 border border-green-100 hover:bg-green-100'}`,\n                children: account.is_active ? 'Deactivate' : 'Activate'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 37\n              }, this), _jsxDEV(\"button\", {\n                onClick: () => confirmDeleteUser(account.email),\n                className: \"flex-1 py-2 rounded-lg text-sm font-semibold bg-red-50 text-red-600 border border-red-100 hover:bg-red-100\",\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 37\n              }, this), _jsxDEV(\"button\", {\n                className: \"flex-1 py-2 rounded-lg text-sm font-semibold bg-gray-50 text-gray-600 border border-gray-200 hover:bg-gray-100\",\n                onClick: () => toast.success(`Password reset for ${account.username} sent to ${account.email}`),\n                children: \"Reset Pass\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 33\n            }, this)]\n          }, account.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 21\n        }, this), filteredAccounts.length === 0 && _jsxDEV(\"div\", {\n          className: \"text-center py-10 text-gray-500\",\n          children: \"No accounts found matching your search.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }, this), _jsxDEV(\"div\", {\n        className: \"mt-4 text-xs text-gray-500 bg-blue-50 p-3 rounded-lg border border-blue-100\",\n        children: [_jsxDEV(\"p\", {\n          className: \"font-semibold text-blue-800\",\n          children: \"Note on Passwords:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 21\n        }, this), _jsxDEV(\"p\", {\n          children: [\"User passwords follow a pattern: \", _jsxDEV(\"span\", {\n            className: \"font-mono bg-white px-1 rounded\",\n            children: \"surname + \\\"1234\\\"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 57\n          }, this), \". Click the eye icon to view/hide the generated password for each user. For security, passwords are encrypted in the database. If a user needs a new password, use the \\\"Reset\\\" button.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }, this), _jsxDEV(ConfirmationModal, {\n      isOpen: showDeleteModal,\n      onClose: () => setShowDeleteModal(false),\n      onConfirm: handleDeleteUser,\n      title: \"Delete User Account\",\n      message: `Are you sure you want to PERMANENTLY delete user ${userToDelete}? This cannot be undone.`,\n      confirmText: \"Delete\",\n      isDanger: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 9\n  }, this);\n};\nexport default UserAccountsScreen;","map":{"version":3,"names":["toast","React","useState","useEffect","useMemo","supabase","SearchIcon","UserIcon","ConfirmationModal","jsxDEV","_jsxDEV","UserAccountsScreen","accounts","setAccounts","loading","setLoading","searchTerm","setSearchTerm","visiblePasswords","setVisiblePasswords","Set","showDeleteModal","setShowDeleteModal","userToDelete","setUserToDelete","fetchAccounts","useCallback","data","error","from","select","mapped","map","acc","Object","assign","name","err","console","channel","on","event","schema","table","payload","log","subscribe","removeChannel","getExpectedPassword","parts","trim","split","surname","length","toLowerCase","togglePasswordVisibility","id","prev","next","has","delete","add","toggleUserStatus","accountId","currentStatus","update","is_active","eq","success","confirmDeleteUser","email","handleDeleteUser","rpc","target_email","message","filter","a","filteredAccounts","username","includes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","account","user_type","onClick","title","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","isOpen","onClose","onConfirm","confirmText","isDanger"],"sources":["C:/Users/USER/OneDrive/Desktop/Project/school-app-/components/admin/UserAccountsScreen.tsx"],"sourcesContent":["\r\nimport { toast } from 'react-hot-toast';\r\nimport React, { useState, useEffect, useMemo } from 'react';\r\nimport { supabase } from '../../lib/supabase';\r\nimport { SearchIcon, UserIcon, RefreshIcon } from '../../constants';\r\n// Import ConfirmationModal assuming it is accessible in ../ui/ConfirmationModal\r\nimport ConfirmationModal from '../ui/ConfirmationModal';\r\n\r\ninterface AuthAccount {\r\n    id: string;\r\n    username: string;\r\n    user_type: string;\r\n    email: string;\r\n    user_id: number | null;\r\n    created_at: string;\r\n    is_active: boolean;\r\n    name?: string;\r\n}\r\n\r\nconst UserAccountsScreen: React.FC = () => {\r\n    const [accounts, setAccounts] = useState<AuthAccount[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [visiblePasswords, setVisiblePasswords] = useState<Set<string>>(new Set());\r\n    const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n    const [userToDelete, setUserToDelete] = useState<string | null>(null);\r\n\r\n\r\n    const fetchAccounts = React.useCallback(async () => {\r\n        setLoading(true);\r\n        try {\r\n            const { data, error } = await supabase\r\n                .from('auth_accounts')\r\n                .select('*');\r\n\r\n            if (error) throw error;\r\n\r\n            if (data) {\r\n                const mapped = data.map((acc: any) => ({\r\n                    ...acc,\r\n                    name: acc.name || 'Unknown User' // Name now comes directly from the View\r\n                }));\r\n                setAccounts(mapped);\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Error fetching accounts:\", err);\r\n            toast.error(\"Failed to load accounts\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        fetchAccounts();\r\n\r\n        const channel = supabase.channel('public:auth_accounts')\r\n            .on(\r\n                'postgres_changes',\r\n                { event: '*', schema: 'public', table: 'auth_accounts' },\r\n                (payload) => {\r\n                    console.log('Change received!', payload);\r\n                    fetchAccounts();\r\n                }\r\n            )\r\n            .subscribe();\r\n\r\n        return () => {\r\n            supabase.removeChannel(channel);\r\n        };\r\n    }, [fetchAccounts]);\r\n\r\n    // Helper functions\r\n    const getExpectedPassword = (name: string) => {\r\n        if (!name) return 'password123';\r\n        const parts = name.trim().split(' ');\r\n        const surname = parts.length > 1 ? parts[parts.length - 1] : parts[0];\r\n        return `${surname.toLowerCase()}1234`;\r\n    };\r\n\r\n    const togglePasswordVisibility = (id: string) => {\r\n        setVisiblePasswords(prev => {\r\n            const next = new Set(prev);\r\n            if (next.has(id)) next.delete(id);\r\n            else next.add(id);\r\n            return next;\r\n        });\r\n    };\r\n    const toggleUserStatus = async (accountId: string, currentStatus: boolean) => {\r\n        try {\r\n            const { error } = await supabase\r\n                .from('auth_accounts')\r\n                .update({ is_active: !currentStatus })\r\n                .eq('id', accountId);\r\n\r\n            if (error) {\r\n                console.error('Error updating user status:', error);\r\n                toast.error('Failed to update user status. Please try again.');\r\n                return;\r\n            }\r\n\r\n            // Update local state\r\n            setAccounts(prev => prev.map(acc =>\r\n                acc.id === accountId ? { ...acc, is_active: !currentStatus } : acc\r\n            ));\r\n            toast.success(`User ${!currentStatus ? 'activated' : 'deactivated'} successfully`);\r\n        } catch (err) {\r\n            console.error('Error toggling user status:', err);\r\n            toast.error('An error occurred while updating user status.');\r\n        }\r\n    };\r\n\r\n    const confirmDeleteUser = (email: string) => {\r\n        setUserToDelete(email);\r\n        setShowDeleteModal(true);\r\n    };\r\n\r\n    const handleDeleteUser = async () => {\r\n        if (!userToDelete) return;\r\n\r\n        const email = userToDelete;\r\n        setShowDeleteModal(false);\r\n        setUserToDelete(null);\r\n\r\n        try {\r\n            const { error } = await supabase.rpc('delete_user_by_email', { target_email: email });\r\n\r\n            if (error) {\r\n                console.error('Error deleting user:', error);\r\n                toast.error('Failed to delete user: ' + error.message);\r\n                return;\r\n            }\r\n\r\n            toast.success('User deleted successfully.');\r\n            // Realtime listener should handle the refresh, but we can optimistically remove it too\r\n            setAccounts(prev => prev.filter(a => a.email !== email));\r\n\r\n        } catch (err: any) {\r\n            console.error(\"Delete error:\", err);\r\n            toast.error(\"Error deleting user: \" + err.message);\r\n        }\r\n    };\r\n\r\n    const filteredAccounts = useMemo(() =>\r\n        accounts.filter(acc =>\r\n            (acc.username || '').toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n            (acc.name || '').toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n            (acc.email || '').toLowerCase().includes(searchTerm.toLowerCase())\r\n        ),\r\n        [accounts, searchTerm]);\r\n\r\n    if (loading) return <div className=\"p-10 text-center\">Loading accounts...</div>;\r\n\r\n    return (\r\n        <div className=\"flex flex-col h-full bg-gray-50\">\r\n            {/* ... (Search bar - keep same) */}\r\n            <div className=\"p-4 bg-white border-b border-gray-200 space-y-3 sm:space-y-0 sm:flex sm:items-center sm:justify-between sm:gap-4\">\r\n                <div className=\"relative flex-grow\">\r\n                    <span className=\"absolute inset-y-0 left-0 flex items-center pl-3\"><SearchIcon className=\"text-gray-400\" /></span>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Search accounts...\"\r\n                        value={searchTerm}\r\n                        onChange={e => setSearchTerm(e.target.value)}\r\n                        className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-sky-500 focus:border-sky-500\"\r\n                    />\r\n                </div>\r\n                <div className=\"text-sm text-gray-500 font-medium whitespace-nowrap bg-gray-50 px-3 py-2 rounded-lg border border-gray-200\">\r\n                    Total Users: <span className=\"text-gray-900 font-bold ml-1\">{accounts.length}</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex-grow overflow-y-auto p-4\">\r\n                <div className=\"bg-white rounded-xl shadow-sm overflow-hidden\">\r\n                    {/* Desktop Table View */}\r\n                    <div className=\"hidden md:block overflow-x-auto\">\r\n                        <table className=\"min-w-full divide-y divide-gray-200\">\r\n                            {/* ... (thead - keep same) */}\r\n                            <thead className=\"bg-gray-50\">\r\n                                <tr>\r\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">User</th>\r\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Username</th>\r\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Role</th>\r\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Password</th>\r\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Status</th>\r\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                                {filteredAccounts.map(account => (\r\n                                    <tr key={account.id} className=\"hover:bg-gray-50\">\r\n                                        {/* ... (keep other cells same) */}\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                            <div className=\"flex items-center\">\r\n                                                <div className=\"h-10 w-10 flex-shrink-0 bg-gray-100 rounded-full flex items-center justify-center\">\r\n                                                    <UserIcon className=\"h-5 w-5 text-gray-500\" />\r\n                                                </div>\r\n                                                <div className=\"ml-4\">\r\n                                                    <div className=\"text-sm font-medium text-gray-900\">{account.name}</div>\r\n                                                    <div className=\"text-sm text-gray-500\">{account.email}</div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                                            {account.username}\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                            <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full \r\n                                                ${account.user_type === 'Student' ? 'bg-sky-100 text-sky-800' :\r\n                                                    account.user_type === 'Teacher' ? 'bg-purple-100 text-purple-800' :\r\n                                                        account.user_type === 'Parent' ? 'bg-orange-100 text-orange-800' : 'bg-gray-100 text-gray-800'}`}>\r\n                                                {account.user_type}\r\n                                            </span>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                                            <div className=\"flex items-center gap-2\">\r\n                                                <span className=\"font-mono bg-gray-50 px-2 py-1 rounded border border-gray-200\">\r\n                                                    {visiblePasswords.has(account.id)\r\n                                                        ? getExpectedPassword(account.name || '')\r\n                                                        : '••••••••'}\r\n                                                </span>\r\n                                                <button\r\n                                                    className=\"text-gray-600 hover:text-gray-800 p-1 hover:bg-gray-100 rounded\"\r\n                                                    onClick={() => togglePasswordVisibility(account.id)}\r\n                                                    title={visiblePasswords.has(account.id) ? \"Hide password\" : \"Show password\"}\r\n                                                >\r\n                                                    {visiblePasswords.has(account.id) ? (\r\n                                                        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\" />\r\n                                                        </svg>\r\n                                                    ) : (\r\n                                                        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n                                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\r\n                                                        </svg>\r\n                                                    )}\r\n                                                </button>\r\n                                                <button\r\n                                                    className=\"text-blue-600 hover:text-blue-800 text-xs font-medium\"\r\n                                                    onClick={() => toast.success(`Password reset for ${account.username} sent to ${account.email}`)}\r\n                                                >\r\n                                                    Reset\r\n                                                </button>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                            <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${account.is_active ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>\r\n                                                {account.is_active ? 'Active' : 'Inactive'}\r\n                                            </span>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm\">\r\n                                            <button\r\n                                                onClick={() => toggleUserStatus(account.id, account.is_active)}\r\n                                                className={`px-3 py-1 rounded-md text-xs font-medium transition-colors ${account.is_active\r\n                                                    ? 'bg-amber-100 text-amber-700 hover:bg-amber-200'\r\n                                                    : 'bg-green-100 text-green-700 hover:bg-green-200'\r\n                                                    }`}\r\n                                            >\r\n                                                {account.is_active ? 'Deactivate' : 'Activate'}\r\n                                            </button>\r\n                                            <button\r\n                                                onClick={() => confirmDeleteUser(account.email)}\r\n                                                className=\"ml-2 px-3 py-1 rounded-md text-xs font-medium bg-red-100 text-red-700 hover:bg-red-200 transition-colors\"\r\n                                            >\r\n                                                Delete\r\n                                            </button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n\r\n                    {/* Mobile Card View */}\r\n                    <div className=\"md:hidden space-y-4 p-4 bg-gray-50\">\r\n                        {filteredAccounts.map(account => (\r\n                            <div key={account.id} className=\"bg-white rounded-xl shadow-sm p-4 space-y-3 border border-gray-100\">\r\n                                {/* ... (keep content same) */}\r\n                                <div className=\"flex items-start justify-between\">\r\n                                    <div className=\"flex items-center space-x-3\">\r\n                                        <div className=\"h-10 w-10 flex-shrink-0 bg-gray-100 rounded-full flex items-center justify-center\">\r\n                                            <UserIcon className=\"h-5 w-5 text-gray-500\" />\r\n                                        </div>\r\n                                        <div>\r\n                                            <div className=\"text-sm font-medium text-gray-900\">{account.name}</div>\r\n                                            <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full mt-1\r\n                                                ${account.user_type === 'Student' ? 'bg-sky-100 text-sky-800' :\r\n                                                    account.user_type === 'Teacher' ? 'bg-purple-100 text-purple-800' :\r\n                                                        account.user_type === 'Parent' ? 'bg-orange-100 text-orange-800' : 'bg-gray-100 text-gray-800'}`}>\r\n                                                {account.user_type}\r\n                                            </span>\r\n                                        </div>\r\n                                    </div>\r\n                                    <span className={`px-2 py-1 text-xs font-semibold rounded-lg ${account.is_active ? 'bg-green-50 text-green-700' : 'bg-red-50 text-red-700'}`}>\r\n                                        {account.is_active ? 'Active' : 'Inactive'}\r\n                                    </span>\r\n                                </div>\r\n\r\n                                {/* ... (grid) */}\r\n                                <div className=\"grid grid-cols-2 gap-2 text-sm pt-2 border-t border-gray-50\">\r\n                                    <div className=\"col-span-2\">\r\n                                        <span className=\"text-gray-500 text-xs uppercase tracking-wide\">Email/Username</span>\r\n                                        <p className=\"text-gray-700 font-medium truncate\">{account.email}</p>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-span-2 flex items-center justify-between bg-gray-50 p-2 rounded-lg\">\r\n                                        <div className=\"flex items-center space-x-2\">\r\n                                            <span className=\"text-gray-500 text-xs uppercase\">Password:</span>\r\n                                            <span className=\"font-mono text-gray-700\">\r\n                                                {visiblePasswords.has(account.id) ? getExpectedPassword(account.name || '') : '••••••••'}\r\n                                            </span>\r\n                                        </div>\r\n                                        <button\r\n                                            className=\"text-gray-500 hover:text-indigo-600\"\r\n                                            onClick={() => togglePasswordVisibility(account.id)}\r\n                                        >\r\n                                            {visiblePasswords.has(account.id) ? (\r\n                                                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\" /></svg>\r\n                                            ) : (\r\n                                                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" /><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" /></svg>\r\n                                            )}\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"flex items-center space-x-2 pt-2\">\r\n                                    <button\r\n                                        onClick={() => toggleUserStatus(account.id, account.is_active)}\r\n                                        className={`flex-1 py-2 rounded-lg text-sm font-semibold transition-colors ${account.is_active\r\n                                            ? 'bg-amber-50 text-amber-600 border border-amber-100 hover:bg-amber-100'\r\n                                            : 'bg-green-50 text-green-600 border border-green-100 hover:bg-green-100'\r\n                                            }`}\r\n                                    >\r\n                                        {account.is_active ? 'Deactivate' : 'Activate'}\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={() => confirmDeleteUser(account.email)}\r\n                                        className=\"flex-1 py-2 rounded-lg text-sm font-semibold bg-red-50 text-red-600 border border-red-100 hover:bg-red-100\"\r\n                                    >\r\n                                        Delete\r\n                                    </button>\r\n                                    <button\r\n                                        className=\"flex-1 py-2 rounded-lg text-sm font-semibold bg-gray-50 text-gray-600 border border-gray-200 hover:bg-gray-100\"\r\n                                        onClick={() => toast.success(`Password reset for ${account.username} sent to ${account.email}`)}\r\n                                    >\r\n                                        Reset Pass\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                    {filteredAccounts.length === 0 && (\r\n                        <div className=\"text-center py-10 text-gray-500\">No accounts found matching your search.</div>\r\n                    )}\r\n                </div>\r\n                {/* Note on Passwords */}\r\n                <div className=\"mt-4 text-xs text-gray-500 bg-blue-50 p-3 rounded-lg border border-blue-100\">\r\n                    <p className=\"font-semibold text-blue-800\">Note on Passwords:</p>\r\n                    <p>User passwords follow a pattern: <span className=\"font-mono bg-white px-1 rounded\">surname + \"1234\"</span>. Click the eye icon to view/hide the generated password for each user. For security, passwords are encrypted in the database. If a user needs a new password, use the \"Reset\" button.</p>\r\n                </div>\r\n            </div>\r\n\r\n            <ConfirmationModal\r\n                isOpen={showDeleteModal}\r\n                onClose={() => setShowDeleteModal(false)}\r\n                onConfirm={handleDeleteUser}\r\n                title=\"Delete User Account\"\r\n                message={`Are you sure you want to PERMANENTLY delete user ${userToDelete}? This cannot be undone.`}\r\n                confirmText=\"Delete\"\r\n                isDanger\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UserAccountsScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}