{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\OneDrive\\\\Desktop\\\\Project\\\\school-app-\\\\components\\\\teacher\\\\TeacherSelfAttendance.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport { submitTeacherAttendance, getTeacherAttendanceHistory, getTodayAttendanceStatus } from '../../lib/teacherAttendanceService';\nimport { supabase } from '../../lib/supabase';\nimport { toast } from 'react-hot-toast';\nimport { CheckCircleIcon, ClockIcon, XCircleIcon, CalendarIcon } from '../../constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TeacherSelfAttendance = ({\n  navigateTo,\n  teacherId\n}) => {\n  const [todayStatus, setTodayStatus] = useState(null);\n  const [attendanceHistory, setAttendanceHistory] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  useEffect(() => {\n    if (teacherId) {\n      loadAttendanceData();\n    }\n  }, [teacherId]);\n  const loadAttendanceData = async () => {\n    if (!teacherId) return;\n    setLoading(true);\n    try {\n      const todayResult = await getTodayAttendanceStatus(teacherId);\n      if (todayResult.success && todayResult.data) {\n        setTodayStatus(todayResult.data);\n      }\n      const historyResult = await getTeacherAttendanceHistory(teacherId, 30);\n      if (historyResult.success && historyResult.data) {\n        setAttendanceHistory(historyResult.data);\n      }\n    } catch (error) {\n      console.error('Error loading attendance data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    if (!teacherId) return;\n    const channel = supabase.channel(`teacher_attendance_${teacherId}`).on('postgres_changes', {\n      event: '*',\n      schema: 'public',\n      table: 'teacher_attendance',\n      filter: `teacher_id=eq.${teacherId}`\n    }, payload => {\n      console.log('Real-time update received for teacher attendance:', payload);\n      loadAttendanceDataRef.current();\n    }).subscribe();\n    return () => {\n      supabase.removeChannel(channel);\n    };\n  }, [teacherId]);\n  const loadAttendanceDataRef = React.useRef(loadAttendanceData);\n  useEffect(() => {\n    loadAttendanceDataRef.current = loadAttendanceData;\n  }, [loadAttendanceData]);\n  const handleCheckIn = async () => {\n    if (!teacherId) return;\n    setSubmitting(true);\n    try {\n      const result = await submitTeacherAttendance(teacherId);\n      if (result.success) {\n        toast.success('Attendance submitted successfully! Waiting for admin approval.');\n        loadAttendanceData();\n      } else {\n        toast.error(`Failed to submit attendance: ${result.error}`);\n      }\n    } catch (error) {\n      console.error('Error submitting attendance:', error);\n      toast.error('An error occurred while submitting attendance.');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  const getStatusBadge = status => {\n    switch (status) {\n      case 'Approved':\n        return _jsxDEV(\"div\", {\n          className: \"flex items-center space-x-1 text-green-600\",\n          children: [_jsxDEV(CheckCircleIcon, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this), _jsxDEV(\"span\", {\n            className: \"font-semibold\",\n            children: \"Approved\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this);\n      case 'Pending':\n        return _jsxDEV(\"div\", {\n          className: \"flex items-center space-x-1 text-amber-600\",\n          children: [_jsxDEV(ClockIcon, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 25\n          }, this), _jsxDEV(\"span\", {\n            className: \"font-semibold\",\n            children: \"Pending\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this);\n      case 'Rejected':\n        return _jsxDEV(\"div\", {\n          className: \"flex items-center space-x-1 text-red-600\",\n          children: [_jsxDEV(XCircleIcon, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this), _jsxDEV(\"span\", {\n            className: \"font-semibold\",\n            children: \"Rejected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this);\n      default:\n        return null;\n    }\n  };\n  const formatDate = dateString => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      year: 'numeric'\n    });\n  };\n  const formatTime = timeString => {\n    const time = new Date(timeString);\n    return time.toLocaleTimeString('en-US', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  return _jsxDEV(\"div\", {\n    className: \"flex flex-col h-full bg-gray-100\",\n    children: _jsxDEV(\"main\", {\n      className: \"flex-grow flex flex-col overflow-y-auto\",\n      children: [_jsxDEV(\"div\", {\n        className: \"p-4 bg-white border-b border-gray-200\",\n        children: [_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-3\",\n          children: [_jsxDEV(\"div\", {\n            children: [_jsxDEV(\"h3\", {\n              className: \"font-bold text-lg text-gray-800\",\n              children: \"Today's Attendance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 29\n            }, this), _jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: new Date().toLocaleDateString('en-US', {\n                weekday: 'long',\n                month: 'long',\n                day: 'numeric'\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 25\n          }, this), _jsxDEV(CalendarIcon, {\n            className: \"h-8 w-8 text-purple-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }, this), loading ? _jsxDEV(\"div\", {\n          className: \"text-center py-4\",\n          children: _jsxDEV(\"p\", {\n            className: \"text-gray-500\",\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 25\n        }, this) : todayStatus ? _jsxDEV(\"div\", {\n          className: \"bg-purple-50 rounded-lg p-4\",\n          children: [_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-2\",\n            children: [_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 33\n            }, this), getStatusBadge(todayStatus.status)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 29\n          }, this), _jsxDEV(\"div\", {\n            className: \"flex items-center justify-between text-sm\",\n            children: [_jsxDEV(\"span\", {\n              className: \"text-gray-600\",\n              children: \"Check-in Time:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 33\n            }, this), _jsxDEV(\"span\", {\n              className: \"font-semibold text-gray-800\",\n              children: formatTime(todayStatus.check_in_time)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 29\n          }, this), todayStatus.status === 'Rejected' && todayStatus.rejection_reason && _jsxDEV(\"div\", {\n            className: \"mt-3 p-2 bg-red-50 rounded border border-red-200\",\n            children: _jsxDEV(\"p\", {\n              className: \"text-xs text-red-700\",\n              children: [_jsxDEV(\"strong\", {\n                children: \"Reason:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 41\n              }, this), \" \", todayStatus.rejection_reason]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 25\n        }, this) : _jsxDEV(\"button\", {\n          onClick: handleCheckIn,\n          disabled: submitting,\n          className: `w-full py-3 rounded-lg font-bold text-white transition-all ${submitting ? 'bg-gray-400 cursor-not-allowed' : 'bg-purple-600 hover:bg-purple-700 active:scale-95'}`,\n          children: submitting ? 'Submitting...' : '✓ Mark Attendance (Check In)'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this), _jsxDEV(\"div\", {\n        className: \"flex-grow p-4\",\n        children: [_jsxDEV(\"h3\", {\n          className: \"font-bold text-lg text-gray-800 mb-3\",\n          children: \"Attendance History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 21\n        }, this), attendanceHistory.length === 0 ? _jsxDEV(\"div\", {\n          className: \"text-center py-10\",\n          children: _jsxDEV(\"p\", {\n            className: \"text-gray-500\",\n            children: \"No attendance records yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 25\n        }, this) : _jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: attendanceHistory.map(record => _jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow-sm p-4\",\n            children: [_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-2\",\n              children: [_jsxDEV(\"span\", {\n                className: \"font-semibold text-gray-800\",\n                children: formatDate(record.date)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 41\n              }, this), getStatusBadge(record.status)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 37\n            }, this), _jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: [_jsxDEV(\"p\", {\n                children: [\"Check-in: \", formatTime(record.check_in_time)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 41\n              }, this), record.approved_at && _jsxDEV(\"p\", {\n                className: \"mt-1\",\n                children: [record.status === 'Approved' ? 'Approved' : 'Rejected', \" on: \", formatDate(record.approved_at)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 37\n            }, this), record.status === 'Rejected' && record.rejection_reason && _jsxDEV(\"div\", {\n              className: \"mt-2 p-2 bg-red-50 rounded border border-red-200\",\n              children: _jsxDEV(\"p\", {\n                className: \"text-xs text-red-700\",\n                children: [_jsxDEV(\"strong\", {\n                  children: \"Reason:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 49\n                }, this), \" \", record.rejection_reason]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 41\n            }, this)]\n          }, record.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 9\n  }, this);\n};\nexport default TeacherSelfAttendance;","map":{"version":3,"names":["React","useState","useEffect","submitTeacherAttendance","getTeacherAttendanceHistory","getTodayAttendanceStatus","supabase","toast","CheckCircleIcon","ClockIcon","XCircleIcon","CalendarIcon","jsxDEV","_jsxDEV","TeacherSelfAttendance","navigateTo","teacherId","todayStatus","setTodayStatus","attendanceHistory","setAttendanceHistory","loading","setLoading","submitting","setSubmitting","loadAttendanceData","todayResult","success","data","historyResult","error","console","channel","on","event","schema","table","filter","payload","log","loadAttendanceDataRef","current","subscribe","removeChannel","useRef","handleCheckIn","result","getStatusBadge","status","className","children","fileName","_jsxFileName","lineNumber","columnNumber","formatDate","dateString","date","Date","toLocaleDateString","month","day","year","formatTime","timeString","time","toLocaleTimeString","hour","minute","weekday","check_in_time","rejection_reason","onClick","disabled","length","map","record","approved_at","id"],"sources":["C:/Users/USER/OneDrive/Desktop/Project/school-app-/components/teacher/TeacherSelfAttendance.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n    submitTeacherAttendance,\r\n    getTeacherAttendanceHistory,\r\n    getTodayAttendanceStatus,\r\n    TeacherAttendance,\r\n} from '../../lib/teacherAttendanceService';\r\nimport { supabase } from '../../lib/supabase';\r\nimport { toast } from 'react-hot-toast';\r\nimport { CheckCircleIcon, ClockIcon, XCircleIcon, CalendarIcon } from '../../constants';\r\n\r\ninterface TeacherSelfAttendanceProps {\r\n    navigateTo: (view: string, title: string, props?: any) => void;\r\n    teacherId?: number | null;\r\n}\r\n\r\nconst TeacherSelfAttendance: React.FC<TeacherSelfAttendanceProps> = ({ navigateTo, teacherId }) => {\r\n    const [todayStatus, setTodayStatus] = useState<TeacherAttendance | null>(null);\r\n    const [attendanceHistory, setAttendanceHistory] = useState<TeacherAttendance[]>([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [submitting, setSubmitting] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (teacherId) {\r\n            loadAttendanceData();\r\n        }\r\n    }, [teacherId]);\r\n\r\n    const loadAttendanceData = async () => {\r\n        if (!teacherId) return;\r\n\r\n        setLoading(true);\r\n        try {\r\n            // Get today's status\r\n            const todayResult = await getTodayAttendanceStatus(teacherId);\r\n            if (todayResult.success && todayResult.data) {\r\n                setTodayStatus(todayResult.data);\r\n            }\r\n\r\n            // Get attendance history\r\n            const historyResult = await getTeacherAttendanceHistory(teacherId, 30);\r\n            if (historyResult.success && historyResult.data) {\r\n                setAttendanceHistory(historyResult.data);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error loading attendance data:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (!teacherId) return;\r\n\r\n        // Subscribe to real-time updates for THIS teacher\r\n        const channel = supabase.channel(`teacher_attendance_${teacherId}`)\r\n            .on(\r\n                'postgres_changes',\r\n                {\r\n                    event: '*',\r\n                    schema: 'public',\r\n                    table: 'teacher_attendance',\r\n                    filter: `teacher_id=eq.${teacherId}`,\r\n                },\r\n                (payload) => {\r\n                    console.log('Real-time update received for teacher attendance:', payload);\r\n                    // Refresh data on any change (insert, update, delete)\r\n                    loadAttendanceDataRef.current();\r\n                }\r\n            )\r\n            .subscribe();\r\n\r\n        return () => {\r\n            supabase.removeChannel(channel);\r\n        };\r\n    }, [teacherId]);\r\n\r\n    // Use ref to avoid stale closure in subscription callback if we called loadAttendanceData directly\r\n    const loadAttendanceDataRef = React.useRef(loadAttendanceData);\r\n    useEffect(() => {\r\n        loadAttendanceDataRef.current = loadAttendanceData;\r\n    }, [loadAttendanceData]);\r\n\r\n    const handleCheckIn = async () => {\r\n        if (!teacherId) return;\r\n\r\n        setSubmitting(true);\r\n        try {\r\n            const result = await submitTeacherAttendance(teacherId);\r\n            if (result.success) {\r\n                toast.success('Attendance submitted successfully! Waiting for admin approval.');\r\n                loadAttendanceData();\r\n            } else {\r\n                toast.error(`Failed to submit attendance: ${result.error}`);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error submitting attendance:', error);\r\n            toast.error('An error occurred while submitting attendance.');\r\n        } finally {\r\n            setSubmitting(false);\r\n        }\r\n    };\r\n\r\n    const getStatusBadge = (status: string) => {\r\n        switch (status) {\r\n            case 'Approved':\r\n                return (\r\n                    <div className=\"flex items-center space-x-1 text-green-600\">\r\n                        <CheckCircleIcon className=\"h-5 w-5\" />\r\n                        <span className=\"font-semibold\">Approved</span>\r\n                    </div>\r\n                );\r\n            case 'Pending':\r\n                return (\r\n                    <div className=\"flex items-center space-x-1 text-amber-600\">\r\n                        <ClockIcon className=\"h-5 w-5\" />\r\n                        <span className=\"font-semibold\">Pending</span>\r\n                    </div>\r\n                );\r\n            case 'Rejected':\r\n                return (\r\n                    <div className=\"flex items-center space-x-1 text-red-600\">\r\n                        <XCircleIcon className=\"h-5 w-5\" />\r\n                        <span className=\"font-semibold\">Rejected</span>\r\n                    </div>\r\n                );\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n\r\n    const formatDate = (dateString: string) => {\r\n        const date = new Date(dateString);\r\n        return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });\r\n    };\r\n\r\n    const formatTime = (timeString: string) => {\r\n        const time = new Date(timeString);\r\n        return time.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex flex-col h-full bg-gray-100\">\r\n            <main className=\"flex-grow flex flex-col overflow-y-auto\">\r\n                {/* Today's Status Card */}\r\n                <div className=\"p-4 bg-white border-b border-gray-200\">\r\n                    <div className=\"flex items-center justify-between mb-3\">\r\n                        <div>\r\n                            <h3 className=\"font-bold text-lg text-gray-800\">Today's Attendance</h3>\r\n                            <p className=\"text-sm text-gray-500\">{new Date().toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric' })}</p>\r\n                        </div>\r\n                        <CalendarIcon className=\"h-8 w-8 text-purple-600\" />\r\n                    </div>\r\n\r\n                    {loading ? (\r\n                        <div className=\"text-center py-4\">\r\n                            <p className=\"text-gray-500\">Loading...</p>\r\n                        </div>\r\n                    ) : todayStatus ? (\r\n                        <div className=\"bg-purple-50 rounded-lg p-4\">\r\n                            <div className=\"flex items-center justify-between mb-2\">\r\n                                <span className=\"text-sm text-gray-600\">Status:</span>\r\n                                {getStatusBadge(todayStatus.status)}\r\n                            </div>\r\n                            <div className=\"flex items-center justify-between text-sm\">\r\n                                <span className=\"text-gray-600\">Check-in Time:</span>\r\n                                <span className=\"font-semibold text-gray-800\">{formatTime(todayStatus.check_in_time)}</span>\r\n                            </div>\r\n                            {todayStatus.status === 'Rejected' && todayStatus.rejection_reason && (\r\n                                <div className=\"mt-3 p-2 bg-red-50 rounded border border-red-200\">\r\n                                    <p className=\"text-xs text-red-700\">\r\n                                        <strong>Reason:</strong> {todayStatus.rejection_reason}\r\n                                    </p>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    ) : (\r\n                        <button\r\n                            onClick={handleCheckIn}\r\n                            disabled={submitting}\r\n                            className={`w-full py-3 rounded-lg font-bold text-white transition-all ${submitting\r\n                                ? 'bg-gray-400 cursor-not-allowed'\r\n                                : 'bg-purple-600 hover:bg-purple-700 active:scale-95'\r\n                                }`}\r\n                        >\r\n                            {submitting ? 'Submitting...' : '✓ Mark Attendance (Check In)'}\r\n                        </button>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Attendance History */}\r\n                <div className=\"flex-grow p-4\">\r\n                    <h3 className=\"font-bold text-lg text-gray-800 mb-3\">Attendance History</h3>\r\n\r\n                    {attendanceHistory.length === 0 ? (\r\n                        <div className=\"text-center py-10\">\r\n                            <p className=\"text-gray-500\">No attendance records yet.</p>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"space-y-3\">\r\n                            {attendanceHistory.map((record) => (\r\n                                <div key={record.id} className=\"bg-white rounded-lg shadow-sm p-4\">\r\n                                    <div className=\"flex items-center justify-between mb-2\">\r\n                                        <span className=\"font-semibold text-gray-800\">{formatDate(record.date)}</span>\r\n                                        {getStatusBadge(record.status)}\r\n                                    </div>\r\n                                    <div className=\"text-sm text-gray-600\">\r\n                                        <p>Check-in: {formatTime(record.check_in_time)}</p>\r\n                                        {record.approved_at && (\r\n                                            <p className=\"mt-1\">\r\n                                                {record.status === 'Approved' ? 'Approved' : 'Rejected'} on: {formatDate(record.approved_at)}\r\n                                            </p>\r\n                                        )}\r\n                                    </div>\r\n                                    {record.status === 'Rejected' && record.rejection_reason && (\r\n                                        <div className=\"mt-2 p-2 bg-red-50 rounded border border-red-200\">\r\n                                            <p className=\"text-xs text-red-700\">\r\n                                                <strong>Reason:</strong> {record.rejection_reason}\r\n                                            </p>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TeacherSelfAttendance;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}