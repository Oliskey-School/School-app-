{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\OneDrive\\\\Desktop\\\\Project\\\\school-app-\\\\components\\\\admin\\\\EnhancedEnrollmentWizard.tsx\";\nimport React, { useState } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { useToast } from '@/hooks/use-toast';\nimport { supabase } from '@/lib/supabase';\nimport { User, FileText, CheckCircle, ChevronRight, ChevronLeft, BookOpen, AlertCircle } from 'lucide-react';\nimport { createUserAccount, sendVerificationEmail } from '@/lib/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EnhancedEnrollmentWizard({\n  onComplete,\n  schoolId\n}) {\n  const [step, setStep] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const {\n    toast\n  } = useToast();\n  const [formData, setFormData] = useState({\n    firstName: '',\n    lastName: '',\n    dateOfBirth: '',\n    gender: '',\n    parentName: '',\n    parentEmail: '',\n    parentPhone: '',\n    curriculumType: null\n  });\n  const nigerianFee = 250000;\n  const britishFee = 450000;\n  const dualTrackFee = nigerianFee + britishFee;\n  const handleInputChange = (field, value) => {\n    setFormData(prev => Object.assign({}, prev, {\n      [field]: value\n    }));\n  };\n  const handleFileChange = (field, file) => {\n    setFormData(prev => Object.assign({}, prev, {\n      [field]: file\n    }));\n  };\n  const validateStep = () => {\n    if (step === 1) {\n      if (!formData.firstName || !formData.lastName || !formData.dateOfBirth || !formData.gender) {\n        toast({\n          title: 'Missing Information',\n          description: 'Please fill in all required fields.',\n          variant: 'destructive'\n        });\n        return false;\n      }\n    }\n    if (step === 2) {\n      if (!formData.curriculumType) {\n        toast({\n          title: 'Curriculum Required',\n          description: 'Please select a curriculum type.',\n          variant: 'destructive'\n        });\n        return false;\n      }\n    }\n    return true;\n  };\n  const handleNext = () => {\n    if (validateStep()) {\n      setStep(prev => prev + 1);\n    }\n  };\n  const handleBack = () => {\n    setStep(prev => prev - 1);\n  };\n  const handleSubmit = async () => {\n    setLoading(true);\n    try {\n      const studentEmail = `${formData.firstName.toLowerCase()}.${formData.lastName.toLowerCase()}@student.school.com`;\n      const fullName = `${formData.firstName} ${formData.lastName}`;\n      const authResult = await createUserAccount(fullName, 'Student', studentEmail);\n      if (authResult.error) {\n        if (authResult.error.includes('already registered') || authResult.error.includes('duplicate')) {\n          toast({\n            title: 'Duplicate Student',\n            description: `Student with email ${studentEmail} is already registered.`,\n            variant: 'destructive'\n          });\n          setLoading(false);\n          return;\n        }\n        throw new Error('Auth creation failed: ' + authResult.error);\n      }\n      const {\n        data: newUserData,\n        error: userError\n      } = await supabase.from('users').insert([{\n        email: studentEmail,\n        name: fullName,\n        role: 'Student'\n      }]).select().single();\n      if (userError) throw userError;\n      const userData = newUserData;\n      const documentUrls = {};\n      const uploadDocument = async (file, folder) => {\n        if (!file) return null;\n        const fileName = `${Date.now()}_${file.name}`;\n        const {\n          data,\n          error\n        } = await supabase.storage.from('student-documents').upload(`${folder}/${fileName}`, file);\n        if (error) throw error;\n        const {\n          data: urlData\n        } = supabase.storage.from('student-documents').getPublicUrl(data.path);\n        return urlData.publicUrl;\n      };\n      documentUrls.birthCertificate = await uploadDocument(formData.birthCertificate, 'birth-certificates');\n      documentUrls.previousReport = await uploadDocument(formData.previousReport, 'previous-reports');\n      documentUrls.medicalRecords = await uploadDocument(formData.medicalRecords, 'medical-records');\n      documentUrls.passportPhoto = await uploadDocument(formData.passportPhoto, 'passport-photos');\n      const {\n        data: student,\n        error: studentError\n      } = await supabase.from('students').insert(Object.assign({\n        user_id: userData.id,\n        first_name: formData.firstName,\n        last_name: formData.lastName,\n        name: fullName,\n        date_of_birth: formData.dateOfBirth,\n        gender: formData.gender,\n        school_id: schoolId,\n        grade: 1,\n        attendance_status: 'Present'\n      }, documentUrls)).select().single();\n      if (studentError) throw studentError;\n      const tracks = [];\n      if (formData.curriculumType === 'Nigerian' || formData.curriculumType === 'Both') {\n        const {\n          data: nigerianCurriculum\n        } = await supabase.from('curricula').select('id').eq('name', 'Nigerian').maybeSingle();\n        if (nigerianCurriculum) {\n          tracks.push({\n            student_id: student.id,\n            curriculum_id: nigerianCurriculum.id,\n            status: 'Active'\n          });\n        }\n      }\n      if (formData.curriculumType === 'British' || formData.curriculumType === 'Both') {\n        const {\n          data: britishCurriculum\n        } = await supabase.from('curricula').select('id').eq('name', 'British').maybeSingle();\n        if (britishCurriculum) {\n          tracks.push({\n            student_id: student.id,\n            curriculum_id: britishCurriculum.id,\n            status: 'Active'\n          });\n        }\n      }\n      if (tracks.length > 0) {\n        await supabase.from('academic_tracks').insert(tracks);\n      }\n      if (formData.parentEmail) {\n        let parentIdToLink = null;\n        const pEmail = formData.parentEmail;\n        const pName = formData.parentName || 'Parent';\n        const {\n          data: existingUser\n        } = await supabase.from('users').select('id, name').eq('email', pEmail).maybeSingle();\n        if (existingUser) {\n          const {\n            data: existingParent\n          } = await supabase.from('parents').select('id').eq('user_id', existingUser.id).maybeSingle();\n          if (existingParent) {\n            parentIdToLink = existingParent.id;\n          } else {\n            const {\n              data: newProfile\n            } = await supabase.from('parents').insert([{\n              user_id: existingUser.id,\n              name: pName,\n              email: pEmail,\n              phone: formData.parentPhone\n            }]).select().single();\n            if (newProfile) parentIdToLink = newProfile.id;\n          }\n        } else {\n          const {\n            data: newUser\n          } = await supabase.from('users').insert([{\n            email: pEmail,\n            name: pName,\n            role: 'Parent'\n          }]).select().single();\n          if (newUser) {\n            const {\n              data: newParent\n            } = await supabase.from('parents').insert([{\n              user_id: newUser.id,\n              name: pName,\n              email: pEmail,\n              phone: formData.parentPhone\n            }]).select().single();\n            if (newParent) {\n              parentIdToLink = newParent.id;\n              await createUserAccount(pName, 'Parent', pEmail, newUser.id);\n              await sendVerificationEmail(pName, pEmail, 'Welcome Parent');\n            }\n          }\n        }\n        if (parentIdToLink) {\n          const {\n            data: link\n          } = await supabase.from('parent_children').select('*').eq('parent_id', parentIdToLink).eq('student_id', student.id).maybeSingle();\n          if (!link) {\n            const {\n              error: linkErr\n            } = await supabase.from('parent_children').insert({\n              parent_id: parentIdToLink,\n              student_id: student.id\n            });\n          }\n        }\n      }\n      await sendVerificationEmail(fullName, studentEmail, 'School Enrollment');\n      toast({\n        title: 'Enrollment Successful!',\n        description: `${formData.firstName} has been enrolled. Login: ${studentEmail}`\n      });\n      onComplete();\n    } catch (error) {\n      console.error('Enrollment error:', error);\n      toast({\n        title: 'Enrollment Failed',\n        description: error.message || 'An error occurred during enrollment.',\n        variant: 'destructive'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  return _jsxDEV(\"div\", {\n    className: \"max-w-3xl mx-auto p-6\",\n    children: _jsxDEV(Card, {\n      children: [_jsxDEV(CardHeader, {\n        children: [_jsxDEV(CardTitle, {\n          className: \"flex items-center gap-2\",\n          children: [_jsxDEV(User, {\n            className: \"h-6 w-6 text-primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 25\n          }, this), \"Student Enrollment Wizard\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 21\n        }, this), _jsxDEV(\"div\", {\n          className: \"flex items-center gap-2 mt-4\",\n          children: [1, 2, 3, 4].map(s => _jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [_jsxDEV(\"div\", {\n              className: `w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${s < step ? 'bg-green-500 text-white' : s === step ? 'bg-primary text-white' : 'bg-gray-200 text-gray-600'}`,\n              children: s < step ? _jsxDEV(CheckCircle, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 49\n              }, this) : s\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 33\n            }, this), s < 4 && _jsxDEV(\"div\", {\n              className: `h-1 w-12 ${s < step ? 'bg-green-500' : 'bg-gray-200'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 43\n            }, this)]\n          }, s, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 17\n      }, this), _jsxDEV(CardContent, {\n        className: \"space-y-6\",\n        children: [step === 1 && _jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold flex items-center gap-2\",\n            children: [_jsxDEV(User, {\n              className: \"h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 33\n            }, this), \"Student Basic Information\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 29\n          }, this), _jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [_jsxDEV(\"div\", {\n              children: [_jsxDEV(Label, {\n                htmlFor: \"firstName\",\n                children: \"First Name *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 37\n              }, this), _jsxDEV(Input, {\n                id: \"firstName\",\n                value: formData.firstName,\n                onChange: e => handleInputChange('firstName', e.target.value),\n                placeholder: \"John\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 33\n            }, this), _jsxDEV(\"div\", {\n              children: [_jsxDEV(Label, {\n                htmlFor: \"lastName\",\n                children: \"Last Name *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 37\n              }, this), _jsxDEV(Input, {\n                id: \"lastName\",\n                value: formData.lastName,\n                onChange: e => handleInputChange('lastName', e.target.value),\n                placeholder: \"Doe\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 29\n          }, this), _jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [_jsxDEV(\"div\", {\n              children: [_jsxDEV(Label, {\n                htmlFor: \"dateOfBirth\",\n                children: \"Date of Birth *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 37\n              }, this), _jsxDEV(Input, {\n                id: \"dateOfBirth\",\n                type: \"date\",\n                value: formData.dateOfBirth,\n                onChange: e => handleInputChange('dateOfBirth', e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 33\n            }, this), _jsxDEV(\"div\", {\n              children: [_jsxDEV(Label, {\n                htmlFor: \"gender\",\n                children: \"Gender *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 37\n              }, this), _jsxDEV(\"select\", {\n                id: \"gender\",\n                value: formData.gender,\n                onChange: e => handleInputChange('gender', e.target.value),\n                className: \"w-full px-3 py-2 border rounded-md\",\n                children: [_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"option\", {\n                  value: \"Male\",\n                  children: \"Male\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 416,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"option\", {\n                  value: \"Female\",\n                  children: \"Female\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 29\n          }, this), _jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [_jsxDEV(\"div\", {\n              children: [_jsxDEV(Label, {\n                htmlFor: \"parentName\",\n                children: \"Parent Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 37\n              }, this), _jsxDEV(Input, {\n                id: \"parentName\",\n                value: formData.parentName,\n                onChange: e => handleInputChange('parentName', e.target.value),\n                placeholder: \"Parent Full Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 33\n            }, this), _jsxDEV(\"div\", {\n              children: [_jsxDEV(Label, {\n                htmlFor: \"parentEmail\",\n                children: \"Parent Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 37\n              }, this), _jsxDEV(Input, {\n                id: \"parentEmail\",\n                type: \"email\",\n                value: formData.parentEmail,\n                onChange: e => handleInputChange('parentEmail', e.target.value),\n                placeholder: \"parent@example.com\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 33\n            }, this), _jsxDEV(\"div\", {\n              children: [_jsxDEV(Label, {\n                htmlFor: \"parentPhone\",\n                children: \"Parent Phone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 37\n              }, this), _jsxDEV(Input, {\n                id: \"parentPhone\",\n                value: formData.parentPhone,\n                onChange: e => handleInputChange('parentPhone', e.target.value),\n                placeholder: \"+234 800 000 0000\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 25\n        }, this), step === 2 && _jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold flex items-center gap-2\",\n            children: [_jsxDEV(BookOpen, {\n              className: \"h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 33\n            }, this), \"Select Academic Curriculum\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 29\n          }, this), _jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [_jsxDEV(Card, {\n              className: `cursor-pointer transition-all ${formData.curriculumType === 'Nigerian' ? 'border-primary border-2 bg-primary/5' : 'hover:border-gray-400'}`,\n              onClick: () => handleInputChange('curriculumType', 'Nigerian'),\n              children: _jsxDEV(CardContent, {\n                className: \"p-4\",\n                children: _jsxDEV(\"div\", {\n                  className: \"flex items-start justify-between\",\n                  children: [_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [_jsxDEV(\"h4\", {\n                      className: \"font-semibold text-lg\",\n                      children: \"\\uD83C\\uDDF3\\uD83C\\uDDEC Nigerian Curriculum\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 474,\n                      columnNumber: 49\n                    }, this), _jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-600 mt-1\",\n                      children: \"WAEC, NECO, JAMB preparation\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 475,\n                      columnNumber: 49\n                    }, this), _jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-500 mt-2\",\n                      children: \"Subjects: English, Mathematics, Civic Education, Basic Science, etc.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 476,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 473,\n                    columnNumber: 45\n                  }, this), _jsxDEV(\"div\", {\n                    className: \"text-right\",\n                    children: [_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-600\",\n                      children: \"Annual Fee\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 479,\n                      columnNumber: 49\n                    }, this), _jsxDEV(\"p\", {\n                      className: \"text-xl font-bold text-primary\",\n                      children: [\"\\u20A6\", nigerianFee.toLocaleString()]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 480,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 478,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 33\n            }, this), _jsxDEV(Card, {\n              className: `cursor-pointer transition-all ${formData.curriculumType === 'British' ? 'border-primary border-2 bg-primary/5' : 'hover:border-gray-400'}`,\n              onClick: () => handleInputChange('curriculumType', 'British'),\n              children: _jsxDEV(CardContent, {\n                className: \"p-4\",\n                children: _jsxDEV(\"div\", {\n                  className: \"flex items-start justify-between\",\n                  children: [_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [_jsxDEV(\"h4\", {\n                      className: \"font-semibold text-lg\",\n                      children: \"\\uD83C\\uDDEC\\uD83C\\uDDE7 British Curriculum\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 495,\n                      columnNumber: 49\n                    }, this), _jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-600 mt-1\",\n                      children: \"Cambridge IGCSE, A-Levels\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 496,\n                      columnNumber: 49\n                    }, this), _jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-500 mt-2\",\n                      children: \"Subjects: English Literature, Combined Science, History, Geography, etc.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 497,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 494,\n                    columnNumber: 45\n                  }, this), _jsxDEV(\"div\", {\n                    className: \"text-right\",\n                    children: [_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-600\",\n                      children: \"Annual Fee\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 500,\n                      columnNumber: 49\n                    }, this), _jsxDEV(\"p\", {\n                      className: \"text-xl font-bold text-primary\",\n                      children: [\"\\u20A6\", britishFee.toLocaleString()]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 501,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 499,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 493,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 33\n            }, this), _jsxDEV(Card, {\n              className: `cursor-pointer transition-all ${formData.curriculumType === 'Both' ? 'border-primary border-2 bg-primary/5' : 'hover:border-gray-400'}`,\n              onClick: () => handleInputChange('curriculumType', 'Both'),\n              children: _jsxDEV(CardContent, {\n                className: \"p-4\",\n                children: _jsxDEV(\"div\", {\n                  className: \"flex items-start justify-between\",\n                  children: [_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [_jsxDEV(\"h4\", {\n                      className: \"font-semibold text-lg\",\n                      children: \"\\uD83C\\uDF0D Dual Curriculum (Nigerian + British)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 516,\n                      columnNumber: 49\n                    }, this), _jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-600 mt-1\",\n                      children: \"Best of both worlds - WAEC + Cambridge preparation\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 517,\n                      columnNumber: 49\n                    }, this), _jsxDEV(\"div\", {\n                      className: \"flex items-start gap-2 mt-2 p-2 bg-amber-50 border border-amber-200 rounded\",\n                      children: [_jsxDEV(AlertCircle, {\n                        className: \"h-4 w-4 text-amber-600 mt-0.5\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 519,\n                        columnNumber: 53\n                      }, this), _jsxDEV(\"p\", {\n                        className: \"text-xs text-amber-800\",\n                        children: \"Student will maintain two separate academic records, attend dual-track classes, and receive two report cards.\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 520,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 518,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 515,\n                    columnNumber: 45\n                  }, this), _jsxDEV(\"div\", {\n                    className: \"text-right\",\n                    children: [_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-600\",\n                      children: \"Annual Fee\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 526,\n                      columnNumber: 49\n                    }, this), _jsxDEV(\"p\", {\n                      className: \"text-xl font-bold text-primary\",\n                      children: [\"\\u20A6\", dualTrackFee.toLocaleString()]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 527,\n                      columnNumber: 49\n                    }, this), _jsxDEV(\"p\", {\n                      className: \"text-xs text-green-600 mt-1\",\n                      children: \"Save 10%\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 528,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 525,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 514,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 25\n        }, this), step === 3 && _jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold flex items-center gap-2\",\n            children: [_jsxDEV(FileText, {\n              className: \"h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 33\n            }, this), \"Upload Required Documents\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 29\n          }, this), _jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [_jsxDEV(\"div\", {\n              children: [_jsxDEV(Label, {\n                htmlFor: \"birthCert\",\n                children: \"Birth Certificate *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 547,\n                columnNumber: 37\n              }, this), _jsxDEV(Input, {\n                id: \"birthCert\",\n                type: \"file\",\n                accept: \".pdf,.jpg,.jpeg,.png\",\n                onChange: e => handleFileChange('birthCertificate', e.target.files?.[0])\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 548,\n                columnNumber: 37\n              }, this), formData.birthCertificate && _jsxDEV(\"p\", {\n                className: \"text-sm text-green-600 mt-1 flex items-center gap-1\",\n                children: [_jsxDEV(CheckCircle, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 556,\n                  columnNumber: 45\n                }, this), \" \", formData.birthCertificate.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 555,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 33\n            }, this), _jsxDEV(\"div\", {\n              children: [_jsxDEV(Label, {\n                htmlFor: \"previousReport\",\n                children: \"Previous School Report (Optional)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 562,\n                columnNumber: 37\n              }, this), _jsxDEV(Input, {\n                id: \"previousReport\",\n                type: \"file\",\n                accept: \".pdf,.jpg,.jpeg,.png\",\n                onChange: e => handleFileChange('previousReport', e.target.files?.[0])\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 563,\n                columnNumber: 37\n              }, this), formData.previousReport && _jsxDEV(\"p\", {\n                className: \"text-sm text-green-600 mt-1 flex items-center gap-1\",\n                children: [_jsxDEV(CheckCircle, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 571,\n                  columnNumber: 45\n                }, this), \" \", formData.previousReport.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 570,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 561,\n              columnNumber: 33\n            }, this), _jsxDEV(\"div\", {\n              children: [_jsxDEV(Label, {\n                htmlFor: \"medicalRecords\",\n                children: \"Medical Records (Optional)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 577,\n                columnNumber: 37\n              }, this), _jsxDEV(Input, {\n                id: \"medicalRecords\",\n                type: \"file\",\n                accept: \".pdf,.jpg,.jpeg,.png\",\n                onChange: e => handleFileChange('medicalRecords', e.target.files?.[0])\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 578,\n                columnNumber: 37\n              }, this), formData.medicalRecords && _jsxDEV(\"p\", {\n                className: \"text-sm text-green-600 mt-1 flex items-center gap-1\",\n                children: [_jsxDEV(CheckCircle, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 586,\n                  columnNumber: 45\n                }, this), \" \", formData.medicalRecords.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 585,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 576,\n              columnNumber: 33\n            }, this), _jsxDEV(\"div\", {\n              children: [_jsxDEV(Label, {\n                htmlFor: \"passportPhoto\",\n                children: \"Passport Photograph *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 592,\n                columnNumber: 37\n              }, this), _jsxDEV(Input, {\n                id: \"passportPhoto\",\n                type: \"file\",\n                accept: \".jpg,.jpeg,.png\",\n                onChange: e => handleFileChange('passportPhoto', e.target.files?.[0])\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 593,\n                columnNumber: 37\n              }, this), formData.passportPhoto && _jsxDEV(\"p\", {\n                className: \"text-sm text-green-600 mt-1 flex items-center gap-1\",\n                children: [_jsxDEV(CheckCircle, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 601,\n                  columnNumber: 45\n                }, this), \" \", formData.passportPhoto.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 600,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 591,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 545,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 25\n        }, this), step === 4 && _jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold flex items-center gap-2\",\n            children: [_jsxDEV(CheckCircle, {\n              className: \"h-5 w-5 text-green-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 613,\n              columnNumber: 33\n            }, this), \"Confirm Enrollment Details\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 612,\n            columnNumber: 29\n          }, this), _jsxDEV(\"div\", {\n            className: \"bg-gray-50 p-4 rounded-lg space-y-3\",\n            children: [_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-4\",\n              children: [_jsxDEV(\"div\", {\n                children: [_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"Student Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 620,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"p\", {\n                  className: \"font-semibold\",\n                  children: [formData.firstName, \" \", formData.lastName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 621,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 619,\n                columnNumber: 37\n              }, this), _jsxDEV(\"div\", {\n                children: [_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"Date of Birth\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 624,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"p\", {\n                  className: \"font-semibold\",\n                  children: formData.dateOfBirth\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 625,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 623,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 618,\n              columnNumber: 33\n            }, this), _jsxDEV(\"div\", {\n              children: [_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Curriculum Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 630,\n                columnNumber: 37\n              }, this), _jsxDEV(\"p\", {\n                className: \"font-semibold text-primary\",\n                children: formData.curriculumType\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 631,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 629,\n              columnNumber: 33\n            }, this), _jsxDEV(\"div\", {\n              children: [_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Documents Uploaded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 635,\n                columnNumber: 37\n              }, this), _jsxDEV(\"div\", {\n                className: \"flex gap-2 mt-1\",\n                children: [formData.birthCertificate && _jsxDEV(\"span\", {\n                  className: \"px-2 py-1 bg-green-100 text-green-700 text-xs rounded\",\n                  children: \"Birth Cert \\u2713\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 638,\n                  columnNumber: 45\n                }, this), formData.passportPhoto && _jsxDEV(\"span\", {\n                  className: \"px-2 py-1 bg-green-100 text-green-700 text-xs rounded\",\n                  children: \"Photo \\u2713\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 641,\n                  columnNumber: 45\n                }, this), formData.previousReport && _jsxDEV(\"span\", {\n                  className: \"px-2 py-1 bg-green-100 text-green-700 text-xs rounded\",\n                  children: \"Report \\u2713\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 644,\n                  columnNumber: 45\n                }, this), formData.medicalRecords && _jsxDEV(\"span\", {\n                  className: \"px-2 py-1 bg-green-100 text-green-700 text-xs rounded\",\n                  children: \"Medical \\u2713\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 647,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 634,\n              columnNumber: 33\n            }, this), formData.curriculumType === 'Both' && _jsxDEV(\"div\", {\n              className: \"mt-4 p-3 bg-amber-50 border border-amber-200 rounded\",\n              children: [_jsxDEV(\"p\", {\n                className: \"text-sm font-semibold text-amber-900\",\n                children: \"\\u26A0\\uFE0F Dual Curriculum Reminder\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 654,\n                columnNumber: 41\n              }, this), _jsxDEV(\"p\", {\n                className: \"text-xs text-amber-800 mt-1\",\n                children: \"This student will be enrolled in both Nigerian and British tracks. They will receive separate report cards and maintain independent academic records for each curriculum.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 655,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 653,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 617,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 25\n        }, this), _jsxDEV(\"div\", {\n          className: \"flex justify-between pt-6 border-t\",\n          children: [step > 1 && _jsxDEV(Button, {\n            onClick: handleBack,\n            variant: \"outline\",\n            children: [_jsxDEV(ChevronLeft, {\n              className: \"h-4 w-4 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 668,\n              columnNumber: 33\n            }, this), \"Back\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 667,\n            columnNumber: 29\n          }, this), step < 4 ? _jsxDEV(Button, {\n            onClick: handleNext,\n            className: \"ml-auto\",\n            children: [\"Next\", _jsxDEV(ChevronRight, {\n              className: \"h-4 w-4 ml-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 676,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 674,\n            columnNumber: 29\n          }, this) : _jsxDEV(Button, {\n            onClick: handleSubmit,\n            disabled: loading,\n            className: \"ml-auto\",\n            children: [loading ? 'Enrolling...' : 'Complete Enrollment', _jsxDEV(CheckCircle, {\n              className: \"h-4 w-4 ml-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 681,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 679,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 665,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 341,\n    columnNumber: 9\n  }, this);\n}","map":{"version":3,"names":["React","useState","Card","CardContent","CardHeader","CardTitle","Button","Input","Label","useToast","supabase","User","FileText","CheckCircle","ChevronRight","ChevronLeft","BookOpen","AlertCircle","createUserAccount","sendVerificationEmail","jsxDEV","_jsxDEV","EnhancedEnrollmentWizard","onComplete","schoolId","step","setStep","loading","setLoading","toast","formData","setFormData","firstName","lastName","dateOfBirth","gender","parentName","parentEmail","parentPhone","curriculumType","nigerianFee","britishFee","dualTrackFee","handleInputChange","field","value","prev","Object","assign","handleFileChange","file","validateStep","title","description","variant","handleNext","handleBack","handleSubmit","studentEmail","toLowerCase","fullName","authResult","error","includes","Error","data","newUserData","userError","from","insert","email","name","role","select","single","userData","documentUrls","uploadDocument","folder","fileName","Date","now","storage","upload","urlData","getPublicUrl","path","publicUrl","birthCertificate","previousReport","medicalRecords","passportPhoto","student","studentError","user_id","id","first_name","last_name","date_of_birth","school_id","grade","attendance_status","tracks","nigerianCurriculum","eq","maybeSingle","push","student_id","curriculum_id","status","britishCurriculum","length","parentIdToLink","pEmail","pName","existingUser","existingParent","newProfile","phone","newUser","newParent","link","linkErr","parent_id","console","message","className","children","_jsxFileName","lineNumber","columnNumber","map","s","htmlFor","onChange","e","target","placeholder","type","onClick","toLocaleString","accept","files","disabled"],"sources":["C:/Users/USER/OneDrive/Desktop/Project/school-app-/components/admin/EnhancedEnrollmentWizard.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport { supabase } from '@/lib/supabase';\r\nimport {\r\n    User, FileText, CheckCircle, Upload,\r\n    ChevronRight, ChevronLeft, BookOpen, AlertCircle\r\n} from 'lucide-react';\r\nimport { createUserAccount, checkEmailExists, sendVerificationEmail } from '@/lib/auth';\r\n\r\ntype CurriculumType = 'Nigerian' | 'British' | 'Both' | null;\r\n\r\ninterface EnrollmentData {\r\n    // Step 1: Basic Details\r\n    firstName: string;\r\n    lastName: string;\r\n    dateOfBirth: string;\r\n\r\n    gender: string;\r\n    parentName: string;\r\n    parentEmail: string;\r\n    parentPhone: string;\r\n\r\n    // Step 2: Curriculum Selection\r\n    curriculumType: CurriculumType;\r\n\r\n    // Step 3: Documents\r\n    birthCertificate?: File;\r\n    previousReport?: File;\r\n    medicalRecords?: File;\r\n    passportPhoto?: File;\r\n}\r\n\r\nexport default function EnhancedEnrollmentWizard({\r\n    onComplete,\r\n    schoolId\r\n}: {\r\n    onComplete: () => void;\r\n    schoolId: string;\r\n}) {\r\n    const [step, setStep] = useState(1);\r\n    const [loading, setLoading] = useState(false);\r\n    const { toast } = useToast();\r\n\r\n    const [formData, setFormData] = useState<EnrollmentData>({\r\n        firstName: '',\r\n        lastName: '',\r\n        dateOfBirth: '',\r\n        gender: '',\r\n        parentName: '',\r\n        parentEmail: '',\r\n        parentPhone: '',\r\n        curriculumType: null,\r\n    });\r\n\r\n    // Pricing for dual-track (example)\r\n    const nigerianFee = 250000;\r\n    const britishFee = 450000;\r\n    const dualTrackFee = nigerianFee + britishFee;\r\n\r\n    const handleInputChange = (field: keyof EnrollmentData, value: any) => {\r\n        setFormData(prev => ({ ...prev, [field]: value }));\r\n    };\r\n\r\n    const handleFileChange = (field: keyof EnrollmentData, file: File | undefined) => {\r\n        setFormData(prev => ({ ...prev, [field]: file }));\r\n    };\r\n\r\n    const validateStep = () => {\r\n        if (step === 1) {\r\n            if (!formData.firstName || !formData.lastName || !formData.dateOfBirth || !formData.gender) {\r\n                toast({ title: 'Missing Information', description: 'Please fill in all required fields.', variant: 'destructive' });\r\n                return false;\r\n            }\r\n        }\r\n        if (step === 2) {\r\n            if (!formData.curriculumType) {\r\n                toast({ title: 'Curriculum Required', description: 'Please select a curriculum type.', variant: 'destructive' });\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n\r\n    const handleNext = () => {\r\n        if (validateStep()) {\r\n            setStep(prev => prev + 1);\r\n        }\r\n    };\r\n\r\n    const handleBack = () => {\r\n        setStep(prev => prev - 1);\r\n    };\r\n\r\n    const handleSubmit = async () => {\r\n        setLoading(true);\r\n        try {\r\n            // 0. Prepare Student Data & Generate Email\r\n            const studentEmail = `${formData.firstName.toLowerCase()}.${formData.lastName.toLowerCase()}@student.school.com`;\r\n            const fullName = `${formData.firstName} ${formData.lastName}`;\r\n\r\n            // 1. Create Student Auth (Check duplicate first)\r\n            const authResult = await createUserAccount(fullName, 'Student', studentEmail);\r\n\r\n            if (authResult.error) {\r\n                if (authResult.error.includes('already registered') || authResult.error.includes('duplicate')) {\r\n                    toast({ title: 'Duplicate Student', description: `Student with email ${studentEmail} is already registered.`, variant: 'destructive' });\r\n                    setLoading(false);\r\n                    return;\r\n                }\r\n                // Continue if error is minor or handle better? For now, we abort.\r\n                // Actually, if Auth fails, we shouldn't proceed.\r\n                throw new Error('Auth creation failed: ' + authResult.error);\r\n            }\r\n\r\n            // 2. Create Legacy User Record\r\n            const { data: newUserData, error: userError } = await supabase\r\n                .from('users')\r\n                .insert([{\r\n                    email: studentEmail,\r\n                    name: fullName,\r\n                    role: 'Student',\r\n                    // avatar_url: ... // Optional\r\n                }])\r\n                .select()\r\n                .single();\r\n\r\n            if (userError) throw userError;\r\n            const userData = newUserData;\r\n\r\n            // 3. Upload documents to Supabase Storage\r\n            const documentUrls: any = {};\r\n\r\n            const uploadDocument = async (file: File | undefined, folder: string) => {\r\n                if (!file) return null;\r\n                const fileName = `${Date.now()}_${file.name}`;\r\n                const { data, error } = await supabase.storage\r\n                    .from('student-documents')\r\n                    .upload(`${folder}/${fileName}`, file);\r\n\r\n                if (error) throw error; // Handle storage errors gracefully?\r\n\r\n                const { data: urlData } = supabase.storage\r\n                    .from('student-documents')\r\n                    .getPublicUrl(data.path);\r\n\r\n                return urlData.publicUrl;\r\n            };\r\n\r\n            // Parallel uploads could be faster\r\n            documentUrls.birthCertificate = await uploadDocument(formData.birthCertificate, 'birth-certificates');\r\n            documentUrls.previousReport = await uploadDocument(formData.previousReport, 'previous-reports');\r\n            documentUrls.medicalRecords = await uploadDocument(formData.medicalRecords, 'medical-records');\r\n            documentUrls.passportPhoto = await uploadDocument(formData.passportPhoto, 'passport-photos');\r\n\r\n            // 4. Create Student Record (Linked to User)\r\n            const { data: student, error: studentError } = await supabase\r\n                .from('students')\r\n                .insert({\r\n                    user_id: userData.id, // Linked!\r\n                    // user_id: authResult.username ? userData.id : userData.id, // Double Check\r\n                    first_name: formData.firstName,\r\n                    last_name: formData.lastName,\r\n                    name: fullName, // Some tables use 'name'\r\n                    date_of_birth: formData.dateOfBirth,\r\n                    gender: formData.gender,\r\n                    school_id: schoolId,\r\n                    grade: 1, // Default or derived? Missing in Wizard. Assuming Grade 1 for now or NULL.\r\n                    attendance_status: 'Present',\r\n                    ...documentUrls\r\n                })\r\n                .select()\r\n                .single();\r\n\r\n            if (studentError) throw studentError;\r\n\r\n            // 5. Create Academic Track(s)\r\n            const tracks = [];\r\n\r\n            if (formData.curriculumType === 'Nigerian' || formData.curriculumType === 'Both') {\r\n                const { data: nigerianCurriculum } = await supabase\r\n                    .from('curricula')\r\n                    .select('id')\r\n                    .eq('name', 'Nigerian') // Ensure case matches DB\r\n                    .maybeSingle();\r\n\r\n                if (nigerianCurriculum) {\r\n                    tracks.push({\r\n                        student_id: student.id,\r\n                        curriculum_id: nigerianCurriculum.id,\r\n                        status: 'Active'\r\n                    });\r\n                }\r\n            }\r\n\r\n            if (formData.curriculumType === 'British' || formData.curriculumType === 'Both') {\r\n                const { data: britishCurriculum } = await supabase\r\n                    .from('curricula')\r\n                    .select('id')\r\n                    .eq('name', 'British')\r\n                    .maybeSingle();\r\n\r\n                if (britishCurriculum) {\r\n                    tracks.push({\r\n                        student_id: student.id,\r\n                        curriculum_id: britishCurriculum.id,\r\n                        status: 'Active'\r\n                    });\r\n                }\r\n            }\r\n\r\n            if (tracks.length > 0) {\r\n                await supabase.from('academic_tracks').insert(tracks);\r\n            }\r\n\r\n            // 6. Handle Parent (Create or Link)\r\n            if (formData.parentEmail) {\r\n                let parentIdToLink: number | null = null;\r\n                const pEmail = formData.parentEmail;\r\n                const pName = formData.parentName || 'Parent';\r\n\r\n                // Check User\r\n                const { data: existingUser } = await supabase\r\n                    .from('users')\r\n                    .select('id, name')\r\n                    .eq('email', pEmail)\r\n                    .maybeSingle();\r\n\r\n                if (existingUser) {\r\n                    // Check Parent Profile\r\n                    const { data: existingParent } = await supabase\r\n                        .from('parents')\r\n                        .select('id')\r\n                        .eq('user_id', existingUser.id)\r\n                        .maybeSingle();\r\n\r\n                    if (existingParent) {\r\n                        parentIdToLink = existingParent.id;\r\n                    } else {\r\n                        // Create Parent Profile\r\n                        const { data: newProfile } = await supabase\r\n                            .from('parents')\r\n                            .insert([{\r\n                                user_id: existingUser.id,\r\n                                name: pName,\r\n                                email: pEmail,\r\n                                phone: formData.parentPhone,\r\n                            }])\r\n                            .select()\r\n                            .single();\r\n                        if (newProfile) parentIdToLink = newProfile.id;\r\n                    }\r\n                } else {\r\n                    // Create NEW Parent User, Auth, Profile\r\n                    const { data: newUser } = await supabase\r\n                        .from('users')\r\n                        .insert([{\r\n                            email: pEmail,\r\n                            name: pName,\r\n                            role: 'Parent'\r\n                        }])\r\n                        .select()\r\n                        .single();\r\n\r\n                    if (newUser) {\r\n                        const { data: newParent } = await supabase\r\n                            .from('parents')\r\n                            .insert([{\r\n                                user_id: newUser.id,\r\n                                name: pName,\r\n                                email: pEmail,\r\n                                phone: formData.parentPhone\r\n                            }])\r\n                            .select()\r\n                            .single();\r\n\r\n                        if (newParent) {\r\n                            parentIdToLink = newParent.id;\r\n                            // Create Auth\r\n                            await createUserAccount(pName, 'Parent', pEmail, newUser.id);\r\n                            await sendVerificationEmail(pName, pEmail, 'Welcome Parent');\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (parentIdToLink) {\r\n                    // Check Link\r\n                    const { data: link } = await supabase\r\n                        .from('parent_children')\r\n                        .select('*')\r\n                        .eq('parent_id', parentIdToLink)\r\n                        .eq('student_id', student.id) // check this ID type match\r\n                        .maybeSingle();\r\n\r\n                    if (!link) {\r\n                        // Insert into parent_children (or student_guardians if that's the table?)\r\n                        // Original code used 'student_guardians'. Let's use 'parent_children' as seen in AddStudentScreen \r\n                        // OR 'student_guardians' if that's preferred. The wizard originally used `student_guardians`.\r\n                        // Let's check Schema... 'parent_children' was used in AddStudentScreen.\r\n                        // I will try BOTH or stick to one. enhanced used `student_guardians`.\r\n                        // I'll stick to `parent_children` as it seems to be the main join table I saw earlier.\r\n                        // Wait, `AddStudentScreen` used `parent_children`. `Enhanced` used `student_guardians`.\r\n                        // This inconsistency is dangerous.\r\n                        // I will try likely `parent_children` based on AddStudentScreen success.\r\n\r\n                        const { error: linkErr } = await supabase.from('parent_children').insert({\r\n                            parent_id: parentIdToLink,\r\n                            student_id: student.id\r\n                        });\r\n\r\n                        // Fallback to student_guardians if needed? No, let's assume consistent schema.\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Send Verification for Student\r\n            await sendVerificationEmail(fullName, studentEmail, 'School Enrollment');\r\n\r\n            toast({\r\n                title: 'Enrollment Successful!',\r\n                description: `${formData.firstName} has been enrolled. Login: ${studentEmail}`,\r\n            });\r\n\r\n            onComplete();\r\n        } catch (error: any) {\r\n            console.error('Enrollment error:', error);\r\n            toast({\r\n                title: 'Enrollment Failed',\r\n                description: error.message || 'An error occurred during enrollment.',\r\n                variant: 'destructive',\r\n            });\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"max-w-3xl mx-auto p-6\">\r\n            <Card>\r\n                <CardHeader>\r\n                    <CardTitle className=\"flex items-center gap-2\">\r\n                        <User className=\"h-6 w-6 text-primary\" />\r\n                        Student Enrollment Wizard\r\n                    </CardTitle>\r\n\r\n                    {/* Progress Indicator */}\r\n                    <div className=\"flex items-center gap-2 mt-4\">\r\n                        {[1, 2, 3, 4].map((s) => (\r\n                            <div key={s} className=\"flex items-center gap-2\">\r\n                                <div className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${s < step ? 'bg-green-500 text-white' :\r\n                                    s === step ? 'bg-primary text-white' :\r\n                                        'bg-gray-200 text-gray-600'\r\n                                    }`}>\r\n                                    {s < step ? <CheckCircle className=\"h-4 w-4\" /> : s}\r\n                                </div>\r\n                                {s < 4 && <div className={`h-1 w-12 ${s < step ? 'bg-green-500' : 'bg-gray-200'}`} />}\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </CardHeader>\r\n\r\n                <CardContent className=\"space-y-6\">\r\n                    {/* Step 1: Basic Details */}\r\n                    {step === 1 && (\r\n                        <div className=\"space-y-4\">\r\n                            <h3 className=\"text-lg font-semibold flex items-center gap-2\">\r\n                                <User className=\"h-5 w-5\" />\r\n                                Student Basic Information\r\n                            </h3>\r\n\r\n                            <div className=\"grid grid-cols-2 gap-4\">\r\n                                <div>\r\n                                    <Label htmlFor=\"firstName\">First Name *</Label>\r\n                                    <Input\r\n                                        id=\"firstName\"\r\n                                        value={formData.firstName}\r\n                                        onChange={(e) => handleInputChange('firstName', e.target.value)}\r\n                                        placeholder=\"John\"\r\n                                    />\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <Label htmlFor=\"lastName\">Last Name *</Label>\r\n                                    <Input\r\n                                        id=\"lastName\"\r\n                                        value={formData.lastName}\r\n                                        onChange={(e) => handleInputChange('lastName', e.target.value)}\r\n                                        placeholder=\"Doe\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"grid grid-cols-2 gap-4\">\r\n                                <div>\r\n                                    <Label htmlFor=\"dateOfBirth\">Date of Birth *</Label>\r\n                                    <Input\r\n                                        id=\"dateOfBirth\"\r\n                                        type=\"date\"\r\n                                        value={formData.dateOfBirth}\r\n                                        onChange={(e) => handleInputChange('dateOfBirth', e.target.value)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <Label htmlFor=\"gender\">Gender *</Label>\r\n                                    <select\r\n                                        id=\"gender\"\r\n                                        value={formData.gender}\r\n                                        onChange={(e) => handleInputChange('gender', e.target.value)}\r\n                                        className=\"w-full px-3 py-2 border rounded-md\"\r\n                                    >\r\n                                        <option value=\"\">Select</option>\r\n                                        <option value=\"Male\">Male</option>\r\n                                        <option value=\"Female\">Female</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"grid grid-cols-2 gap-4\">\r\n                                <div>\r\n                                    <Label htmlFor=\"parentName\">Parent Name</Label>\r\n                                    <Input\r\n                                        id=\"parentName\"\r\n                                        value={formData.parentName}\r\n                                        onChange={(e) => handleInputChange('parentName', e.target.value)}\r\n                                        placeholder=\"Parent Full Name\"\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <Label htmlFor=\"parentEmail\">Parent Email</Label>\r\n                                    <Input\r\n                                        id=\"parentEmail\"\r\n                                        type=\"email\"\r\n                                        value={formData.parentEmail}\r\n                                        onChange={(e) => handleInputChange('parentEmail', e.target.value)}\r\n                                        placeholder=\"parent@example.com\"\r\n                                    />\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <Label htmlFor=\"parentPhone\">Parent Phone</Label>\r\n                                    <Input\r\n                                        id=\"parentPhone\"\r\n                                        value={formData.parentPhone}\r\n                                        onChange={(e) => handleInputChange('parentPhone', e.target.value)}\r\n                                        placeholder=\"+234 800 000 0000\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Step 2: Curriculum Selection */}\r\n                    {step === 2 && (\r\n                        <div className=\"space-y-4\">\r\n                            <h3 className=\"text-lg font-semibold flex items-center gap-2\">\r\n                                <BookOpen className=\"h-5 w-5\" />\r\n                                Select Academic Curriculum\r\n                            </h3>\r\n\r\n                            <div className=\"space-y-3\">\r\n                                {/* Nigerian Curriculum */}\r\n                                <Card\r\n                                    className={`cursor-pointer transition-all ${formData.curriculumType === 'Nigerian' ? 'border-primary border-2 bg-primary/5' : 'hover:border-gray-400'\r\n                                        }`}\r\n                                    onClick={() => handleInputChange('curriculumType', 'Nigerian')}\r\n                                >\r\n                                    <CardContent className=\"p-4\">\r\n                                        <div className=\"flex items-start justify-between\">\r\n                                            <div className=\"flex-1\">\r\n                                                <h4 className=\"font-semibold text-lg\"> Nigerian Curriculum</h4>\r\n                                                <p className=\"text-sm text-gray-600 mt-1\">WAEC, NECO, JAMB preparation</p>\r\n                                                <p className=\"text-sm text-gray-500 mt-2\">Subjects: English, Mathematics, Civic Education, Basic Science, etc.</p>\r\n                                            </div>\r\n                                            <div className=\"text-right\">\r\n                                                <p className=\"text-sm text-gray-600\">Annual Fee</p>\r\n                                                <p className=\"text-xl font-bold text-primary\">{nigerianFee.toLocaleString()}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </CardContent>\r\n                                </Card>\r\n\r\n                                {/* British Curriculum */}\r\n                                <Card\r\n                                    className={`cursor-pointer transition-all ${formData.curriculumType === 'British' ? 'border-primary border-2 bg-primary/5' : 'hover:border-gray-400'\r\n                                        }`}\r\n                                    onClick={() => handleInputChange('curriculumType', 'British')}\r\n                                >\r\n                                    <CardContent className=\"p-4\">\r\n                                        <div className=\"flex items-start justify-between\">\r\n                                            <div className=\"flex-1\">\r\n                                                <h4 className=\"font-semibold text-lg\"> British Curriculum</h4>\r\n                                                <p className=\"text-sm text-gray-600 mt-1\">Cambridge IGCSE, A-Levels</p>\r\n                                                <p className=\"text-sm text-gray-500 mt-2\">Subjects: English Literature, Combined Science, History, Geography, etc.</p>\r\n                                            </div>\r\n                                            <div className=\"text-right\">\r\n                                                <p className=\"text-sm text-gray-600\">Annual Fee</p>\r\n                                                <p className=\"text-xl font-bold text-primary\">{britishFee.toLocaleString()}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </CardContent>\r\n                                </Card>\r\n\r\n                                {/* Dual Curriculum */}\r\n                                <Card\r\n                                    className={`cursor-pointer transition-all ${formData.curriculumType === 'Both' ? 'border-primary border-2 bg-primary/5' : 'hover:border-gray-400'\r\n                                        }`}\r\n                                    onClick={() => handleInputChange('curriculumType', 'Both')}\r\n                                >\r\n                                    <CardContent className=\"p-4\">\r\n                                        <div className=\"flex items-start justify-between\">\r\n                                            <div className=\"flex-1\">\r\n                                                <h4 className=\"font-semibold text-lg\"> Dual Curriculum (Nigerian + British)</h4>\r\n                                                <p className=\"text-sm text-gray-600 mt-1\">Best of both worlds - WAEC + Cambridge preparation</p>\r\n                                                <div className=\"flex items-start gap-2 mt-2 p-2 bg-amber-50 border border-amber-200 rounded\">\r\n                                                    <AlertCircle className=\"h-4 w-4 text-amber-600 mt-0.5\" />\r\n                                                    <p className=\"text-xs text-amber-800\">\r\n                                                        Student will maintain two separate academic records, attend dual-track classes, and receive two report cards.\r\n                                                    </p>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"text-right\">\r\n                                                <p className=\"text-sm text-gray-600\">Annual Fee</p>\r\n                                                <p className=\"text-xl font-bold text-primary\">{dualTrackFee.toLocaleString()}</p>\r\n                                                <p className=\"text-xs text-green-600 mt-1\">Save 10%</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </CardContent>\r\n                                </Card>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Step 3: Document Uploads */}\r\n                    {step === 3 && (\r\n                        <div className=\"space-y-4\">\r\n                            <h3 className=\"text-lg font-semibold flex items-center gap-2\">\r\n                                <FileText className=\"h-5 w-5\" />\r\n                                Upload Required Documents\r\n                            </h3>\r\n\r\n                            <div className=\"space-y-4\">\r\n                                <div>\r\n                                    <Label htmlFor=\"birthCert\">Birth Certificate *</Label>\r\n                                    <Input\r\n                                        id=\"birthCert\"\r\n                                        type=\"file\"\r\n                                        accept=\".pdf,.jpg,.jpeg,.png\"\r\n                                        onChange={(e) => handleFileChange('birthCertificate', e.target.files?.[0])}\r\n                                    />\r\n                                    {formData.birthCertificate && (\r\n                                        <p className=\"text-sm text-green-600 mt-1 flex items-center gap-1\">\r\n                                            <CheckCircle className=\"h-4 w-4\" /> {formData.birthCertificate.name}\r\n                                        </p>\r\n                                    )}\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <Label htmlFor=\"previousReport\">Previous School Report (Optional)</Label>\r\n                                    <Input\r\n                                        id=\"previousReport\"\r\n                                        type=\"file\"\r\n                                        accept=\".pdf,.jpg,.jpeg,.png\"\r\n                                        onChange={(e) => handleFileChange('previousReport', e.target.files?.[0])}\r\n                                    />\r\n                                    {formData.previousReport && (\r\n                                        <p className=\"text-sm text-green-600 mt-1 flex items-center gap-1\">\r\n                                            <CheckCircle className=\"h-4 w-4\" /> {formData.previousReport.name}\r\n                                        </p>\r\n                                    )}\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <Label htmlFor=\"medicalRecords\">Medical Records (Optional)</Label>\r\n                                    <Input\r\n                                        id=\"medicalRecords\"\r\n                                        type=\"file\"\r\n                                        accept=\".pdf,.jpg,.jpeg,.png\"\r\n                                        onChange={(e) => handleFileChange('medicalRecords', e.target.files?.[0])}\r\n                                    />\r\n                                    {formData.medicalRecords && (\r\n                                        <p className=\"text-sm text-green-600 mt-1 flex items-center gap-1\">\r\n                                            <CheckCircle className=\"h-4 w-4\" /> {formData.medicalRecords.name}\r\n                                        </p>\r\n                                    )}\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <Label htmlFor=\"passportPhoto\">Passport Photograph *</Label>\r\n                                    <Input\r\n                                        id=\"passportPhoto\"\r\n                                        type=\"file\"\r\n                                        accept=\".jpg,.jpeg,.png\"\r\n                                        onChange={(e) => handleFileChange('passportPhoto', e.target.files?.[0])}\r\n                                    />\r\n                                    {formData.passportPhoto && (\r\n                                        <p className=\"text-sm text-green-600 mt-1 flex items-center gap-1\">\r\n                                            <CheckCircle className=\"h-4 w-4\" /> {formData.passportPhoto.name}\r\n                                        </p>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Step 4: Confirmation */}\r\n                    {step === 4 && (\r\n                        <div className=\"space-y-4\">\r\n                            <h3 className=\"text-lg font-semibold flex items-center gap-2\">\r\n                                <CheckCircle className=\"h-5 w-5 text-green-600\" />\r\n                                Confirm Enrollment Details\r\n                            </h3>\r\n\r\n                            <div className=\"bg-gray-50 p-4 rounded-lg space-y-3\">\r\n                                <div className=\"grid grid-cols-2 gap-4\">\r\n                                    <div>\r\n                                        <p className=\"text-sm text-gray-600\">Student Name</p>\r\n                                        <p className=\"font-semibold\">{formData.firstName} {formData.lastName}</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p className=\"text-sm text-gray-600\">Date of Birth</p>\r\n                                        <p className=\"font-semibold\">{formData.dateOfBirth}</p>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <p className=\"text-sm text-gray-600\">Curriculum Type</p>\r\n                                    <p className=\"font-semibold text-primary\">{formData.curriculumType}</p>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <p className=\"text-sm text-gray-600\">Documents Uploaded</p>\r\n                                    <div className=\"flex gap-2 mt-1\">\r\n                                        {formData.birthCertificate && (\r\n                                            <span className=\"px-2 py-1 bg-green-100 text-green-700 text-xs rounded\">Birth Cert </span>\r\n                                        )}\r\n                                        {formData.passportPhoto && (\r\n                                            <span className=\"px-2 py-1 bg-green-100 text-green-700 text-xs rounded\">Photo </span>\r\n                                        )}\r\n                                        {formData.previousReport && (\r\n                                            <span className=\"px-2 py-1 bg-green-100 text-green-700 text-xs rounded\">Report </span>\r\n                                        )}\r\n                                        {formData.medicalRecords && (\r\n                                            <span className=\"px-2 py-1 bg-green-100 text-green-700 text-xs rounded\">Medical </span>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {formData.curriculumType === 'Both' && (\r\n                                    <div className=\"mt-4 p-3 bg-amber-50 border border-amber-200 rounded\">\r\n                                        <p className=\"text-sm font-semibold text-amber-900\"> Dual Curriculum Reminder</p>\r\n                                        <p className=\"text-xs text-amber-800 mt-1\">\r\n                                            This student will be enrolled in both Nigerian and British tracks. They will receive separate report cards and maintain independent academic records for each curriculum.\r\n                                        </p>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Navigation Buttons */}\r\n                    <div className=\"flex justify-between pt-6 border-t\">\r\n                        {step > 1 && (\r\n                            <Button onClick={handleBack} variant=\"outline\">\r\n                                <ChevronLeft className=\"h-4 w-4 mr-1\" />\r\n                                Back\r\n                            </Button>\r\n                        )}\r\n\r\n                        {step < 4 ? (\r\n                            <Button onClick={handleNext} className=\"ml-auto\">\r\n                                Next\r\n                                <ChevronRight className=\"h-4 w-4 ml-1\" />\r\n                            </Button>\r\n                        ) : (\r\n                            <Button onClick={handleSubmit} disabled={loading} className=\"ml-auto\">\r\n                                {loading ? 'Enrolling...' : 'Complete Enrollment'}\r\n                                <CheckCircle className=\"h-4 w-4 ml-1\" />\r\n                            </Button>\r\n                        )}\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}