{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\OneDrive\\\\Desktop\\\\Project\\\\school-app-\\\\components\\\\admin\\\\DashboardOverview.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport { StudentsIcon, StaffIcon, ReportIcon, ReceiptIcon, HeartIcon, ChevronRightIcon, PlusIcon, MegaphoneIcon, LoginIcon, EditIcon, PublishIcon, DollarSignIcon, ClipboardListIcon, UsersIcon, BusVehicleIcon, TrashIcon, ArrowUpIcon, ArrowDownIcon, UserIcon, ClockIcon, SUBJECT_COLORS, DocumentTextIcon, HelpingHandIcon, ElearningIcon, SchoolLogoIcon, BookOpenIcon } from '../../constants';\nimport DonutChart from '../ui/DonutChart';\nimport { supabase, isSupabaseConfigured } from '../../lib/supabase';\nimport { AlertTriangle, Activity, Flame, ShieldCheck, Shield, FileText, Rocket, Beaker, Calendar, TrendingUp } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StatCard = ({\n  label,\n  value,\n  icon,\n  colorClasses,\n  onClick,\n  trend,\n  trendColor\n}) => _jsxDEV(\"button\", {\n  onClick: onClick,\n  className: `w-full text-left p-5 rounded-2xl text-white relative overflow-hidden transition-transform transform hover:-translate-y-1 ${colorClasses}`,\n  children: [React.cloneElement(icon, {\n    className: \"absolute -right-4 -bottom-4 h-24 w-24 text-white/10\"\n  }), _jsxDEV(\"div\", {\n    className: \"relative z-10\",\n    children: [_jsxDEV(\"div\", {\n      className: \"flex justify-between items-start\",\n      children: [_jsxDEV(\"p\", {\n        className: \"text-white/90 font-medium\",\n        children: label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), _jsxDEV(\"div\", {\n        className: \"p-3 bg-white/20 rounded-xl\",\n        children: React.cloneElement(icon, {\n          className: \"h-6 w-6\"\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), _jsxDEV(\"p\", {\n      className: \"text-4xl font-bold mt-2\",\n      children: value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), _jsxDEV(\"div\", {\n      className: `mt-1 text-sm font-semibold flex items-center space-x-1 ${trendColor}`,\n      children: [trend.startsWith('+') ? _jsxDEV(ArrowUpIcon, {\n        className: \"w-4 h-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 42\n      }, this) : _jsxDEV(ArrowDownIcon, {\n        className: \"w-4 h-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 80\n      }, this), _jsxDEV(\"span\", {\n        children: trend\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), _jsxDEV(\"span\", {\n        className: \"text-white/70 font-normal text-xs\",\n        children: \"vs last month\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 55,\n  columnNumber: 5\n}, this);\nconst QuickActionCard = ({\n  label,\n  icon,\n  onClick,\n  color\n}) => _jsxDEV(\"button\", {\n  onClick: onClick,\n  className: \"bg-white p-3 rounded-xl shadow-sm flex flex-col items-center justify-center text-center hover:bg-gray-100 hover:ring-2 hover:ring-indigo-200 transition-all duration-200\",\n  children: [_jsxDEV(\"div\", {\n    className: `p-3 rounded-full ${color}`,\n    children: React.cloneElement(icon, {\n      className: \"h-6 w-6 text-white\"\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this), _jsxDEV(\"p\", {\n    className: \"font-semibold text-gray-700 mt-2 text-xs\",\n    children: label\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 76,\n  columnNumber: 5\n}, this);\nconst AlertCard = ({\n  label,\n  value,\n  icon,\n  onClick,\n  color\n}) => _jsxDEV(\"button\", {\n  onClick: onClick,\n  className: `w-full bg-white p-3 rounded-xl shadow-sm flex items-center space-x-3 text-left border-l-4 ${color.replace('text-', 'border-')} hover:bg-gray-50 transition-colors`,\n  children: [_jsxDEV(\"div\", {\n    className: `${color.replace('text-', 'bg-').replace('-500', '-100')} p-2 rounded-lg`,\n    children: React.cloneElement(icon, {\n      className: `h-5 w-5 ${color}`\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 9\n  }, this), _jsxDEV(\"div\", {\n    children: [_jsxDEV(\"p\", {\n      className: \"font-bold text-gray-800\",\n      children: [value, \" \", label]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this), _jsxDEV(\"p\", {\n      className: \"text-xs text-gray-500\",\n      children: \"Action required\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 9\n  }, this), _jsxDEV(ChevronRightIcon, {\n    className: \"h-5 w-5 text-gray-400 ml-auto\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 86,\n  columnNumber: 5\n}, this);\nconst EnrollmentLineChart = ({\n  data,\n  color\n}) => {\n  const width = 300;\n  const height = 100;\n  const padding = 20;\n  const maxCount = data.length > 0 ? Math.ceil(Math.max(...data.map(d => d.count)) / 100) * 100 : 100;\n  const minCount = data.length > 0 ? Math.floor(Math.min(...data.map(d => d.count)) / 100) * 100 : 0;\n  const stepX = data.length > 1 ? (width - padding * 2) / (data.length - 1) : 0;\n  const countRange = maxCount - minCount;\n  const stepY = countRange > 0 ? (height - padding * 2) / countRange : 0;\n  const points = data.map((d, i) => `${padding + i * stepX},${height - padding - (d.count - minCount) * stepY}`).join(' ');\n  return _jsxDEV(\"div\", {\n    className: \"relative mt-2\",\n    children: [_jsxDEV(\"svg\", {\n      viewBox: `0 0 ${width} ${height}`,\n      className: \"w-full h-auto\",\n      children: _jsxDEV(\"polyline\", {\n        fill: \"none\",\n        stroke: color,\n        strokeWidth: \"2.5\",\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        points: points\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this), _jsxDEV(\"div\", {\n      className: \"flex justify-between px-4 -mt-6\",\n      children: data.map(item => _jsxDEV(\"span\", {\n        className: \"text-xs text-gray-500 font-medium\",\n        children: item.year\n      }, item.year, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 35\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 9\n  }, this);\n};\nconst actionTypeIcons = {\n  login: _jsxDEV(LoginIcon, {\n    className: \"h-5 w-5 text-green-500\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 12\n  }, this),\n  logout: _jsxDEV(LoginIcon, {\n    className: \"h-5 w-5 text-gray-500 transform scale-x-[-1]\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 13\n  }, this),\n  create: _jsxDEV(PlusIcon, {\n    className: \"h-5 w-5 text-sky-500\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 13\n  }, this),\n  update: _jsxDEV(EditIcon, {\n    className: \"h-5 w-5 text-amber-500\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 13\n  }, this),\n  delete: _jsxDEV(TrashIcon, {\n    className: \"h-5 w-5 text-red-500\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 124,\n    columnNumber: 13\n  }, this),\n  publish: _jsxDEV(PublishIcon, {\n    className: \"h-5 w-5 text-purple-500\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 14\n  }, this),\n  payment: _jsxDEV(DollarSignIcon, {\n    className: \"h-5 w-5 text-indigo-500\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 14\n  }, this)\n};\nconst formatDistanceToNow = isoDate => {\n  const date = new Date(isoDate);\n  const now = new Date();\n  const seconds = Math.round((now.getTime() - date.getTime()) / 1000);\n  const minutes = Math.round(seconds / 60);\n  if (minutes < 60) return `${minutes}m ago`;\n  const hours = Math.round(minutes / 60);\n  if (hours < 24) return `${hours}h ago`;\n  const days = Math.round(hours / 24);\n  return `${days}d ago`;\n};\nconst ActivityLogItem = ({\n  log,\n  isLast\n}) => _jsxDEV(\"div\", {\n  className: \"relative pl-12\",\n  children: [_jsxDEV(\"div\", {\n    className: \"absolute left-4 top-2 w-0.5 h-full bg-gray-200\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 9\n  }, this), _jsxDEV(\"div\", {\n    className: \"absolute left-0 top-0 w-8 h-8 rounded-full flex-shrink-0 flex items-center justify-center bg-gray-100 ring-4 ring-gray-50\",\n    children: actionTypeIcons[log.type]\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 9\n  }, this), _jsxDEV(\"div\", {\n    className: \"text-sm\",\n    children: [_jsxDEV(\"p\", {\n      className: \"text-gray-800\",\n      children: [_jsxDEV(\"span\", {\n        className: \"font-semibold\",\n        children: log.user.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this), \" \", log.action]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }, this), _jsxDEV(\"p\", {\n      className: \"text-xs text-gray-400\",\n      children: formatDistanceToNow(log.timestamp)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 142,\n  columnNumber: 5\n}, this);\nconst AddUserWidget = ({\n  onClick\n}) => _jsxDEV(\"button\", {\n  onClick: onClick,\n  className: \"bg-white p-4 rounded-xl shadow-sm text-left hover:bg-gray-50 transition-colors h-full flex flex-col\",\n  children: [_jsxDEV(\"div\", {\n    className: \"flex items-center space-x-3\",\n    children: [_jsxDEV(\"div\", {\n      className: \"p-2 bg-sky-100 rounded-lg\",\n      children: _jsxDEV(PlusIcon, {\n        className: \"h-5 w-5 text-sky-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 56\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }, this), _jsxDEV(\"h4\", {\n      className: \"font-bold text-gray-800\",\n      children: \"Add New User\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 9\n  }, this), _jsxDEV(\"div\", {\n    className: \"flex-grow flex items-center justify-center space-x-4 mt-2\",\n    children: [_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [_jsxDEV(\"div\", {\n        className: \"p-3 bg-gray-100 rounded-full\",\n        children: _jsxDEV(StudentsIcon, {\n          className: \"text-gray-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 88\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 42\n      }, this), _jsxDEV(\"p\", {\n        className: \"text-xs mt-1\",\n        children: \"Student\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 136\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }, this), _jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [_jsxDEV(\"div\", {\n        className: \"p-3 bg-gray-100 rounded-full\",\n        children: _jsxDEV(StaffIcon, {\n          className: \"text-gray-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 88\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 42\n      }, this), _jsxDEV(\"p\", {\n        className: \"text-xs mt-1\",\n        children: \"Teacher\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 133\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }, this), _jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [_jsxDEV(\"div\", {\n        className: \"p-3 bg-gray-100 rounded-full\",\n        children: _jsxDEV(UsersIcon, {\n          className: \"text-gray-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 88\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 42\n      }, this), _jsxDEV(\"p\", {\n        className: \"text-xs mt-1\",\n        children: \"Parent\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 133\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 164,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 159,\n  columnNumber: 5\n}, this);\nconst PublishReportsWidget = ({\n  onClick,\n  count\n}) => {\n  return _jsxDEV(\"div\", {\n    className: \"bg-white p-4 rounded-xl shadow-sm flex flex-col h-full\",\n    children: [_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-3\",\n      children: [_jsxDEV(\"div\", {\n        className: \"p-2 bg-purple-100 rounded-lg\",\n        children: _jsxDEV(ReportIcon, {\n          className: \"h-5 w-5 text-purple-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 63\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }, this), _jsxDEV(\"h4\", {\n        className: \"font-bold text-gray-800\",\n        children: \"Publish Reports\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }, this), _jsxDEV(\"div\", {\n      className: \"flex-grow flex flex-col items-center justify-center text-center\",\n      children: [_jsxDEV(\"p\", {\n        className: \"text-5xl font-bold text-purple-600\",\n        children: count\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }, this), _jsxDEV(\"p\", {\n        className: \"text-sm text-gray-600\",\n        children: \"reports are pending review\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }, this), _jsxDEV(\"button\", {\n      onClick: onClick,\n      className: \"w-full mt-2 py-2 bg-purple-600 text-white font-semibold rounded-lg hover:bg-purple-700\",\n      children: \"View Reports\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 9\n  }, this);\n};\nconst TimetableWidget = ({\n  onClick,\n  schedule\n}) => {\n  return _jsxDEV(\"div\", {\n    className: \"bg-white p-4 rounded-xl shadow-sm flex flex-col h-full\",\n    children: [_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-3\",\n      children: [_jsxDEV(\"div\", {\n        className: \"p-2 bg-indigo-100 rounded-lg\",\n        children: _jsxDEV(ClipboardListIcon, {\n          className: \"h-5 w-5 text-indigo-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 63\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }, this), _jsxDEV(\"h4\", {\n        className: \"font-bold text-gray-800\",\n        children: \"Today's Timetable\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }, this), _jsxDEV(\"div\", {\n      className: \"flex-grow space-y-2 mt-3 text-sm\",\n      children: schedule.length > 0 ? schedule.slice(0, 3).map((item, index) => _jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [_jsxDEV(\"span\", {\n          className: \"font-semibold text-gray-500 w-16\",\n          children: item.start_time\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 25\n        }, this), _jsxDEV(\"span\", {\n          className: `px-2 py-1 rounded-md text-xs font-semibold ${SUBJECT_COLORS[item.subject] || 'bg-gray-100'}`,\n          children: [item.subject, \" \", _jsxDEV(\"span\", {\n            className: \"text-gray-400 font-normal\",\n            children: [\"(\", item.class_name, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 44\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 25\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 21\n      }, this)) : _jsxDEV(\"p\", {\n        className: \"text-gray-500 text-center pt-8\",\n        children: \"No classes scheduled for today.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 22\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }, this), _jsxDEV(\"button\", {\n      onClick: onClick,\n      className: \"w-full mt-2 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700\",\n      children: \"Manage Timetable\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 190,\n    columnNumber: 9\n  }, this);\n};\nconst AnnounceWidget = ({\n  onClick\n}) => _jsxDEV(\"button\", {\n  onClick: onClick,\n  className: \"bg-white p-4 rounded-xl shadow-sm text-left hover:bg-gray-50 transition-colors h-full flex flex-col\",\n  children: [_jsxDEV(\"div\", {\n    className: \"flex items-center space-x-3\",\n    children: [_jsxDEV(\"div\", {\n      className: \"p-2 bg-teal-100 rounded-lg\",\n      children: _jsxDEV(MegaphoneIcon, {\n        className: \"h-5 w-5 text-teal-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 57\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }, this), _jsxDEV(\"h4\", {\n      className: \"font-bold text-gray-800\",\n      children: \"Send Announcement\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 212,\n    columnNumber: 9\n  }, this), _jsxDEV(\"div\", {\n    className: \"flex-grow flex items-center justify-center\",\n    children: _jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [_jsxDEV(MegaphoneIcon, {\n        className: \"h-16 w-16 text-teal-200\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 17\n      }, this), _jsxDEV(\"p\", {\n        className: \"mt-2 text-sm text-gray-600\",\n        children: \"Reach parents, teachers, and students instantly.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 216,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 211,\n  columnNumber: 5\n}, this);\nconst BusRosterWidget = ({\n  onClick,\n  assigned,\n  total\n}) => {\n  return _jsxDEV(\"div\", {\n    className: \"bg-white p-4 rounded-xl shadow-sm flex flex-col h-full\",\n    children: [_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-3\",\n      children: [_jsxDEV(\"div\", {\n        className: \"p-2 bg-orange-100 rounded-lg\",\n        children: _jsxDEV(BusVehicleIcon, {\n          className: \"h-5 w-5 text-orange-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 63\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 17\n      }, this), _jsxDEV(\"h4\", {\n        className: \"font-bold text-gray-800\",\n        children: \"Bus Roster\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 13\n    }, this), _jsxDEV(\"div\", {\n      className: \"flex-grow flex flex-col items-center justify-center text-center\",\n      children: [_jsxDEV(\"p\", {\n        className: \"text-5xl font-bold text-orange-600\",\n        children: [assigned, \"/\", total]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 17\n      }, this), _jsxDEV(\"p\", {\n        className: \"text-sm text-gray-600\",\n        children: \"routes assigned for today\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 13\n    }, this), _jsxDEV(\"button\", {\n      onClick: onClick,\n      className: \"w-full mt-2 py-2 bg-orange-500 text-white font-semibold rounded-lg hover:bg-orange-600\",\n      children: \"View Roster\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 228,\n    columnNumber: 9\n  }, this);\n};\nconst HealthLogWidget = ({\n  onClick,\n  latestLog\n}) => {\n  return _jsxDEV(\"div\", {\n    className: \"bg-white p-4 rounded-xl shadow-sm flex flex-col h-full\",\n    children: [_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-3\",\n      children: [_jsxDEV(\"div\", {\n        className: \"p-2 bg-red-100 rounded-lg\",\n        children: _jsxDEV(HeartIcon, {\n          className: \"h-5 w-5 text-red-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 60\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 17\n      }, this), _jsxDEV(\"h4\", {\n        className: \"font-bold text-gray-800\",\n        children: \"Recent Health Log\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 13\n    }, this), _jsxDEV(\"div\", {\n      className: \"flex-grow space-y-2 mt-3 text-sm\",\n      children: latestLog ? _jsxDEV(\"div\", {\n        className: \"bg-gray-50 p-2 rounded-lg\",\n        children: [_jsxDEV(\"p\", {\n          className: \"font-bold text-gray-800\",\n          children: latestLog.studentName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 25\n        }, this), _jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: [latestLog.reason, \" - \", latestLog.time]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 21\n      }, this) : _jsxDEV(\"p\", {\n        className: \"text-gray-500 text-center\",\n        children: \"No recent health logs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 13\n    }, this), _jsxDEV(\"button\", {\n      onClick: onClick,\n      className: \"w-full mt-2 py-2 bg-red-500 text-white font-semibold rounded-lg hover:bg-red-600\",\n      children: \"View Full Log\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 244,\n    columnNumber: 9\n  }, this);\n};\nconst DashboardOverview = ({\n  navigateTo,\n  handleBack,\n  forceUpdate\n}) => {\n  const [totalStudents, setTotalStudents] = useState(0);\n  const [totalStaff, setTotalStaff] = useState(0);\n  const [totalParents, setTotalParents] = useState(0);\n  const [isLoadingCounts, setIsLoadingCounts] = useState(true);\n  const [overdueFees, setOverdueFees] = useState(0);\n  const [recentActivities, setRecentActivities] = useState([]);\n  const [busRosterAssigned, setBusRosterAssigned] = useState(0);\n  const [busRosterTotal, setBusRosterTotal] = useState(0);\n  const [latestHealthLog, setLatestHealthLog] = useState(null);\n  const [enrollmentData, setEnrollmentData] = useState([]);\n  const [unpublishedReports, setUnpublishedReports] = useState(0);\n  const [timetablePreview, setTimetablePreview] = useState([]);\n  const [attendancePercentage, setAttendancePercentage] = useState(0);\n  const [isBroadcastOpen, setIsBroadcastOpen] = useState(false);\n  useEffect(() => {\n    fetchCounts();\n    fetchDashboardData();\n    fetchBusRosterLocal();\n    const channel = supabase.channel('dashboard-global-changes').on('postgres_changes', {\n      event: '*',\n      schema: 'public'\n    }, payload => {\n      console.log('Real-time change detected:', payload);\n      fetchCounts();\n      fetchDashboardData();\n    }).subscribe();\n    const loadBusRoster = () => fetchBusRosterLocal();\n    window.addEventListener('storage', loadBusRoster);\n    const busInterval = setInterval(loadBusRoster, 2000);\n    return () => {\n      supabase.removeChannel(channel);\n      window.removeEventListener('storage', loadBusRoster);\n      clearInterval(busInterval);\n    };\n  }, []);\n  const fetchBusRosterLocal = () => {\n    const saved = localStorage.getItem('schoolApp_busRoster');\n    let currentRoster = [];\n    if (saved) {\n      try {\n        currentRoster = JSON.parse(saved);\n      } catch (e) {\n        console.error(e);\n      }\n    }\n    const today = new Date().toISOString().split('T')[0];\n    const assigned = currentRoster.filter(r => r.date === today && r.driverId).length;\n    setBusRosterAssigned(assigned);\n    setBusRosterTotal(4);\n  };\n  const fetchCounts = async () => {\n    setIsLoadingCounts(true);\n    if (!isSupabaseConfigured) {\n      setTotalStudents(0);\n      setTotalStaff(0);\n      setTotalParents(0);\n      setIsLoadingCounts(false);\n      return;\n    }\n    try {\n      const {\n        count: studentCount,\n        error: studentError\n      } = await supabase.from('students').select('*', {\n        count: 'exact',\n        head: true\n      });\n      if (!studentError) setTotalStudents(studentCount || 0);\n      const {\n        count: teacherCount,\n        error: teacherError\n      } = await supabase.from('teachers').select('*', {\n        count: 'exact',\n        head: true\n      });\n      const {\n        count: adminCount,\n        error: adminError\n      } = await supabase.from('users').select('*', {\n        count: 'exact',\n        head: true\n      }).eq('role', 'Admin');\n      if (!teacherError) setTotalStaff((teacherCount || 0) + (adminCount || 0));\n      const {\n        count: parentCount,\n        error: parentError\n      } = await supabase.from('parents').select('*', {\n        count: 'exact',\n        head: true\n      });\n      if (!parentError) setTotalParents(parentCount || 0);\n    } catch (err) {\n      console.error('Error fetching counts:', err);\n    } finally {\n      setIsLoadingCounts(false);\n    }\n  };\n  const fetchDashboardData = async () => {\n    if (!isSupabaseConfigured) {\n      setOverdueFees(0);\n      setUnpublishedReports(0);\n      setAttendancePercentage(0);\n      return;\n    }\n    try {\n      const {\n        count: overdueCount\n      } = await supabase.from('student_fees').select('*', {\n        count: 'exact',\n        head: true\n      }).eq('status', 'Overdue');\n      setOverdueFees(overdueCount || 0);\n      const {\n        data: auditData\n      } = await supabase.from('audit_logs').select('*').order('timestamp', {\n        ascending: false\n      }).limit(4);\n      if (auditData) {\n        const transformed = auditData.map(log => ({\n          id: log.id,\n          user: {\n            name: log.user_name || 'System',\n            avatarUrl: 'https://i.pravatar.cc/150',\n            role: log.user_role || 'Admin'\n          },\n          action: log.action,\n          timestamp: log.timestamp,\n          type: log.type\n        }));\n        setRecentActivities(transformed);\n      }\n      const {\n        data: healthData\n      } = await supabase.from('health_logs').select(`\n                    *,\n                    students(name)\n                `).order('date', {\n        ascending: false\n      }).order('id', {\n        ascending: false\n      }).limit(1).single();\n      if (healthData) {\n        setLatestHealthLog({\n          studentName: healthData.students?.name || 'Unknown',\n          reason: healthData.reason,\n          time: healthData.time,\n          date: healthData.date\n        });\n      }\n      const {\n        data: studentsData\n      } = await supabase.from('students').select('created_at');\n      if (studentsData) {\n        const yearCounts = {};\n        studentsData.forEach(s => {\n          const year = new Date(s.created_at).getFullYear();\n          yearCounts[year] = (yearCounts[year] || 0) + 1;\n        });\n        const trendData = Object.entries(yearCounts).map(([year, count]) => ({\n          year: parseInt(year),\n          count\n        })).sort((a, b) => a.year - b.year).slice(-5);\n        setEnrollmentData(trendData.length > 0 ? trendData : [{\n          year: new Date().getFullYear(),\n          count: totalStudents\n        }]);\n      }\n      const {\n        count: unpublishedCount\n      } = await supabase.from('report_cards').select('*', {\n        count: 'exact',\n        head: true\n      }).eq('status', 'Submitted');\n      setUnpublishedReports(unpublishedCount || 0);\n      const {\n        data: attendanceData\n      } = await supabase.from('student_attendance').select('status').eq('date', new Date().toISOString().split('T')[0]);\n      if (attendanceData && attendanceData.length > 0) {\n        const presentCount = attendanceData.filter(a => a.status === 'Present').length;\n        const totalRecorded = attendanceData.length;\n        setAttendancePercentage(Math.round(presentCount / totalRecorded * 100));\n      } else {\n        setAttendancePercentage(0);\n      }\n      const todayName = new Date().toLocaleDateString('en-US', {\n        weekday: 'long'\n      });\n      const {\n        data: timetableData\n      } = await supabase.from('timetable').select('*').eq('day', todayName).order('start_time', {\n        ascending: true\n      }).limit(5);\n      setTimetablePreview(timetableData || []);\n    } catch (err) {\n      console.error('Error fetching dashboard data:', err);\n    }\n  };\n  return _jsxDEV(\"div\", {\n    className: \"p-4 lg:p-6 bg-gray-50 min-h-full\",\n    children: _jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\",\n      children: [_jsxDEV(\"div\", {\n        className: \"lg:col-span-2 space-y-6\",\n        children: [_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-br from-indigo-700 to-indigo-900 p-6 rounded-3xl\",\n          children: [_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-white\",\n            children: \"Welcome, Admin!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 25\n          }, this), _jsxDEV(\"p\", {\n            className: \"text-indigo-200\",\n            children: \"Here's your school's command center.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 25\n          }, this), _jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6\",\n            children: [_jsxDEV(StatCard, {\n              label: \"Total Students\",\n              value: totalStudents,\n              icon: _jsxDEV(StudentsIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 528,\n                columnNumber: 90\n              }, this),\n              colorClasses: \"bg-gradient-to-br from-sky-400 to-sky-600\",\n              onClick: () => navigateTo('studentList', 'Manage Students', {}),\n              trend: \"+12\",\n              trendColor: \"text-sky-200\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 528,\n              columnNumber: 29\n            }, this), _jsxDEV(StatCard, {\n              label: \"Total Staff\",\n              value: totalStaff,\n              icon: _jsxDEV(StaffIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 529,\n                columnNumber: 84\n              }, this),\n              colorClasses: \"bg-gradient-to-br from-purple-400 to-purple-600\",\n              onClick: () => navigateTo('teacherList', 'Manage Teachers', {}),\n              trend: \"+2\",\n              trendColor: \"text-purple-200\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 529,\n              columnNumber: 29\n            }, this), _jsxDEV(StatCard, {\n              label: \"Total Parents\",\n              value: totalParents,\n              icon: _jsxDEV(UsersIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 530,\n                columnNumber: 88\n              }, this),\n              colorClasses: \"bg-gradient-to-br from-orange-400 to-orange-600\",\n              onClick: () => navigateTo('parentList', 'Manage Parents', {}),\n              trend: \"+8\",\n              trendColor: \"text-orange-200\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 21\n        }, this), _jsxDEV(\"div\", {\n          children: [_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold text-gray-700 mb-3 px-1\",\n            children: \"Quick Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 25\n          }, this), _jsxDEV(\"div\", {\n            className: \"grid grid-cols-3 md:grid-cols-6 lg:grid-cols-8 gap-3\",\n            children: [_jsxDEV(QuickActionCard, {\n              label: \"Add User\",\n              icon: _jsxDEV(PlusIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 538,\n                columnNumber: 69\n              }, this),\n              onClick: () => navigateTo('selectUserTypeToAdd', 'Add New User', {}),\n              color: \"bg-sky-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 29\n            }, this), _jsxDEV(QuickActionCard, {\n              label: \"Onboarding\",\n              icon: _jsxDEV(SchoolLogoIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 539,\n                columnNumber: 71\n              }, this),\n              onClick: () => navigateTo('manageSchoolInfo', 'School Onboarding'),\n              color: \"bg-pink-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 29\n            }, this), _jsxDEV(QuickActionCard, {\n              label: \"Enroll Student\",\n              icon: _jsxDEV(UserIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 540,\n                columnNumber: 75\n              }, this),\n              onClick: () => navigateTo('enhancedEnrollment', 'New Student Enrollment'),\n              color: \"bg-emerald-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 29\n            }, this), _jsxDEV(QuickActionCard, {\n              label: \"Register Exams\",\n              icon: _jsxDEV(DocumentTextIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 75\n              }, this),\n              onClick: () => navigateTo('exams', 'External Exams'),\n              color: \"bg-indigo-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 29\n            }, this), _jsxDEV(QuickActionCard, {\n              label: \"Publish Reports\",\n              icon: _jsxDEV(ReportIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 76\n              }, this),\n              onClick: () => navigateTo('reportCardPublishing', 'Publish Reports', {}),\n              color: \"bg-purple-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 542,\n              columnNumber: 29\n            }, this), _jsxDEV(QuickActionCard, {\n              label: \"Timetable\",\n              icon: _jsxDEV(ClipboardListIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 543,\n                columnNumber: 70\n              }, this),\n              onClick: () => navigateTo('timetable', 'AI Timetable'),\n              color: \"bg-indigo-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 29\n            }, this), _jsxDEV(QuickActionCard, {\n              label: \"Announce\",\n              icon: _jsxDEV(MegaphoneIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 544,\n                columnNumber: 69\n              }, this),\n              onClick: () => navigateTo('communicationHub', 'Communication Hub'),\n              color: \"bg-teal-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 29\n            }, this), _jsxDEV(QuickActionCard, {\n              label: \"Bus Roster\",\n              icon: _jsxDEV(BusVehicleIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 545,\n                columnNumber: 71\n              }, this),\n              onClick: () => navigateTo('busDutyRoster', 'Bus Duty Roster'),\n              color: \"bg-orange-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 545,\n              columnNumber: 29\n            }, this), _jsxDEV(QuickActionCard, {\n              label: \"Health Log\",\n              icon: _jsxDEV(HeartIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 546,\n                columnNumber: 71\n              }, this),\n              onClick: () => navigateTo('healthLog', 'Health Log'),\n              color: \"bg-red-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 29\n            }, this), _jsxDEV(QuickActionCard, {\n              label: \"Attendance\",\n              icon: _jsxDEV(ClockIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 547,\n                columnNumber: 71\n              }, this),\n              onClick: () => navigateTo('teacherAttendance', 'Teacher Attendance'),\n              color: \"bg-amber-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 29\n            }, this), _jsxDEV(QuickActionCard, {\n              label: \"User Accounts\",\n              icon: _jsxDEV(UsersIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 548,\n                columnNumber: 74\n              }, this),\n              onClick: () => navigateTo('userAccounts', 'User Accounts'),\n              color: \"bg-indigo-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 29\n            }, this), _jsxDEV(QuickActionCard, {\n              label: \"Compliance\",\n              icon: _jsxDEV(Shield, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 549,\n                columnNumber: 71\n              }, this),\n              onClick: () => navigateTo('complianceOnboarding', 'School Compliance'),\n              color: \"bg-violet-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 29\n            }, this), _jsxDEV(QuickActionCard, {\n              label: \"Track Attendance\",\n              icon: _jsxDEV(Calendar, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 77\n              }, this),\n              onClick: () => navigateTo('attendanceTracker', 'Curriculum Attendance'),\n              color: \"bg-green-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 29\n            }, this), _jsxDEV(QuickActionCard, {\n              label: \"Enter Results\",\n              icon: _jsxDEV(TrendingUp, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 74\n              }, this),\n              onClick: () => navigateTo('resultsEntry', 'Results Entry'),\n              color: \"bg-cyan-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 551,\n              columnNumber: 29\n            }, this), _jsxDEV(QuickActionCard, {\n              label: \"Launch Hub\",\n              icon: _jsxDEV(Rocket, {\n                className: \"animate-bounce\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 552,\n                columnNumber: 71\n              }, this),\n              onClick: () => navigateTo('onboardingWizard', 'Pilot Onboarding'),\n              color: \"bg-gray-900\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 29\n            }, this), _jsxDEV(QuickActionCard, {\n              label: \"Emergency\",\n              icon: _jsxDEV(AlertTriangle, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 553,\n                columnNumber: 70\n              }, this),\n              onClick: () => setIsBroadcastOpen(true),\n              color: \"bg-red-600 animate-pulse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 25\n          }, this), _jsxDEV(\"div\", {\n            className: \"mt-8\",\n            children: [_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold text-gray-700 mb-3 px-1\",\n              children: \"Content Management\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 559,\n              columnNumber: 29\n            }, this), _jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 md:grid-cols-5 gap-4\",\n              children: [_jsxDEV(QuickActionCard, {\n                label: \"School Policies\",\n                icon: _jsxDEV(DocumentTextIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 563,\n                  columnNumber: 43\n                }, this),\n                onClick: () => navigateTo('managePolicies', 'Manage Policies'),\n                color: \"bg-pink-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 33\n              }, this), _jsxDEV(QuickActionCard, {\n                label: \"Volunteering\",\n                icon: _jsxDEV(HelpingHandIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 569,\n                  columnNumber: 43\n                }, this),\n                onClick: () => navigateTo('manageVolunteering', 'Manage Volunteering'),\n                color: \"bg-emerald-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 567,\n                columnNumber: 33\n              }, this), _jsxDEV(QuickActionCard, {\n                label: \"Permission Slips\",\n                icon: _jsxDEV(ClipboardListIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 575,\n                  columnNumber: 43\n                }, this),\n                onClick: () => navigateTo('managePermissionSlips', 'Manage Permission Slips'),\n                color: \"bg-cyan-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 573,\n                columnNumber: 33\n              }, this), _jsxDEV(QuickActionCard, {\n                label: \"Learning Resources\",\n                icon: _jsxDEV(ElearningIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 581,\n                  columnNumber: 43\n                }, this),\n                onClick: () => navigateTo('manageLearningResources', 'Manage Learning Resources'),\n                color: \"bg-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 579,\n                columnNumber: 33\n              }, this), _jsxDEV(QuickActionCard, {\n                label: \"PTA Meetings\",\n                icon: _jsxDEV(UsersIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 587,\n                  columnNumber: 43\n                }, this),\n                onClick: () => navigateTo('managePTAMeetings', 'Manage PTA Meetings'),\n                color: \"bg-purple-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 585,\n                columnNumber: 33\n              }, this), _jsxDEV(QuickActionCard, {\n                label: \"Curriculum\",\n                icon: _jsxDEV(BookOpenIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 593,\n                  columnNumber: 43\n                }, this),\n                onClick: () => navigateTo('manageCurriculum', 'Curriculum Configuration'),\n                color: \"bg-indigo-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 591,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 560,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 25\n          }, this), _jsxDEV(\"div\", {\n            className: \"mt-8\",\n            children: [_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold text-gray-700 mb-3 px-1\",\n              children: \"Infrastructure & Facilities\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 603,\n              columnNumber: 29\n            }, this), _jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 md:grid-cols-5 gap-4\",\n              children: [_jsxDEV(QuickActionCard, {\n                label: \"Facility Register\",\n                icon: _jsxDEV(SchoolLogoIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 607,\n                  columnNumber: 43\n                }, this),\n                onClick: () => navigateTo('facilityRegister', 'Facility Register'),\n                color: \"bg-indigo-700\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 605,\n                columnNumber: 33\n              }, this), _jsxDEV(QuickActionCard, {\n                label: \"Asset Inventory\",\n                icon: _jsxDEV(ClipboardListIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 613,\n                  columnNumber: 43\n                }, this),\n                onClick: () => navigateTo('equipmentInventory', 'Equipment Inventory'),\n                color: \"bg-sky-700\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 611,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 604,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 602,\n            columnNumber: 25\n          }, this), _jsxDEV(\"div\", {\n            className: \"mt-8\",\n            children: [_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold text-gray-700 mb-3 px-1\",\n              children: \"\\uD83D\\uDEE1\\uFE0F Safety & Wellbeing\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 622,\n              columnNumber: 29\n            }, this), _jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4\",\n              children: [_jsxDEV(QuickActionCard, {\n                label: \"Emergency Alerts\",\n                icon: _jsxDEV(AlertTriangle, {\n                  className: \"animate-pulse\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 626,\n                  columnNumber: 43\n                }, this),\n                onClick: () => navigateTo('emergencyAlert', 'Emergency Alerts'),\n                color: \"bg-red-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 624,\n                columnNumber: 33\n              }, this), _jsxDEV(QuickActionCard, {\n                label: \"Health & Incidents\",\n                icon: _jsxDEV(Activity, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 632,\n                  columnNumber: 43\n                }, this),\n                onClick: () => navigateTo('safetyHealthLogs', 'Safety & Health'),\n                color: \"bg-emerald-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 630,\n                columnNumber: 33\n              }, this), _jsxDEV(QuickActionCard, {\n                label: \"Emergency Drills\",\n                icon: _jsxDEV(Flame, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 638,\n                  columnNumber: 43\n                }, this),\n                onClick: () => navigateTo('safetyHealthLogs', 'Safety & Health'),\n                color: \"bg-orange-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 33\n              }, this), _jsxDEV(QuickActionCard, {\n                label: \"Safeguarding\",\n                icon: _jsxDEV(ShieldCheck, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 644,\n                  columnNumber: 43\n                }, this),\n                onClick: () => navigateTo('safetyHealthLogs', 'Safety & Health'),\n                color: \"bg-indigo-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 642,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 623,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 621,\n            columnNumber: 25\n          }, this), _jsxDEV(\"div\", {\n            className: \"mt-8\",\n            children: [_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold text-gray-700 mb-3 px-1\",\n              children: \"\\uD83C\\uDFDB\\uFE0F Governance & Ministry\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 653,\n              columnNumber: 29\n            }, this), _jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4\",\n              children: [_jsxDEV(QuickActionCard, {\n                label: \"Quality Assurance\",\n                icon: _jsxDEV(Shield, {\n                  className: \"animate-pulse\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 657,\n                  columnNumber: 43\n                }, this),\n                onClick: () => navigateTo('inspectionHub', 'Inspection Hub'),\n                color: \"bg-slate-800\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 655,\n                columnNumber: 33\n              }, this), _jsxDEV(QuickActionCard, {\n                label: \"Ministry Reports\",\n                icon: _jsxDEV(FileText, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 663,\n                  columnNumber: 43\n                }, this),\n                onClick: () => navigateTo('inspectionHub', 'Inspection Hub'),\n                color: \"bg-slate-700\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 661,\n                columnNumber: 33\n              }, this), _jsxDEV(QuickActionCard, {\n                label: \"Live Compliance\",\n                icon: _jsxDEV(Activity, {\n                  className: \"text-emerald-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 669,\n                  columnNumber: 43\n                }, this),\n                onClick: () => navigateTo('complianceDashboard', 'Compliance Dashboard'),\n                color: \"bg-slate-900 shadow-xl shadow-slate-200\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 667,\n                columnNumber: 33\n              }, this), _jsxDEV(QuickActionCard, {\n                label: \"Governance Hub\",\n                icon: _jsxDEV(Shield, {\n                  className: \"text-yellow-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 675,\n                  columnNumber: 43\n                }, this),\n                onClick: () => navigateTo('governanceHub', 'Unified Governance'),\n                color: \"bg-black shadow-xl\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 673,\n                columnNumber: 33\n              }, this), _jsxDEV(QuickActionCard, {\n                label: \"System Validation\",\n                icon: _jsxDEV(Beaker, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 681,\n                  columnNumber: 43\n                }, this),\n                onClick: () => navigateTo('validationConsole', 'Validation Console'),\n                color: \"bg-indigo-900\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 679,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 654,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 652,\n            columnNumber: 25\n          }, this), _jsxDEV(\"div\", {\n            className: \"hidden lg:grid grid-cols-2 xl:grid-cols-3 gap-4 mt-8\",\n            children: [_jsxDEV(AddUserWidget, {\n              onClick: () => navigateTo('selectUserTypeToAdd', 'Add New User', {})\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 690,\n              columnNumber: 29\n            }, this), _jsxDEV(PublishReportsWidget, {\n              onClick: () => navigateTo('reportCardPublishing', 'Publish Reports', {}),\n              count: unpublishedReports\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 691,\n              columnNumber: 29\n            }, this), _jsxDEV(TimetableWidget, {\n              onClick: () => navigateTo('timetable', 'Timetable Management'),\n              schedule: timetablePreview\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 692,\n              columnNumber: 29\n            }, this), _jsxDEV(AnnounceWidget, {\n              onClick: () => navigateTo('communicationHub', 'Communication Hub')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 693,\n              columnNumber: 29\n            }, this), _jsxDEV(BusRosterWidget, {\n              onClick: () => navigateTo('busDutyRoster', 'Bus Duty Roster'),\n              assigned: busRosterAssigned,\n              total: busRosterTotal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 694,\n              columnNumber: 29\n            }, this), _jsxDEV(HealthLogWidget, {\n              onClick: () => navigateTo('healthLog', 'Health Log'),\n              latestLog: latestHealthLog\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 695,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 689,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 17\n      }, this), _jsxDEV(\"div\", {\n        className: \"lg:col-span-1 space-y-6\",\n        children: [_jsxDEV(\"div\", {\n          className: \"bg-white p-4 rounded-2xl shadow-sm\",\n          children: [_jsxDEV(\"h2\", {\n            className: \"text-lg font-bold text-gray-700 mb-3 px-1\",\n            children: \"School Health\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 704,\n            columnNumber: 25\n          }, this), _jsxDEV(\"div\", {\n            className: \"flex items-center justify-between p-3 bg-gray-50 rounded-xl\",\n            children: [_jsxDEV(\"div\", {\n              children: [_jsxDEV(\"p\", {\n                className: \"font-semibold text-gray-800\",\n                children: \"Today's Attendance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 707,\n                columnNumber: 33\n              }, this), _jsxDEV(\"p\", {\n                className: \"text-3xl font-bold text-indigo-600\",\n                children: attendancePercentage > 0 ? `${attendancePercentage}%` : '--%'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 708,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 706,\n              columnNumber: 29\n            }, this), _jsxDEV(DonutChart, {\n              percentage: attendancePercentage,\n              color: \"#4f46e5\",\n              size: 70,\n              strokeWidth: 8\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 710,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 705,\n            columnNumber: 25\n          }, this), _jsxDEV(\"div\", {\n            className: \"mt-4\",\n            children: [_jsxDEV(\"p\", {\n              className: \"font-semibold text-gray-800 px-1\",\n              children: \"Enrollment Trend\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 713,\n              columnNumber: 29\n            }, this), _jsxDEV(EnrollmentLineChart, {\n              data: enrollmentData,\n              color: \"#4f46e5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 714,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 712,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 703,\n          columnNumber: 21\n        }, this), _jsxDEV(\"div\", {\n          children: [_jsxDEV(\"h2\", {\n            className: \"text-lg font-bold text-gray-700 mb-3 px-1\",\n            children: \"Action Required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 719,\n            columnNumber: 25\n          }, this), _jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [unpublishedReports > 0 && _jsxDEV(AlertCard, {\n              label: \"Reports to Publish\",\n              value: unpublishedReports,\n              icon: _jsxDEV(ReportIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 722,\n                columnNumber: 104\n              }, this),\n              onClick: () => navigateTo('reportCardPublishing', 'Publish Reports'),\n              color: \"text-red-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 722,\n              columnNumber: 33\n            }, this), overdueFees > 0 && _jsxDEV(AlertCard, {\n              label: \"Overdue Fee Payments\",\n              value: overdueFees,\n              icon: _jsxDEV(ReceiptIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 725,\n                columnNumber: 99\n              }, this),\n              onClick: () => navigateTo('feeManagement', 'Fee Management'),\n              color: \"text-orange-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 725,\n              columnNumber: 33\n            }, this), unpublishedReports === 0 && overdueFees === 0 && _jsxDEV(\"div\", {\n              className: \"bg-white p-4 rounded-xl shadow-sm text-center text-gray-500\",\n              children: \"No urgent tasks. Well done!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 728,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 720,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 718,\n          columnNumber: 21\n        }, this), _jsxDEV(\"div\", {\n          children: [_jsxDEV(\"h2\", {\n            className: \"text-lg font-bold text-gray-700 mb-3 px-1\",\n            children: \"Recent Activity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 736,\n            columnNumber: 25\n          }, this), _jsxDEV(\"div\", {\n            className: \"bg-white p-4 rounded-2xl shadow-sm space-y-4\",\n            children: [recentActivities.map((log, index) => _jsxDEV(ActivityLogItem, {\n              log: log,\n              isLast: index === recentActivities.length - 1\n            }, log.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 738,\n              columnNumber: 67\n            }, this)), _jsxDEV(\"button\", {\n              onClick: () => navigateTo('auditLog', 'Audit Log'),\n              className: \"mt-2 text-sm w-full text-center font-semibold text-indigo-600 hover:text-indigo-800\",\n              children: \"View Full Log\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 739,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 737,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 735,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 702,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 521,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 520,\n    columnNumber: 9\n  }, this);\n};\nexport default DashboardOverview;","map":{"version":3,"names":["React","useState","useEffect","StudentsIcon","StaffIcon","ReportIcon","ReceiptIcon","HeartIcon","ChevronRightIcon","PlusIcon","MegaphoneIcon","LoginIcon","EditIcon","PublishIcon","DollarSignIcon","ClipboardListIcon","UsersIcon","BusVehicleIcon","TrashIcon","ArrowUpIcon","ArrowDownIcon","UserIcon","ClockIcon","SUBJECT_COLORS","DocumentTextIcon","HelpingHandIcon","ElearningIcon","SchoolLogoIcon","BookOpenIcon","DonutChart","supabase","isSupabaseConfigured","AlertTriangle","Activity","Flame","ShieldCheck","Shield","FileText","Rocket","Beaker","Calendar","TrendingUp","jsxDEV","_jsxDEV","StatCard","label","value","icon","colorClasses","onClick","trend","trendColor","className","children","cloneElement","fileName","_jsxFileName","lineNumber","columnNumber","startsWith","QuickActionCard","color","AlertCard","replace","EnrollmentLineChart","data","width","height","padding","maxCount","length","Math","ceil","max","map","d","count","minCount","floor","min","stepX","countRange","stepY","points","i","join","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","item","year","actionTypeIcons","login","logout","create","update","delete","publish","payment","formatDistanceToNow","isoDate","date","Date","now","seconds","round","getTime","minutes","hours","days","ActivityLogItem","log","isLast","type","user","name","action","timestamp","AddUserWidget","PublishReportsWidget","TimetableWidget","schedule","slice","index","start_time","subject","class_name","AnnounceWidget","BusRosterWidget","assigned","total","HealthLogWidget","latestLog","studentName","reason","time","DashboardOverview","navigateTo","handleBack","forceUpdate","totalStudents","setTotalStudents","totalStaff","setTotalStaff","totalParents","setTotalParents","isLoadingCounts","setIsLoadingCounts","overdueFees","setOverdueFees","recentActivities","setRecentActivities","busRosterAssigned","setBusRosterAssigned","busRosterTotal","setBusRosterTotal","latestHealthLog","setLatestHealthLog","enrollmentData","setEnrollmentData","unpublishedReports","setUnpublishedReports","timetablePreview","setTimetablePreview","attendancePercentage","setAttendancePercentage","isBroadcastOpen","setIsBroadcastOpen","fetchCounts","fetchDashboardData","fetchBusRosterLocal","channel","on","event","schema","payload","console","subscribe","loadBusRoster","window","addEventListener","busInterval","setInterval","removeChannel","removeEventListener","clearInterval","saved","localStorage","getItem","currentRoster","JSON","parse","e","error","today","toISOString","split","filter","r","driverId","studentCount","studentError","from","select","head","teacherCount","teacherError","adminCount","adminError","eq","parentCount","parentError","err","overdueCount","auditData","order","ascending","limit","transformed","id","user_name","avatarUrl","role","user_role","healthData","single","students","studentsData","yearCounts","forEach","s","created_at","getFullYear","trendData","Object","entries","parseInt","sort","a","b","unpublishedCount","attendanceData","presentCount","status","totalRecorded","todayName","toLocaleDateString","weekday","timetableData","percentage","size"],"sources":["C:/Users/USER/OneDrive/Desktop/Project/school-app-/components/admin/DashboardOverview.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n    StudentsIcon,\r\n    StaffIcon,\r\n    ReportIcon,\r\n    ReceiptIcon,\r\n    HeartIcon,\r\n    ChevronRightIcon,\r\n    PlusIcon,\r\n    MegaphoneIcon,\r\n    LoginIcon,\r\n    EditIcon,\r\n    PublishIcon,\r\n    DollarSignIcon,\r\n    ClipboardListIcon,\r\n    UsersIcon,\r\n    BusVehicleIcon,\r\n    TrashIcon,\r\n    ArrowUpIcon,\r\n    ArrowDownIcon,\r\n    TrendingUpIcon,\r\n    AttendanceSummaryIcon,\r\n    UserIcon,\r\n    CheckCircleIcon,\r\n    ClockIcon,\r\n    SUBJECT_COLORS,\r\n    XCircleIcon,\r\n    DocumentTextIcon,\r\n    HelpingHandIcon,\r\n    ElearningIcon,\r\n    SchoolLogoIcon,\r\n    BookOpenIcon,\r\n    SecurityIcon,\r\n    FileTextIcon,\r\n} from '../../constants';\r\n// Mock data removed\r\nimport { AuditLog } from '../../types';\r\nimport DonutChart from '../ui/DonutChart';\r\nimport { supabase, isSupabaseConfigured } from '../../lib/supabase';\r\nimport { EmergencyBroadcastModal } from './EmergencyBroadcastModal';\r\nimport { AlertTriangle, Activity, Flame, ShieldCheck, Shield, FileText, Rocket, Beaker, Calendar, TrendingUp } from 'lucide-react';\r\n\r\n\r\n// --- NEW, REFINED UI/UX COMPONENTS ---\r\n\r\nconst StatCard: React.FC<{\r\n    label: string;\r\n    value: string | number;\r\n    icon: React.ReactElement<{ className?: string }>;\r\n    colorClasses: string;\r\n    onClick: () => void;\r\n    trend: string;\r\n    trendColor: string;\r\n}> = ({ label, value, icon, colorClasses, onClick, trend, trendColor }) => (\r\n    <button onClick={onClick} className={`w-full text-left p-5 rounded-2xl text-white relative overflow-hidden transition-transform transform hover:-translate-y-1 ${colorClasses}`}>\r\n        {React.cloneElement(icon, { className: \"absolute -right-4 -bottom-4 h-24 w-24 text-white/10\" })}\r\n        <div className=\"relative z-10\">\r\n            <div className=\"flex justify-between items-start\">\r\n                <p className=\"text-white/90 font-medium\">{label}</p>\r\n                <div className=\"p-3 bg-white/20 rounded-xl\">\r\n                    {React.cloneElement(icon, { className: \"h-6 w-6\" })}\r\n                </div>\r\n            </div>\r\n            <p className=\"text-4xl font-bold mt-2\">{value}</p>\r\n            <div className={`mt-1 text-sm font-semibold flex items-center space-x-1 ${trendColor}`}>\r\n                {trend.startsWith('+') ? <ArrowUpIcon className=\"w-4 h-4\" /> : <ArrowDownIcon className=\"w-4 h-4\" />}\r\n                <span>{trend}</span>\r\n                <span className=\"text-white/70 font-normal text-xs\">vs last month</span>\r\n            </div>\r\n        </div>\r\n    </button>\r\n);\r\n\r\n\r\nconst QuickActionCard: React.FC<{ label: string; icon: React.ReactElement<{ className?: string }>; onClick: () => void; color: string; }> = ({ label, icon, onClick, color }) => (\r\n    <button onClick={onClick} className=\"bg-white p-3 rounded-xl shadow-sm flex flex-col items-center justify-center text-center hover:bg-gray-100 hover:ring-2 hover:ring-indigo-200 transition-all duration-200\">\r\n        <div className={`p-3 rounded-full ${color}`}>\r\n            {React.cloneElement(icon, { className: \"h-6 w-6 text-white\" })}\r\n        </div>\r\n        <p className=\"font-semibold text-gray-700 mt-2 text-xs\">{label}</p>\r\n    </button>\r\n);\r\n\r\n// Added Register Exams button locally since previous edit failed\r\nconst AlertCard: React.FC<{ label: string; value: string | number; icon: React.ReactElement<{ className?: string }>; onClick: () => void; color: string; }> = ({ label, value, icon, onClick, color }) => (\r\n    <button onClick={onClick} className={`w-full bg-white p-3 rounded-xl shadow-sm flex items-center space-x-3 text-left border-l-4 ${color.replace('text-', 'border-')} hover:bg-gray-50 transition-colors`}>\r\n        <div className={`${color.replace('text-', 'bg-').replace('-500', '-100')} p-2 rounded-lg`}>\r\n            {React.cloneElement(icon, { className: `h-5 w-5 ${color}` })}\r\n        </div>\r\n        <div>\r\n            <p className=\"font-bold text-gray-800\">{value} {label}</p>\r\n            <p className=\"text-xs text-gray-500\">Action required</p>\r\n        </div>\r\n        <ChevronRightIcon className=\"h-5 w-5 text-gray-400 ml-auto\" />\r\n    </button>\r\n);\r\n\r\nconst EnrollmentLineChart = ({ data, color }: { data: { year: number, count: number }[], color: string }) => {\r\n    const width = 300; const height = 100; const padding = 20;\r\n    const maxCount = data.length > 0 ? Math.ceil(Math.max(...data.map(d => d.count)) / 100) * 100 : 100;\r\n    const minCount = data.length > 0 ? Math.floor(Math.min(...data.map(d => d.count)) / 100) * 100 : 0;\r\n    const stepX = data.length > 1 ? (width - padding * 2) / (data.length - 1) : 0;\r\n    const countRange = maxCount - minCount;\r\n    const stepY = countRange > 0 ? (height - padding * 2) / countRange : 0;\r\n    const points = data.map((d, i) => `${padding + i * stepX},${height - padding - (d.count - minCount) * stepY}`).join(' ');\r\n    return (\r\n        <div className=\"relative mt-2\">\r\n            <svg viewBox={`0 0 ${width} ${height}`} className=\"w-full h-auto\">\r\n                <polyline fill=\"none\" stroke={color} strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" points={points} />\r\n            </svg>\r\n            <div className=\"flex justify-between px-4 -mt-6\">\r\n                {data.map(item => <span key={item.year} className=\"text-xs text-gray-500 font-medium\">{item.year}</span>)}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nconst actionTypeIcons: { [key in AuditLog['type']]: React.ReactNode } = {\r\n    login: <LoginIcon className=\"h-5 w-5 text-green-500\" />,\r\n    logout: <LoginIcon className=\"h-5 w-5 text-gray-500 transform scale-x-[-1]\" />,\r\n    create: <PlusIcon className=\"h-5 w-5 text-sky-500\" />,\r\n    update: <EditIcon className=\"h-5 w-5 text-amber-500\" />,\r\n    delete: <TrashIcon className=\"h-5 w-5 text-red-500\" />,\r\n    publish: <PublishIcon className=\"h-5 w-5 text-purple-500\" />,\r\n    payment: <DollarSignIcon className=\"h-5 w-5 text-indigo-500\" />,\r\n};\r\n\r\nconst formatDistanceToNow = (isoDate: string): string => {\r\n    const date = new Date(isoDate);\r\n    const now = new Date();\r\n    const seconds = Math.round((now.getTime() - date.getTime()) / 1000);\r\n    const minutes = Math.round(seconds / 60);\r\n    if (minutes < 60) return `${minutes}m ago`;\r\n    const hours = Math.round(minutes / 60);\r\n    if (hours < 24) return `${hours}h ago`;\r\n    const days = Math.round(hours / 24);\r\n    return `${days}d ago`;\r\n};\r\n\r\nconst ActivityLogItem: React.FC<{ log: AuditLog, isLast: boolean }> = ({ log, isLast }) => (\r\n    <div className=\"relative pl-12\">\r\n        <div className=\"absolute left-4 top-2 w-0.5 h-full bg-gray-200\"></div>\r\n        <div className=\"absolute left-0 top-0 w-8 h-8 rounded-full flex-shrink-0 flex items-center justify-center bg-gray-100 ring-4 ring-gray-50\">\r\n            {actionTypeIcons[log.type]}\r\n        </div>\r\n        <div className=\"text-sm\">\r\n            <p className=\"text-gray-800\">\r\n                <span className=\"font-semibold\">{log.user.name}</span> {log.action}\r\n            </p>\r\n            <p className=\"text-xs text-gray-400\">{formatDistanceToNow(log.timestamp)}</p>\r\n        </div>\r\n    </div>\r\n);\r\n\r\n\r\n// --- WIDGETS FOR LARGE SCREENS ---\r\nconst AddUserWidget = ({ onClick }: { onClick: () => void }) => (\r\n    <button onClick={onClick} className=\"bg-white p-4 rounded-xl shadow-sm text-left hover:bg-gray-50 transition-colors h-full flex flex-col\">\r\n        <div className=\"flex items-center space-x-3\">\r\n            <div className=\"p-2 bg-sky-100 rounded-lg\"><PlusIcon className=\"h-5 w-5 text-sky-600\" /></div>\r\n            <h4 className=\"font-bold text-gray-800\">Add New User</h4>\r\n        </div>\r\n        <div className=\"flex-grow flex items-center justify-center space-x-4 mt-2\">\r\n            <div className=\"text-center\"><div className=\"p-3 bg-gray-100 rounded-full\"><StudentsIcon className=\"text-gray-500\" /></div><p className=\"text-xs mt-1\">Student</p></div>\r\n            <div className=\"text-center\"><div className=\"p-3 bg-gray-100 rounded-full\"><StaffIcon className=\"text-gray-500\" /></div><p className=\"text-xs mt-1\">Teacher</p></div>\r\n            <div className=\"text-center\"><div className=\"p-3 bg-gray-100 rounded-full\"><UsersIcon className=\"text-gray-500\" /></div><p className=\"text-xs mt-1\">Parent</p></div>\r\n        </div>\r\n    </button>\r\n);\r\n\r\nconst PublishReportsWidget = ({ onClick, count }: { onClick: () => void; count: number }) => {\r\n    return (\r\n        <div className=\"bg-white p-4 rounded-xl shadow-sm flex flex-col h-full\">\r\n            <div className=\"flex items-center space-x-3\">\r\n                <div className=\"p-2 bg-purple-100 rounded-lg\"><ReportIcon className=\"h-5 w-5 text-purple-600\" /></div>\r\n                <h4 className=\"font-bold text-gray-800\">Publish Reports</h4>\r\n            </div>\r\n            <div className=\"flex-grow flex flex-col items-center justify-center text-center\">\r\n                <p className=\"text-5xl font-bold text-purple-600\">{count}</p>\r\n                <p className=\"text-sm text-gray-600\">reports are pending review</p>\r\n            </div>\r\n            <button onClick={onClick} className=\"w-full mt-2 py-2 bg-purple-600 text-white font-semibold rounded-lg hover:bg-purple-700\">View Reports</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst TimetableWidget = ({ onClick, schedule }: { onClick: () => void; schedule: any[] }) => {\r\n    return (\r\n        <div className=\"bg-white p-4 rounded-xl shadow-sm flex flex-col h-full\">\r\n            <div className=\"flex items-center space-x-3\">\r\n                <div className=\"p-2 bg-indigo-100 rounded-lg\"><ClipboardListIcon className=\"h-5 w-5 text-indigo-600\" /></div>\r\n                <h4 className=\"font-bold text-gray-800\">Today's Timetable</h4>\r\n            </div>\r\n            <div className=\"flex-grow space-y-2 mt-3 text-sm\">\r\n                {schedule.length > 0 ? schedule.slice(0, 3).map((item, index) => (\r\n                    <div key={index} className=\"flex items-center space-x-2\">\r\n                        <span className=\"font-semibold text-gray-500 w-16\">{item.start_time}</span>\r\n                        <span className={`px-2 py-1 rounded-md text-xs font-semibold ${SUBJECT_COLORS[item.subject] || 'bg-gray-100'}`}>\r\n                            {item.subject} <span className=\"text-gray-400 font-normal\">({item.class_name})</span>\r\n                        </span>\r\n                    </div>\r\n                )) : <p className=\"text-gray-500 text-center pt-8\">No classes scheduled for today.</p>}\r\n            </div>\r\n            <button onClick={onClick} className=\"w-full mt-2 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700\">Manage Timetable</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst AnnounceWidget = ({ onClick }: { onClick: () => void }) => (\r\n    <button onClick={onClick} className=\"bg-white p-4 rounded-xl shadow-sm text-left hover:bg-gray-50 transition-colors h-full flex flex-col\">\r\n        <div className=\"flex items-center space-x-3\">\r\n            <div className=\"p-2 bg-teal-100 rounded-lg\"><MegaphoneIcon className=\"h-5 w-5 text-teal-600\" /></div>\r\n            <h4 className=\"font-bold text-gray-800\">Send Announcement</h4>\r\n        </div>\r\n        <div className=\"flex-grow flex items-center justify-center\">\r\n            <div className=\"text-center\">\r\n                <MegaphoneIcon className=\"h-16 w-16 text-teal-200\" />\r\n                <p className=\"mt-2 text-sm text-gray-600\">Reach parents, teachers, and students instantly.</p>\r\n            </div>\r\n        </div>\r\n    </button>\r\n);\r\n\r\n\r\nconst BusRosterWidget = ({ onClick, assigned, total }: { onClick: () => void; assigned: number; total: number }) => {\r\n    return (\r\n        <div className=\"bg-white p-4 rounded-xl shadow-sm flex flex-col h-full\">\r\n            <div className=\"flex items-center space-x-3\">\r\n                <div className=\"p-2 bg-orange-100 rounded-lg\"><BusVehicleIcon className=\"h-5 w-5 text-orange-600\" /></div>\r\n                <h4 className=\"font-bold text-gray-800\">Bus Roster</h4>\r\n            </div>\r\n            <div className=\"flex-grow flex flex-col items-center justify-center text-center\">\r\n                <p className=\"text-5xl font-bold text-orange-600\">{assigned}/{total}</p>\r\n                <p className=\"text-sm text-gray-600\">routes assigned for today</p>\r\n            </div>\r\n            <button onClick={onClick} className=\"w-full mt-2 py-2 bg-orange-500 text-white font-semibold rounded-lg hover:bg-orange-600\">View Roster</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst HealthLogWidget = ({ onClick, latestLog }: { onClick: () => void; latestLog: any }) => {\r\n    return (\r\n        <div className=\"bg-white p-4 rounded-xl shadow-sm flex flex-col h-full\">\r\n            <div className=\"flex items-center space-x-3\">\r\n                <div className=\"p-2 bg-red-100 rounded-lg\"><HeartIcon className=\"h-5 w-5 text-red-600\" /></div>\r\n                <h4 className=\"font-bold text-gray-800\">Recent Health Log</h4>\r\n            </div>\r\n            <div className=\"flex-grow space-y-2 mt-3 text-sm\">\r\n                {latestLog ? (\r\n                    <div className=\"bg-gray-50 p-2 rounded-lg\">\r\n                        <p className=\"font-bold text-gray-800\">{latestLog.studentName}</p>\r\n                        <p className=\"text-gray-600\">{latestLog.reason} - {latestLog.time}</p>\r\n                    </div>\r\n                ) : (\r\n                    <p className=\"text-gray-500 text-center\">No recent health logs</p>\r\n                )}\r\n            </div>\r\n            <button onClick={onClick} className=\"w-full mt-2 py-2 bg-red-500 text-white font-semibold rounded-lg hover:bg-red-600\">View Full Log</button>\r\n        </div>\r\n    );\r\n};\r\n\r\n// --- MAIN DASHBOARD COMPONENT ---\r\n\r\ninterface DashboardOverviewProps {\r\n    navigateTo: (view: string, title: string, props?: any) => void;\r\n    handleBack: () => void;\r\n    forceUpdate: () => void;\r\n}\r\n\r\nconst DashboardOverview: React.FC<DashboardOverviewProps> = ({ navigateTo, handleBack, forceUpdate }) => {\r\n\r\n    const [totalStudents, setTotalStudents] = useState(0);\r\n    const [totalStaff, setTotalStaff] = useState(0);\r\n    const [totalParents, setTotalParents] = useState(0);\r\n    const [isLoadingCounts, setIsLoadingCounts] = useState(true);\r\n\r\n    // Additional dashboard data\r\n    const [overdueFees, setOverdueFees] = useState(0);\r\n    const [recentActivities, setRecentActivities] = useState<AuditLog[]>([]);\r\n    const [busRosterAssigned, setBusRosterAssigned] = useState(0);\r\n    const [busRosterTotal, setBusRosterTotal] = useState(0);\r\n    const [latestHealthLog, setLatestHealthLog] = useState<any>(null);\r\n    const [enrollmentData, setEnrollmentData] = useState<{ year: number; count: number }[]>([]);\r\n\r\n    const [unpublishedReports, setUnpublishedReports] = useState(0);\r\n\r\n    const [timetablePreview, setTimetablePreview] = useState<any[]>([]);\r\n    const [attendancePercentage, setAttendancePercentage] = useState(0);\r\n\r\n    const [isBroadcastOpen, setIsBroadcastOpen] = useState(false);\r\n\r\n    // Fetch real counts from Supabase\r\n    useEffect(() => {\r\n        fetchCounts();\r\n        fetchDashboardData();\r\n        fetchBusRosterLocal(); // Initial load for bus roster\r\n\r\n        // 1. SUPABASE REALTIME SUBSCRIPTION (Global Refresh)\r\n        const channel = supabase.channel('dashboard-global-changes')\r\n            .on(\r\n                'postgres_changes',\r\n                { event: '*', schema: 'public' },\r\n                (payload) => {\r\n                    console.log('Real-time change detected:', payload);\r\n                    // Re-fetch data instantly\r\n                    fetchCounts();\r\n                    fetchDashboardData();\r\n                }\r\n            )\r\n            .subscribe();\r\n\r\n        // 2. LOCAL STORAGE LISTENER (For Bus Roster Sync)\r\n        const loadBusRoster = () => fetchBusRosterLocal();\r\n        window.addEventListener('storage', loadBusRoster);\r\n\r\n        // 3. BUS ROSTER POLLING (Fail-safe for same-tab updates if storage event doesn't fire)\r\n        const busInterval = setInterval(loadBusRoster, 2000);\r\n\r\n        return () => {\r\n            supabase.removeChannel(channel);\r\n            window.removeEventListener('storage', loadBusRoster);\r\n            clearInterval(busInterval);\r\n        };\r\n    }, []);\r\n\r\n    const fetchBusRosterLocal = () => {\r\n        // Sync with LocalStorage (managed by Admin Page)\r\n        const saved = localStorage.getItem('schoolApp_busRoster');\r\n        let currentRoster = [];\r\n        if (saved) {\r\n            try { currentRoster = JSON.parse(saved); } catch (e) { console.error(e); }\r\n        }\r\n\r\n        const today = new Date().toISOString().split('T')[0];\r\n        const assigned = currentRoster.filter((r: any) => r.date === today && r.driverId).length;\r\n        // Total routes - can fetch from DB later, for now assuming 4 or 0\r\n        setBusRosterAssigned(assigned);\r\n        setBusRosterTotal(4); // Default to 4 routes\r\n    };\r\n\r\n    const fetchCounts = async () => {\r\n        setIsLoadingCounts(true);\r\n\r\n        if (!isSupabaseConfigured) {\r\n            setTotalStudents(0);\r\n            setTotalStaff(0);\r\n            setTotalParents(0);\r\n            setIsLoadingCounts(false);\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // Fetch student count (FROM STUDENTS TABLE)\r\n            const { count: studentCount, error: studentError } = await supabase\r\n                .from('students')\r\n                .select('*', { count: 'exact', head: true });\r\n\r\n            if (!studentError) setTotalStudents(studentCount || 0);\r\n\r\n            // Fetch staff count (TEACHERS TABLE + Admins from USERS)\r\n            // 1. Teachers\r\n            const { count: teacherCount, error: teacherError } = await supabase\r\n                .from('teachers')\r\n                .select('*', { count: 'exact', head: true });\r\n\r\n            // 2. Admins (from users)\r\n            const { count: adminCount, error: adminError } = await supabase\r\n                .from('users')\r\n                .select('*', { count: 'exact', head: true })\r\n                .eq('role', 'Admin');\r\n\r\n            if (!teacherError) setTotalStaff((teacherCount || 0) + (adminCount || 0));\r\n\r\n            // Fetch parent count (FROM PARENTS TABLE)\r\n            const { count: parentCount, error: parentError } = await supabase\r\n                .from('parents')\r\n                .select('*', { count: 'exact', head: true });\r\n\r\n            if (!parentError) setTotalParents(parentCount || 0);\r\n\r\n        } catch (err) {\r\n            console.error('Error fetching counts:', err);\r\n        } finally {\r\n            setIsLoadingCounts(false);\r\n        }\r\n    };\r\n\r\n    const fetchDashboardData = async () => {\r\n        if (!isSupabaseConfigured) {\r\n            // Mock Data Fallbacks\r\n            setOverdueFees(0);\r\n            setUnpublishedReports(0);\r\n            setAttendancePercentage(0);\r\n            // Could populate more mocks here if needed, but 0 is fine for \"Clean Slate\"\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // Fetch overdue fees count\r\n            const { count: overdueCount } = await supabase\r\n                .from('student_fees')\r\n                .select('*', { count: 'exact', head: true })\r\n                .eq('status', 'Overdue');\r\n            setOverdueFees(overdueCount || 0);\r\n\r\n            // Fetch recent audit logs\r\n            const { data: auditData } = await supabase\r\n                .from('audit_logs')\r\n                .select('*')\r\n                .order('timestamp', { ascending: false })\r\n                .limit(4);\r\n\r\n            if (auditData) {\r\n                const transformed = auditData.map((log: any) => ({\r\n                    id: log.id,\r\n                    user: {\r\n                        name: log.user_name || 'System',\r\n                        avatarUrl: 'https://i.pravatar.cc/150',\r\n                        role: log.user_role as any || 'Admin'\r\n                    },\r\n                    action: log.action,\r\n                    timestamp: log.timestamp,\r\n                    type: log.type as any\r\n                }));\r\n                setRecentActivities(transformed);\r\n            }\r\n\r\n            // Fetch bus roster stats - DEPRECATED: Switched to LocalStorage syc\r\n            // const today = new Date().toISOString().split('T')[0];\r\n            // const { count: assignedCount } = await supabase...\r\n\r\n            // Fetch latest health log\r\n            const { data: healthData } = await supabase\r\n                .from('health_logs')\r\n                .select(`\r\n                    *,\r\n                    students(name)\r\n                `)\r\n                .order('date', { ascending: false })\r\n                .order('id', { ascending: false })\r\n                .limit(1)\r\n                .single();\r\n\r\n            if (healthData) {\r\n                setLatestHealthLog({\r\n                    studentName: healthData.students?.name || 'Unknown',\r\n                    reason: healthData.reason,\r\n                    time: healthData.time,\r\n                    date: healthData.date\r\n                });\r\n            }\r\n\r\n            // Calculate enrollment trend from student created_at dates\r\n            const { data: studentsData } = await supabase\r\n                .from('students')\r\n                .select('created_at');\r\n\r\n            if (studentsData) {\r\n                // Group by year and count\r\n                const yearCounts: { [year: number]: number } = {};\r\n                studentsData.forEach((s: any) => {\r\n                    const year = new Date(s.created_at).getFullYear();\r\n                    yearCounts[year] = (yearCounts[year] || 0) + 1;\r\n                });\r\n\r\n                // Convert to array format for chart\r\n                const trendData = Object.entries(yearCounts)\r\n                    .map(([year, count]) => ({ year: parseInt(year), count }))\r\n                    .sort((a, b) => a.year - b.year)\r\n                    .slice(-5); // Last 5 years\r\n\r\n                setEnrollmentData(trendData.length > 0 ? trendData : [{ year: new Date().getFullYear(), count: totalStudents }]);\r\n            }\r\n\r\n            // Fetch unpublished reports count\r\n            const { count: unpublishedCount } = await supabase\r\n                .from('report_cards')\r\n                .select('*', { count: 'exact', head: true })\r\n                .eq('status', 'Submitted');\r\n\r\n            setUnpublishedReports(unpublishedCount || 0);\r\n\r\n            // Fetch today's attendance stats\r\n            const { data: attendanceData } = await supabase\r\n                .from('student_attendance')\r\n                .select('status')\r\n                .eq('date', new Date().toISOString().split('T')[0]);\r\n\r\n            if (attendanceData && attendanceData.length > 0) {\r\n                const presentCount = attendanceData.filter(a => a.status === 'Present').length;\r\n                const totalRecorded = attendanceData.length;\r\n                setAttendancePercentage(Math.round((presentCount / totalRecorded) * 100));\r\n            } else {\r\n                // If no data for today, maybe fallback to average or 0? \r\n                // For now, let's keep it 0 or null to indicate \"Not recorded\".\r\n                // But to wow the user, if 0, we might want to show \"--\"\r\n                setAttendancePercentage(0);\r\n            }\r\n\r\n            // Fetch today's timetable\r\n            const todayName = new Date().toLocaleDateString('en-US', { weekday: 'long' });\r\n            const { data: timetableData } = await supabase\r\n                .from('timetable')\r\n                .select('*')\r\n                .eq('day', todayName)\r\n                .order('start_time', { ascending: true })\r\n                .limit(5);\r\n\r\n            setTimetablePreview(timetableData || []);\r\n        } catch (err) {\r\n            console.error('Error fetching dashboard data:', err);\r\n        }\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"p-4 lg:p-6 bg-gray-50 min-h-full\">\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n                {/* Main Content Column */}\r\n                <div className=\"lg:col-span-2 space-y-6\">\r\n                    <div className=\"bg-gradient-to-br from-indigo-700 to-indigo-900 p-6 rounded-3xl\">\r\n                        <h1 className=\"text-3xl font-bold text-white\">Welcome, Admin!</h1>\r\n                        <p className=\"text-indigo-200\">Here's your school's command center.</p>\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6\">\r\n                            <StatCard label=\"Total Students\" value={totalStudents} icon={<StudentsIcon />} colorClasses=\"bg-gradient-to-br from-sky-400 to-sky-600\" onClick={() => navigateTo('studentList', 'Manage Students', {})} trend=\"+12\" trendColor=\"text-sky-200\" />\r\n                            <StatCard label=\"Total Staff\" value={totalStaff} icon={<StaffIcon />} colorClasses=\"bg-gradient-to-br from-purple-400 to-purple-600\" onClick={() => navigateTo('teacherList', 'Manage Teachers', {})} trend=\"+2\" trendColor=\"text-purple-200\" />\r\n                            <StatCard label=\"Total Parents\" value={totalParents} icon={<UsersIcon />} colorClasses=\"bg-gradient-to-br from-orange-400 to-orange-600\" onClick={() => navigateTo('parentList', 'Manage Parents', {})} trend=\"+8\" trendColor=\"text-orange-200\" />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <h2 className=\"text-xl font-bold text-gray-700 mb-3 px-1\">Quick Actions</h2>\r\n                        {/* Mobile/Tablet view */}\r\n                        <div className=\"grid grid-cols-3 md:grid-cols-6 lg:grid-cols-8 gap-3\">\r\n                            <QuickActionCard label=\"Add User\" icon={<PlusIcon />} onClick={() => navigateTo('selectUserTypeToAdd', 'Add New User', {})} color=\"bg-sky-500\" />\r\n                            <QuickActionCard label=\"Onboarding\" icon={<SchoolLogoIcon />} onClick={() => navigateTo('manageSchoolInfo', 'School Onboarding')} color=\"bg-pink-600\" />\r\n                            <QuickActionCard label=\"Enroll Student\" icon={<UserIcon />} onClick={() => navigateTo('enhancedEnrollment', 'New Student Enrollment')} color=\"bg-emerald-600\" />\r\n                            <QuickActionCard label=\"Register Exams\" icon={<DocumentTextIcon />} onClick={() => navigateTo('exams', 'External Exams')} color=\"bg-indigo-600\" />\r\n                            <QuickActionCard label=\"Publish Reports\" icon={<ReportIcon />} onClick={() => navigateTo('reportCardPublishing', 'Publish Reports', {})} color=\"bg-purple-500\" />\r\n                            <QuickActionCard label=\"Timetable\" icon={<ClipboardListIcon />} onClick={() => navigateTo('timetable', 'AI Timetable')} color=\"bg-indigo-500\" />\r\n                            <QuickActionCard label=\"Announce\" icon={<MegaphoneIcon />} onClick={() => navigateTo('communicationHub', 'Communication Hub')} color=\"bg-teal-500\" />\r\n                            <QuickActionCard label=\"Bus Roster\" icon={<BusVehicleIcon />} onClick={() => navigateTo('busDutyRoster', 'Bus Duty Roster')} color=\"bg-orange-500\" />\r\n                            <QuickActionCard label=\"Health Log\" icon={<HeartIcon />} onClick={() => navigateTo('healthLog', 'Health Log')} color=\"bg-red-500\" />\r\n                            <QuickActionCard label=\"Attendance\" icon={<ClockIcon />} onClick={() => navigateTo('teacherAttendance', 'Teacher Attendance')} color=\"bg-amber-500\" />\r\n                            <QuickActionCard label=\"User Accounts\" icon={<UsersIcon />} onClick={() => navigateTo('userAccounts', 'User Accounts')} color=\"bg-indigo-600\" />\r\n                            <QuickActionCard label=\"Compliance\" icon={<Shield />} onClick={() => navigateTo('complianceOnboarding', 'School Compliance')} color=\"bg-violet-600\" />\r\n                            <QuickActionCard label=\"Track Attendance\" icon={<Calendar />} onClick={() => navigateTo('attendanceTracker', 'Curriculum Attendance')} color=\"bg-green-600\" />\r\n                            <QuickActionCard label=\"Enter Results\" icon={<TrendingUp />} onClick={() => navigateTo('resultsEntry', 'Results Entry')} color=\"bg-cyan-600\" />\r\n                            <QuickActionCard label=\"Launch Hub\" icon={<Rocket className=\"animate-bounce\" />} onClick={() => navigateTo('onboardingWizard', 'Pilot Onboarding')} color=\"bg-gray-900\" />\r\n                            <QuickActionCard label=\"Emergency\" icon={<AlertTriangle />} onClick={() => setIsBroadcastOpen(true)} color=\"bg-red-600 animate-pulse\" />\r\n                        </div>\r\n\r\n\r\n                        {/* Content Management Section */}\r\n                        <div className=\"mt-8\">\r\n                            <h2 className=\"text-xl font-bold text-gray-700 mb-3 px-1\">Content Management</h2>\r\n                            <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4\">\r\n                                <QuickActionCard\r\n                                    label=\"School Policies\"\r\n                                    icon={<DocumentTextIcon />}\r\n                                    onClick={() => navigateTo('managePolicies', 'Manage Policies')}\r\n                                    color=\"bg-pink-500\"\r\n                                />\r\n                                <QuickActionCard\r\n                                    label=\"Volunteering\"\r\n                                    icon={<HelpingHandIcon />}\r\n                                    onClick={() => navigateTo('manageVolunteering', 'Manage Volunteering')}\r\n                                    color=\"bg-emerald-500\"\r\n                                />\r\n                                <QuickActionCard\r\n                                    label=\"Permission Slips\"\r\n                                    icon={<ClipboardListIcon />}\r\n                                    onClick={() => navigateTo('managePermissionSlips', 'Manage Permission Slips')}\r\n                                    color=\"bg-cyan-500\"\r\n                                />\r\n                                <QuickActionCard\r\n                                    label=\"Learning Resources\"\r\n                                    icon={<ElearningIcon />}\r\n                                    onClick={() => navigateTo('manageLearningResources', 'Manage Learning Resources')}\r\n                                    color=\"bg-blue-500\"\r\n                                />\r\n                                <QuickActionCard\r\n                                    label=\"PTA Meetings\"\r\n                                    icon={<UsersIcon />}\r\n                                    onClick={() => navigateTo('managePTAMeetings', 'Manage PTA Meetings')}\r\n                                    color=\"bg-purple-500\"\r\n                                />\r\n                                <QuickActionCard\r\n                                    label=\"Curriculum\"\r\n                                    icon={<BookOpenIcon />}\r\n                                    onClick={() => navigateTo('manageCurriculum', 'Curriculum Configuration')}\r\n                                    color=\"bg-indigo-600\"\r\n                                />\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Infrastructure & Facilities Section - STEP 11 */}\r\n                        <div className=\"mt-8\">\r\n                            <h2 className=\"text-xl font-bold text-gray-700 mb-3 px-1\">Infrastructure & Facilities</h2>\r\n                            <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4\">\r\n                                <QuickActionCard\r\n                                    label=\"Facility Register\"\r\n                                    icon={<SchoolLogoIcon />}\r\n                                    onClick={() => navigateTo('facilityRegister', 'Facility Register')}\r\n                                    color=\"bg-indigo-700\"\r\n                                />\r\n                                <QuickActionCard\r\n                                    label=\"Asset Inventory\"\r\n                                    icon={<ClipboardListIcon />}\r\n                                    onClick={() => navigateTo('equipmentInventory', 'Equipment Inventory')}\r\n                                    color=\"bg-sky-700\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Phase 8: Step 12 Safety & Wellbeing Section */}\r\n                        <div className=\"mt-8\">\r\n                            <h2 className=\"text-xl font-bold text-gray-700 mb-3 px-1\"> Safety & Wellbeing</h2>\r\n                            <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4\">\r\n                                <QuickActionCard\r\n                                    label=\"Emergency Alerts\"\r\n                                    icon={<AlertTriangle className=\"animate-pulse\" />}\r\n                                    onClick={() => navigateTo('emergencyAlert', 'Emergency Alerts')}\r\n                                    color=\"bg-red-600\"\r\n                                />\r\n                                <QuickActionCard\r\n                                    label=\"Health & Incidents\"\r\n                                    icon={<Activity />}\r\n                                    onClick={() => navigateTo('safetyHealthLogs', 'Safety & Health')}\r\n                                    color=\"bg-emerald-600\"\r\n                                />\r\n                                <QuickActionCard\r\n                                    label=\"Emergency Drills\"\r\n                                    icon={<Flame />}\r\n                                    onClick={() => navigateTo('safetyHealthLogs', 'Safety & Health')}\r\n                                    color=\"bg-orange-600\"\r\n                                />\r\n                                <QuickActionCard\r\n                                    label=\"Safeguarding\"\r\n                                    icon={<ShieldCheck />}\r\n                                    onClick={() => navigateTo('safetyHealthLogs', 'Safety & Health')}\r\n                                    color=\"bg-indigo-600\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Phase 9: Step 13 Governance & Ministry Section */}\r\n                        <div className=\"mt-8\">\r\n                            <h2 className=\"text-xl font-bold text-gray-700 mb-3 px-1\"> Governance & Ministry</h2>\r\n                            <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4\">\r\n                                <QuickActionCard\r\n                                    label=\"Quality Assurance\"\r\n                                    icon={<Shield className=\"animate-pulse\" />}\r\n                                    onClick={() => navigateTo('inspectionHub', 'Inspection Hub')}\r\n                                    color=\"bg-slate-800\"\r\n                                />\r\n                                <QuickActionCard\r\n                                    label=\"Ministry Reports\"\r\n                                    icon={<FileText />}\r\n                                    onClick={() => navigateTo('inspectionHub', 'Inspection Hub')}\r\n                                    color=\"bg-slate-700\"\r\n                                />\r\n                                <QuickActionCard\r\n                                    label=\"Live Compliance\"\r\n                                    icon={<Activity className=\"text-emerald-400\" />}\r\n                                    onClick={() => navigateTo('complianceDashboard', 'Compliance Dashboard')}\r\n                                    color=\"bg-slate-900 shadow-xl shadow-slate-200\"\r\n                                />\r\n                                <QuickActionCard\r\n                                    label=\"Governance Hub\"\r\n                                    icon={<Shield className=\"text-yellow-400\" />}\r\n                                    onClick={() => navigateTo('governanceHub', 'Unified Governance')}\r\n                                    color=\"bg-black shadow-xl\"\r\n                                />\r\n                                <QuickActionCard\r\n                                    label=\"System Validation\"\r\n                                    icon={<Beaker />}\r\n                                    onClick={() => navigateTo('validationConsole', 'Validation Console')}\r\n                                    color=\"bg-indigo-900\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Desktop view */}\r\n                        <div className=\"hidden lg:grid grid-cols-2 xl:grid-cols-3 gap-4 mt-8\">\r\n                            <AddUserWidget onClick={() => navigateTo('selectUserTypeToAdd', 'Add New User', {})} />\r\n                            <PublishReportsWidget onClick={() => navigateTo('reportCardPublishing', 'Publish Reports', {})} count={unpublishedReports} />\r\n                            <TimetableWidget onClick={() => navigateTo('timetable', 'Timetable Management')} schedule={timetablePreview} />\r\n                            <AnnounceWidget onClick={() => navigateTo('communicationHub', 'Communication Hub')} />\r\n                            <BusRosterWidget onClick={() => navigateTo('busDutyRoster', 'Bus Duty Roster')} assigned={busRosterAssigned} total={busRosterTotal} />\r\n                            <HealthLogWidget onClick={() => navigateTo('healthLog', 'Health Log')} latestLog={latestHealthLog} />\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                {/* Sidebar Column */}\r\n                <div className=\"lg:col-span-1 space-y-6\">\r\n                    <div className=\"bg-white p-4 rounded-2xl shadow-sm\">\r\n                        <h2 className=\"text-lg font-bold text-gray-700 mb-3 px-1\">School Health</h2>\r\n                        <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-xl\">\r\n                            <div>\r\n                                <p className=\"font-semibold text-gray-800\">Today's Attendance</p>\r\n                                <p className=\"text-3xl font-bold text-indigo-600\">{attendancePercentage > 0 ? `${attendancePercentage}%` : '--%'}</p>\r\n                            </div>\r\n                            <DonutChart percentage={attendancePercentage} color=\"#4f46e5\" size={70} strokeWidth={8} />\r\n                        </div>\r\n                        <div className=\"mt-4\">\r\n                            <p className=\"font-semibold text-gray-800 px-1\">Enrollment Trend</p>\r\n                            <EnrollmentLineChart data={enrollmentData} color=\"#4f46e5\" />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <h2 className=\"text-lg font-bold text-gray-700 mb-3 px-1\">Action Required</h2>\r\n                        <div className=\"space-y-3\">\r\n                            {unpublishedReports > 0 && (\r\n                                <AlertCard label=\"Reports to Publish\" value={unpublishedReports} icon={<ReportIcon />} onClick={() => navigateTo('reportCardPublishing', 'Publish Reports')} color=\"text-red-500\" />\r\n                            )}\r\n                            {overdueFees > 0 && (\r\n                                <AlertCard label=\"Overdue Fee Payments\" value={overdueFees} icon={<ReceiptIcon />} onClick={() => navigateTo('feeManagement', 'Fee Management')} color=\"text-orange-500\" />\r\n                            )}\r\n                            {unpublishedReports === 0 && overdueFees === 0 && (\r\n                                <div className=\"bg-white p-4 rounded-xl shadow-sm text-center text-gray-500\">\r\n                                    No urgent tasks. Well done!\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <h2 className=\"text-lg font-bold text-gray-700 mb-3 px-1\">Recent Activity</h2>\r\n                        <div className=\"bg-white p-4 rounded-2xl shadow-sm space-y-4\">\r\n                            {recentActivities.map((log, index) => <ActivityLogItem key={log.id} log={log} isLast={index === recentActivities.length - 1} />)}\r\n                            <button onClick={() => navigateTo('auditLog', 'Audit Log')} className=\"mt-2 text-sm w-full text-center font-semibold text-indigo-600 hover:text-indigo-800\">\r\n                                View Full Log\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default DashboardOverview;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}