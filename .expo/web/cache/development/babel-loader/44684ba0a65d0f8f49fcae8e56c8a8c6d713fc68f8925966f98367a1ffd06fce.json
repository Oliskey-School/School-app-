{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\OneDrive\\\\Desktop\\\\Project\\\\school-app-\\\\components\\\\teacher\\\\AIPerformanceSummaryScreen.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport { getAIClient, SchemaType as Type } from '../../lib/ai';\nimport ReactMarkdown from 'react-markdown';\nimport remarkGfm from 'remark-gfm';\nimport { AIIcon, CheckCircleIcon, TrendingUpIcon, UserGroupIcon } from '../../constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AIPerformanceSummaryScreen = ({\n  students\n}) => {\n  const [summary, setSummary] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const generateSummary = async () => {\n      if (students.length === 0) {\n        setError(\"No student data available to generate a summary.\");\n        setIsLoading(false);\n        return;\n      }\n      setIsLoading(true);\n      try {\n        const ai = getAIClient(import.meta.env.VITE_GEMINI_API_KEY || '');\n        const studentDataForPrompt = students.map(s => {\n          const latestGrades = s.academicPerformance?.slice(-3).map(p => `${p.subject}: ${p.score}%`).join(', ') || 'N/A';\n          const behavior = s.behaviorNotes?.map(n => `${n.type}: ${n.title}`).join(', ') || 'No notes';\n          return `- ${s.name}: Grades=[${latestGrades}], Behavior=[${behavior}]`;\n        }).join('\\n');\n        const prompt = `\n                    Analyze the following student data for a class and provide a concise summary for the teacher.\n                    \n                    Class Data:\n                    ${studentDataForPrompt}\n\n                    The summary should help the teacher quickly understand class dynamics. Identify top-performing students and students who might need extra support, providing a brief reason for each.\n                `;\n        const response = await ai.models.generateContent({\n          model: 'gemini-2.0-flash',\n          contents: prompt,\n          config: {\n            responseMimeType: \"application/json\",\n            responseSchema: {\n              type: Type.OBJECT,\n              properties: {\n                overallSummary: {\n                  type: Type.STRING,\n                  description: \"A brief, 2-3 sentence summary of the class's overall performance and atmosphere.\"\n                },\n                topPerformers: {\n                  type: Type.ARRAY,\n                  items: {\n                    type: Type.OBJECT,\n                    properties: {\n                      name: {\n                        type: Type.STRING\n                      },\n                      reason: {\n                        type: Type.STRING,\n                        description: \"A short, specific reason why this student is a top performer.\"\n                      }\n                    },\n                    required: [\"name\", \"reason\"]\n                  },\n                  description: \"A list of 2-3 students who are excelling academically or behaviorally.\"\n                },\n                studentsNeedingSupport: {\n                  type: Type.ARRAY,\n                  items: {\n                    type: Type.OBJECT,\n                    properties: {\n                      name: {\n                        type: Type.STRING\n                      },\n                      reason: {\n                        type: Type.STRING,\n                        description: \"A short, specific reason why this student might need support.\"\n                      }\n                    },\n                    required: [\"name\", \"reason\"]\n                  },\n                  description: \"A list of 2-3 students who might need extra attention, either academically or behaviorally.\"\n                }\n              },\n              required: [\"overallSummary\", \"topPerformers\", \"studentsNeedingSupport\"]\n            }\n          }\n        });\n        const rawText = response.text ? response.text.trim() : '';\n        if (!rawText || rawText.startsWith('Error') || rawText.startsWith(\"I'm sorry\")) {\n          throw new Error(rawText || \"AI returned an error message.\");\n        }\n        const sanitizedText = rawText.replace(/^```json/i, '').replace(/^```/, '').replace(/```$/, '').trim();\n        let jsonResponse;\n        try {\n          jsonResponse = JSON.parse(sanitizedText);\n        } catch (e) {\n          console.error(\"Performance Summary JSON Parse Error\", rawText);\n          throw new Error(\"AI generated an invalid format.\");\n        }\n        setSummary(jsonResponse);\n      } catch (err) {\n        console.error(\"Error generating AI summary:\", err);\n        setError(\"Sorry, we couldn't generate the summary. Please try again later.\");\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    generateSummary();\n  }, [students]);\n  if (isLoading) {\n    return _jsxDEV(\"div\", {\n      className: \"p-6 flex flex-col items-center justify-center h-full text-center bg-gray-100\",\n      children: [_jsxDEV(AIIcon, {\n        className: \"w-12 h-12 text-purple-400 animate-pulse mb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this), _jsxDEV(\"h2\", {\n        className: \"text-xl font-bold text-gray-700\",\n        children: \"Analyzing Class Performance...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this), _jsxDEV(\"p\", {\n        className: \"text-gray-500 mt-2\",\n        children: \"The AI is crunching the numbers to provide you with actionable insights.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }, this);\n  }\n  if (error) {\n    return _jsxDEV(\"div\", {\n      className: \"p-6 text-center bg-gray-100 h-full\",\n      children: [_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold text-red-600\",\n        children: \"Error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this), _jsxDEV(\"p\", {\n        className: \"text-gray-600 mt-2\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }, this);\n  }\n  return _jsxDEV(\"div\", {\n    className: \"p-4 bg-gray-100\",\n    children: summary && _jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-4\",\n      children: [_jsxDEV(\"div\", {\n        className: \"lg:col-span-2 bg-white rounded-xl shadow-sm p-4\",\n        children: [_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3 mb-3\",\n          children: [_jsxDEV(UserGroupIcon, {\n            className: \"h-6 w-6 text-purple-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 29\n          }, this), _jsxDEV(\"h4\", {\n            className: \"font-bold text-lg text-gray-800\",\n            children: \"Overall Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 25\n        }, this), _jsxDEV(\"div\", {\n          className: \"prose prose-sm max-w-none text-gray-700\",\n          children: _jsxDEV(ReactMarkdown, {\n            remarkPlugins: [remarkGfm],\n            children: summary.overallSummary\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 21\n      }, this), _jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-sm p-4\",\n        children: [_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3 mb-3\",\n          children: [_jsxDEV(CheckCircleIcon, {\n            className: \"h-6 w-6 text-green-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 29\n          }, this), _jsxDEV(\"h4\", {\n            className: \"font-bold text-lg text-gray-800\",\n            children: \"Top Performers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 25\n        }, this), _jsxDEV(\"ul\", {\n          className: \"space-y-3\",\n          children: summary.topPerformers.map((student, idx) => _jsxDEV(\"li\", {\n            className: \"flex items-start space-x-3\",\n            children: [_jsxDEV(\"img\", {\n              src: students.find(s => s.name === student.name)?.avatarUrl,\n              alt: student.name,\n              className: \"w-10 h-10 rounded-full object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 37\n            }, this), _jsxDEV(\"div\", {\n              children: [_jsxDEV(\"p\", {\n                className: \"font-semibold text-gray-800\",\n                children: student.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 41\n              }, this), _jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: student.reason\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 37\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }, this), _jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-sm p-4\",\n        children: [_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3 mb-3\",\n          children: [_jsxDEV(TrendingUpIcon, {\n            className: \"h-6 w-6 text-amber-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 29\n          }, this), _jsxDEV(\"h4\", {\n            className: \"font-bold text-lg text-gray-800\",\n            children: \"Students Needing Support\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 25\n        }, this), _jsxDEV(\"ul\", {\n          className: \"space-y-3\",\n          children: summary.studentsNeedingSupport.map((student, idx) => _jsxDEV(\"li\", {\n            className: \"flex items-start space-x-3\",\n            children: [_jsxDEV(\"img\", {\n              src: students.find(s => s.name === student.name)?.avatarUrl,\n              alt: student.name,\n              className: \"w-10 h-10 rounded-full object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 37\n            }, this), _jsxDEV(\"div\", {\n              children: [_jsxDEV(\"p\", {\n                className: \"font-semibold text-gray-800\",\n                children: student.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 41\n              }, this), _jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: student.reason\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 37\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 9\n  }, this);\n};\nexport default AIPerformanceSummaryScreen;","map":{"version":3,"names":["React","useState","useEffect","getAIClient","SchemaType","Type","ReactMarkdown","remarkGfm","AIIcon","CheckCircleIcon","TrendingUpIcon","UserGroupIcon","jsxDEV","_jsxDEV","AIPerformanceSummaryScreen","students","summary","setSummary","isLoading","setIsLoading","error","setError","generateSummary","length","ai","import","meta","env","VITE_GEMINI_API_KEY","studentDataForPrompt","map","s","latestGrades","academicPerformance","slice","p","subject","score","join","behavior","behaviorNotes","n","type","title","name","prompt","response","models","generateContent","model","contents","config","responseMimeType","responseSchema","OBJECT","properties","overallSummary","STRING","description","topPerformers","ARRAY","items","reason","required","studentsNeedingSupport","rawText","text","trim","startsWith","Error","sanitizedText","replace","jsonResponse","JSON","parse","e","console","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","remarkPlugins","student","idx","src","find","avatarUrl","alt"],"sources":["C:/Users/USER/OneDrive/Desktop/Project/school-app-/components/teacher/AIPerformanceSummaryScreen.tsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport { getAIClient, AI_MODEL_NAME, SchemaType as Type } from '../../lib/ai';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport remarkGfm from 'remark-gfm';\r\nimport { Student } from '../../types';\r\nimport { AIIcon, CheckCircleIcon, TrendingUpIcon, UserGroupIcon } from '../../constants';\r\n\r\ninterface SummaryData {\r\n    overallSummary: string;\r\n    topPerformers: { name: string; reason: string }[];\r\n    studentsNeedingSupport: { name: string; reason: string }[];\r\n}\r\n\r\ninterface AIPerformanceSummaryScreenProps {\r\n    students: Student[];\r\n}\r\n\r\nconst AIPerformanceSummaryScreen: React.FC<AIPerformanceSummaryScreenProps> = ({ students }) => {\r\n    const [summary, setSummary] = useState<SummaryData | null>(null);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    useEffect(() => {\r\n        const generateSummary = async () => {\r\n            if (students.length === 0) {\r\n                setError(\"No student data available to generate a summary.\");\r\n                setIsLoading(false);\r\n                return;\r\n            }\r\n            setIsLoading(true);\r\n            try {\r\n                const ai = getAIClient(import.meta.env.VITE_GEMINI_API_KEY || '');\r\n                const studentDataForPrompt = students.map(s => {\r\n                    const latestGrades = s.academicPerformance?.slice(-3).map(p => `${p.subject}: ${p.score}%`).join(', ') || 'N/A';\r\n                    const behavior = s.behaviorNotes?.map(n => `${n.type}: ${n.title}`).join(', ') || 'No notes';\r\n                    return `- ${s.name}: Grades=[${latestGrades}], Behavior=[${behavior}]`;\r\n                }).join('\\n');\r\n\r\n                const prompt = `\r\n                    Analyze the following student data for a class and provide a concise summary for the teacher.\r\n                    \r\n                    Class Data:\r\n                    ${studentDataForPrompt}\r\n\r\n                    The summary should help the teacher quickly understand class dynamics. Identify top-performing students and students who might need extra support, providing a brief reason for each.\r\n                `;\r\n\r\n                const response = await ai.models.generateContent({\r\n                    model: 'gemini-2.0-flash',\r\n                    contents: prompt,\r\n                    config: {\r\n                        responseMimeType: \"application/json\",\r\n                        responseSchema: {\r\n                            type: Type.OBJECT,\r\n                            properties: {\r\n                                overallSummary: { type: Type.STRING, description: \"A brief, 2-3 sentence summary of the class's overall performance and atmosphere.\" },\r\n                                topPerformers: {\r\n                                    type: Type.ARRAY,\r\n                                    items: {\r\n                                        type: Type.OBJECT,\r\n                                        properties: {\r\n                                            name: { type: Type.STRING },\r\n                                            reason: { type: Type.STRING, description: \"A short, specific reason why this student is a top performer.\" }\r\n                                        },\r\n                                        required: [\"name\", \"reason\"]\r\n                                    },\r\n                                    description: \"A list of 2-3 students who are excelling academically or behaviorally.\"\r\n                                },\r\n                                studentsNeedingSupport: {\r\n                                    type: Type.ARRAY,\r\n                                    items: {\r\n                                        type: Type.OBJECT,\r\n                                        properties: {\r\n                                            name: { type: Type.STRING },\r\n                                            reason: { type: Type.STRING, description: \"A short, specific reason why this student might need support.\" }\r\n                                        },\r\n                                        required: [\"name\", \"reason\"]\r\n                                    },\r\n                                    description: \"A list of 2-3 students who might need extra attention, either academically or behaviorally.\"\r\n                                }\r\n                            },\r\n                            required: [\"overallSummary\", \"topPerformers\", \"studentsNeedingSupport\"]\r\n                        }\r\n                    }\r\n                });\r\n\r\n                const rawText = response.text ? response.text.trim() : '';\r\n\r\n                if (!rawText || rawText.startsWith('Error') || rawText.startsWith(\"I'm sorry\")) {\r\n                    throw new Error(rawText || \"AI returned an error message.\");\r\n                }\r\n\r\n                const sanitizedText = rawText.replace(/^```json/i, '').replace(/^```/, '').replace(/```$/, '').trim();\r\n\r\n                let jsonResponse;\r\n                try {\r\n                    jsonResponse = JSON.parse(sanitizedText);\r\n                } catch (e) {\r\n                    console.error(\"Performance Summary JSON Parse Error\", rawText);\r\n                    throw new Error(\"AI generated an invalid format.\");\r\n                }\r\n                setSummary(jsonResponse);\r\n\r\n            } catch (err) {\r\n                console.error(\"Error generating AI summary:\", err);\r\n                setError(\"Sorry, we couldn't generate the summary. Please try again later.\");\r\n            } finally {\r\n                setIsLoading(false);\r\n            }\r\n        };\r\n\r\n        generateSummary();\r\n    }, [students]);\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"p-6 flex flex-col items-center justify-center h-full text-center bg-gray-100\">\r\n                <AIIcon className=\"w-12 h-12 text-purple-400 animate-pulse mb-4\" />\r\n                <h2 className=\"text-xl font-bold text-gray-700\">Analyzing Class Performance...</h2>\r\n                <p className=\"text-gray-500 mt-2\">The AI is crunching the numbers to provide you with actionable insights.</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (error) {\r\n        return (\r\n            <div className=\"p-6 text-center bg-gray-100 h-full\">\r\n                <h2 className=\"text-xl font-bold text-red-600\">Error</h2>\r\n                <p className=\"text-gray-600 mt-2\">{error}</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-4 bg-gray-100\">\r\n            {summary && (\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\r\n                    <div className=\"lg:col-span-2 bg-white rounded-xl shadow-sm p-4\">\r\n                        <div className=\"flex items-center space-x-3 mb-3\">\r\n                            <UserGroupIcon className=\"h-6 w-6 text-purple-600\" />\r\n                            <h4 className=\"font-bold text-lg text-gray-800\">Overall Summary</h4>\r\n                        </div>\r\n                        <div className=\"prose prose-sm max-w-none text-gray-700\">\r\n                            <ReactMarkdown remarkPlugins={[remarkGfm]}>{summary.overallSummary}</ReactMarkdown>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"bg-white rounded-xl shadow-sm p-4\">\r\n                        <div className=\"flex items-center space-x-3 mb-3\">\r\n                            <CheckCircleIcon className=\"h-6 w-6 text-green-500\" />\r\n                            <h4 className=\"font-bold text-lg text-gray-800\">Top Performers</h4>\r\n                        </div>\r\n                        <ul className=\"space-y-3\">\r\n                            {summary.topPerformers.map((student, idx) => (\r\n                                <li key={idx} className=\"flex items-start space-x-3\">\r\n                                    <img src={students.find(s => s.name === student.name)?.avatarUrl} alt={student.name} className=\"w-10 h-10 rounded-full object-cover\" />\r\n                                    <div>\r\n                                        <p className=\"font-semibold text-gray-800\">{student.name}</p>\r\n                                        <p className=\"text-sm text-gray-600\">{student.reason}</p>\r\n                                    </div>\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                    </div>\r\n\r\n                    <div className=\"bg-white rounded-xl shadow-sm p-4\">\r\n                        <div className=\"flex items-center space-x-3 mb-3\">\r\n                            <TrendingUpIcon className=\"h-6 w-6 text-amber-500\" />\r\n                            <h4 className=\"font-bold text-lg text-gray-800\">Students Needing Support</h4>\r\n                        </div>\r\n                        <ul className=\"space-y-3\">\r\n                            {summary.studentsNeedingSupport.map((student, idx) => (\r\n                                <li key={idx} className=\"flex items-start space-x-3\">\r\n                                    <img src={students.find(s => s.name === student.name)?.avatarUrl} alt={student.name} className=\"w-10 h-10 rounded-full object-cover\" />\r\n                                    <div>\r\n                                        <p className=\"font-semibold text-gray-800\">{student.name}</p>\r\n                                        <p className=\"text-sm text-gray-600\">{student.reason}</p>\r\n                                    </div>\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AIPerformanceSummaryScreen;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAiB,OAAO;AAC3D,SAASC,WAAW,EAAiBC,UAAU,IAAIC,IAAI,QAAQ,cAAc;AAC7E,OAAOC,aAAa,MAAM,gBAAgB;AAC1C,OAAOC,SAAS,MAAM,YAAY;AAElC,SAASC,MAAM,EAAEC,eAAe,EAAEC,cAAc,EAAEC,aAAa,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAYzF,MAAMC,0BAAqE,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAC5F,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGhB,QAAQ,CAAqB,IAAI,CAAC;EAChE,MAAM,CAACiB,SAAS,EAAEC,YAAY,CAAC,GAAGlB,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACmB,KAAK,EAAEC,QAAQ,CAAC,GAAGpB,QAAQ,CAAgB,IAAI,CAAC;EAEvDC,SAAS,CAAC,MAAM;IACZ,MAAMoB,eAAe,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAIP,QAAQ,CAACQ,MAAM,KAAK,CAAC,EAAE;QACvBF,QAAQ,CAAC,kDAAkD,CAAC;QAC5DF,YAAY,CAAC,KAAK,CAAC;QACnB;MACJ;MACAA,YAAY,CAAC,IAAI,CAAC;MAClB,IAAI;QACA,MAAMK,EAAE,GAAGrB,WAAW,CAACsB,MAAM,CAACC,IAAI,CAACC,GAAG,CAACC,mBAAmB,IAAI,EAAE,CAAC;QACjE,MAAMC,oBAAoB,GAAGd,QAAQ,CAACe,GAAG,CAACC,CAAC,IAAI;UAC3C,MAAMC,YAAY,GAAGD,CAAC,CAACE,mBAAmB,EAAEC,KAAK,CAAC,CAAC,CAAC,CAAC,CAACJ,GAAG,CAACK,CAAC,IAAI,GAAGA,CAAC,CAACC,OAAO,KAAKD,CAAC,CAACE,KAAK,GAAG,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK;UAC/G,MAAMC,QAAQ,GAAGR,CAAC,CAACS,aAAa,EAAEV,GAAG,CAACW,CAAC,IAAI,GAAGA,CAAC,CAACC,IAAI,KAAKD,CAAC,CAACE,KAAK,EAAE,CAAC,CAACL,IAAI,CAAC,IAAI,CAAC,IAAI,UAAU;UAC5F,OAAO,KAAKP,CAAC,CAACa,IAAI,aAAaZ,YAAY,gBAAgBO,QAAQ,GAAG;QAC1E,CAAC,CAAC,CAACD,IAAI,CAAC,IAAI,CAAC;QAEb,MAAMO,MAAM,GAAG;AAC/B;AACA;AACA;AACA,sBAAsBhB,oBAAoB;AAC1C;AACA;AACA,iBAAiB;QAED,MAAMiB,QAAQ,GAAG,MAAMtB,EAAE,CAACuB,MAAM,CAACC,eAAe,CAAC;UAC7CC,KAAK,EAAE,kBAAkB;UACzBC,QAAQ,EAAEL,MAAM;UAChBM,MAAM,EAAE;YACJC,gBAAgB,EAAE,kBAAkB;YACpCC,cAAc,EAAE;cACZX,IAAI,EAAErC,IAAI,CAACiD,MAAM;cACjBC,UAAU,EAAE;gBACRC,cAAc,EAAE;kBAAEd,IAAI,EAAErC,IAAI,CAACoD,MAAM;kBAAEC,WAAW,EAAE;gBAAmF,CAAC;gBACtIC,aAAa,EAAE;kBACXjB,IAAI,EAAErC,IAAI,CAACuD,KAAK;kBAChBC,KAAK,EAAE;oBACHnB,IAAI,EAAErC,IAAI,CAACiD,MAAM;oBACjBC,UAAU,EAAE;sBACRX,IAAI,EAAE;wBAAEF,IAAI,EAAErC,IAAI,CAACoD;sBAAO,CAAC;sBAC3BK,MAAM,EAAE;wBAAEpB,IAAI,EAAErC,IAAI,CAACoD,MAAM;wBAAEC,WAAW,EAAE;sBAAgE;oBAC9G,CAAC;oBACDK,QAAQ,EAAE,CAAC,MAAM,EAAE,QAAQ;kBAC/B,CAAC;kBACDL,WAAW,EAAE;gBACjB,CAAC;gBACDM,sBAAsB,EAAE;kBACpBtB,IAAI,EAAErC,IAAI,CAACuD,KAAK;kBAChBC,KAAK,EAAE;oBACHnB,IAAI,EAAErC,IAAI,CAACiD,MAAM;oBACjBC,UAAU,EAAE;sBACRX,IAAI,EAAE;wBAAEF,IAAI,EAAErC,IAAI,CAACoD;sBAAO,CAAC;sBAC3BK,MAAM,EAAE;wBAAEpB,IAAI,EAAErC,IAAI,CAACoD,MAAM;wBAAEC,WAAW,EAAE;sBAAgE;oBAC9G,CAAC;oBACDK,QAAQ,EAAE,CAAC,MAAM,EAAE,QAAQ;kBAC/B,CAAC;kBACDL,WAAW,EAAE;gBACjB;cACJ,CAAC;cACDK,QAAQ,EAAE,CAAC,gBAAgB,EAAE,eAAe,EAAE,wBAAwB;YAC1E;UACJ;QACJ,CAAC,CAAC;QAEF,MAAME,OAAO,GAAGnB,QAAQ,CAACoB,IAAI,GAAGpB,QAAQ,CAACoB,IAAI,CAACC,IAAI,CAAC,CAAC,GAAG,EAAE;QAEzD,IAAI,CAACF,OAAO,IAAIA,OAAO,CAACG,UAAU,CAAC,OAAO,CAAC,IAAIH,OAAO,CAACG,UAAU,CAAC,WAAW,CAAC,EAAE;UAC5E,MAAM,IAAIC,KAAK,CAACJ,OAAO,IAAI,+BAA+B,CAAC;QAC/D;QAEA,MAAMK,aAAa,GAAGL,OAAO,CAACM,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAACA,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAACJ,IAAI,CAAC,CAAC;QAErG,IAAIK,YAAY;QAChB,IAAI;UACAA,YAAY,GAAGC,IAAI,CAACC,KAAK,CAACJ,aAAa,CAAC;QAC5C,CAAC,CAAC,OAAOK,CAAC,EAAE;UACRC,OAAO,CAACxD,KAAK,CAAC,sCAAsC,EAAE6C,OAAO,CAAC;UAC9D,MAAM,IAAII,KAAK,CAAC,iCAAiC,CAAC;QACtD;QACApD,UAAU,CAACuD,YAAY,CAAC;MAE5B,CAAC,CAAC,OAAOK,GAAG,EAAE;QACVD,OAAO,CAACxD,KAAK,CAAC,8BAA8B,EAAEyD,GAAG,CAAC;QAClDxD,QAAQ,CAAC,kEAAkE,CAAC;MAChF,CAAC,SAAS;QACNF,YAAY,CAAC,KAAK,CAAC;MACvB;IACJ,CAAC;IAEDG,eAAe,CAAC,CAAC;EACrB,CAAC,EAAE,CAACP,QAAQ,CAAC,CAAC;EAEd,IAAIG,SAAS,EAAE;IACX,OACIL,OAAA;MAAKiE,SAAS,EAAC,8EAA8E;MAAAC,QAAA,GACzFlE,OAAA,CAACL,MAAM;QAACsE,SAAS,EAAC;MAA8C;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EACnEtE,OAAA;QAAIiE,SAAS,EAAC,iCAAiC;QAAAC,QAAA,EAAC;MAA8B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EACnFtE,OAAA;QAAGiE,SAAS,EAAC,oBAAoB;QAAAC,QAAA,EAAC;MAAwE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7G,CAAC;EAEd;EAEA,IAAI/D,KAAK,EAAE;IACP,OACIP,OAAA;MAAKiE,SAAS,EAAC,oCAAoC;MAAAC,QAAA,GAC/ClE,OAAA;QAAIiE,SAAS,EAAC,gCAAgC;QAAAC,QAAA,EAAC;MAAK;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EACzDtE,OAAA;QAAGiE,SAAS,EAAC,oBAAoB;QAAAC,QAAA,EAAE3D;MAAK;QAAA4D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5C,CAAC;EAEd;EAEA,OACItE,OAAA;IAAKiE,SAAS,EAAC,iBAAiB;IAAAC,QAAA,EAC3B/D,OAAO,IACJH,OAAA;MAAKiE,SAAS,EAAC,uCAAuC;MAAAC,QAAA,GAClDlE,OAAA;QAAKiE,SAAS,EAAC,iDAAiD;QAAAC,QAAA,GAC5DlE,OAAA;UAAKiE,SAAS,EAAC,kCAAkC;UAAAC,QAAA,GAC7ClE,OAAA,CAACF,aAAa;YAACmE,SAAS,EAAC;UAAyB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EACrDtE,OAAA;YAAIiE,SAAS,EAAC,iCAAiC;YAAAC,QAAA,EAAC;UAAe;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnE,CAAC,EACNtE,OAAA;UAAKiE,SAAS,EAAC,yCAAyC;UAAAC,QAAA,EACpDlE,OAAA,CAACP,aAAa;YAAC8E,aAAa,EAAE,CAAC7E,SAAS,CAAE;YAAAwE,QAAA,EAAE/D,OAAO,CAACwC;UAAc;YAAAwB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAgB;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,EAENtE,OAAA;QAAKiE,SAAS,EAAC,mCAAmC;QAAAC,QAAA,GAC9ClE,OAAA;UAAKiE,SAAS,EAAC,kCAAkC;UAAAC,QAAA,GAC7ClE,OAAA,CAACJ,eAAe;YAACqE,SAAS,EAAC;UAAwB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EACtDtE,OAAA;YAAIiE,SAAS,EAAC,iCAAiC;YAAAC,QAAA,EAAC;UAAc;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClE,CAAC,EACNtE,OAAA;UAAIiE,SAAS,EAAC,WAAW;UAAAC,QAAA,EACpB/D,OAAO,CAAC2C,aAAa,CAAC7B,GAAG,CAAC,CAACuD,OAAO,EAAEC,GAAG,KACpCzE,OAAA;YAAciE,SAAS,EAAC,4BAA4B;YAAAC,QAAA,GAChDlE,OAAA;cAAK0E,GAAG,EAAExE,QAAQ,CAACyE,IAAI,CAACzD,CAAC,IAAIA,CAAC,CAACa,IAAI,KAAKyC,OAAO,CAACzC,IAAI,CAAC,EAAE6C,SAAU;cAACC,GAAG,EAAEL,OAAO,CAACzC,IAAK;cAACkC,SAAS,EAAC;YAAqC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,EACvItE,OAAA;cAAAkE,QAAA,GACIlE,OAAA;gBAAGiE,SAAS,EAAC,6BAA6B;gBAAAC,QAAA,EAAEM,OAAO,CAACzC;cAAI;gBAAAoC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,EAC7DtE,OAAA;gBAAGiE,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,EAAEM,OAAO,CAACvB;cAAM;gBAAAkB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxD,CAAC;UAAA,GALDG,GAAG;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAMR,CACP;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC,EAENtE,OAAA;QAAKiE,SAAS,EAAC,mCAAmC;QAAAC,QAAA,GAC9ClE,OAAA;UAAKiE,SAAS,EAAC,kCAAkC;UAAAC,QAAA,GAC7ClE,OAAA,CAACH,cAAc;YAACoE,SAAS,EAAC;UAAwB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EACrDtE,OAAA;YAAIiE,SAAS,EAAC,iCAAiC;YAAAC,QAAA,EAAC;UAAwB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5E,CAAC,EACNtE,OAAA;UAAIiE,SAAS,EAAC,WAAW;UAAAC,QAAA,EACpB/D,OAAO,CAACgD,sBAAsB,CAAClC,GAAG,CAAC,CAACuD,OAAO,EAAEC,GAAG,KAC7CzE,OAAA;YAAciE,SAAS,EAAC,4BAA4B;YAAAC,QAAA,GAChDlE,OAAA;cAAK0E,GAAG,EAAExE,QAAQ,CAACyE,IAAI,CAACzD,CAAC,IAAIA,CAAC,CAACa,IAAI,KAAKyC,OAAO,CAACzC,IAAI,CAAC,EAAE6C,SAAU;cAACC,GAAG,EAAEL,OAAO,CAACzC,IAAK;cAACkC,SAAS,EAAC;YAAqC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,EACvItE,OAAA;cAAAkE,QAAA,GACIlE,OAAA;gBAAGiE,SAAS,EAAC,6BAA6B;gBAAAC,QAAA,EAAEM,OAAO,CAACzC;cAAI;gBAAAoC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,EAC7DtE,OAAA;gBAAGiE,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,EAAEM,OAAO,CAACvB;cAAM;gBAAAkB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxD,CAAC;UAAA,GALDG,GAAG;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAMR,CACP;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL;EACR;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEd,CAAC;AAED,eAAerE,0BAA0B","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}