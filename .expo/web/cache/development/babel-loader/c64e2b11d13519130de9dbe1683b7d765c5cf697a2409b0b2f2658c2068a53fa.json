{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\OneDrive\\\\Desktop\\\\Project\\\\school-app-\\\\components\\\\admin\\\\AuditTrailViewer.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport { supabase } from '../../lib/supabase';\nimport { toast } from 'react-hot-toast';\nimport { Shield, Search, Download, AlertCircle, CheckCircle, Eye } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuditTrailViewer = () => {\n  const [auditLogs, setAuditLogs] = useState([]);\n  const [filteredLogs, setFilteredLogs] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [actionFilter, setActionFilter] = useState('all');\n  const [riskFilter, setRiskFilter] = useState('all');\n  const [dateRange, setDateRange] = useState({\n    start: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\n    end: new Date().toISOString().split('T')[0]\n  });\n  const [selectedLog, setSelectedLog] = useState(null);\n  const [showDetailsModal, setShowDetailsModal] = useState(false);\n  useEffect(() => {\n    fetchAuditLogs();\n  }, [dateRange]);\n  useEffect(() => {\n    applyFilters();\n  }, [auditLogs, searchTerm, actionFilter, riskFilter]);\n  const fetchAuditLogs = async () => {\n    try {\n      setLoading(true);\n      const {\n        data,\n        error\n      } = await supabase.from('audit_trails').select('*').gte('performed_at', dateRange.start).lte('performed_at', dateRange.end).order('performed_at', {\n        ascending: false\n      }).limit(500);\n      if (error) throw error;\n      setAuditLogs(data || []);\n    } catch (error) {\n      console.error('Error fetching audit logs:', error);\n      toast.error('Failed to load audit logs');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const applyFilters = () => {\n    let filtered = [...auditLogs];\n    if (searchTerm) {\n      filtered = filtered.filter(log => log.user_email?.toLowerCase().includes(searchTerm.toLowerCase()) || log.action_description?.toLowerCase().includes(searchTerm.toLowerCase()) || log.resource_type?.toLowerCase().includes(searchTerm.toLowerCase()));\n    }\n    if (actionFilter !== 'all') {\n      filtered = filtered.filter(log => log.action_type === actionFilter);\n    }\n    if (riskFilter !== 'all') {\n      filtered = filtered.filter(log => log.risk_level === riskFilter);\n    }\n    setFilteredLogs(filtered);\n  };\n  const getRiskColor = risk => {\n    const colors = {\n      'Low': 'bg-green-100 text-green-800',\n      'Medium': 'bg-yellow-100 text-yellow-800',\n      'High': 'bg-orange-100 text-orange-800',\n      'Critical': 'bg-red-100 text-red-800'\n    };\n    return colors[risk] || 'bg-gray-100 text-gray-800';\n  };\n  const getStatusIcon = status => {\n    return status === 'Success' ? _jsxDEV(CheckCircle, {\n      className: \"h-4 w-4 text-green-600\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }, this) : _jsxDEV(AlertCircle, {\n      className: \"h-4 w-4 text-red-600\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }, this);\n  };\n  const exportAuditLog = () => {\n    const csv = [['Date/Time', 'User', 'Action', 'Resource', 'Description', 'Risk Level', 'Status', 'IP Address'].join(','), ...filteredLogs.map(log => [new Date(log.performed_at).toLocaleString(), log.user_email, log.action_type, log.resource_type, log.action_description?.replace(/,/g, ';'), log.risk_level, log.status, log.ip_address].join(','))].join('\\n');\n    const blob = new Blob([csv], {\n      type: 'text/csv'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `audit-log-${dateRange.start}-to-${dateRange.end}.csv`;\n    a.click();\n    toast.success('Audit log exported!');\n  };\n  const viewDetails = log => {\n    setSelectedLog(log);\n    setShowDetailsModal(true);\n  };\n  const actionTypes = ['Create', 'Read', 'Update', 'Delete', 'Export', 'Login', 'Logout'];\n  const riskLevels = ['Low', 'Medium', 'High', 'Critical'];\n  return _jsxDEV(\"div\", {\n    className: \"p-6 max-w-7xl mx-auto\",\n    children: [_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-r from-purple-600 to-indigo-600 rounded-xl p-6 text-white mb-6\",\n      children: _jsxDEV(\"div\", {\n        className: \"flex justify-between items-center\",\n        children: [_jsxDEV(\"div\", {\n          children: [_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold mb-2\",\n            children: \"\\uD83D\\uDD12 Audit Trail Viewer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }, this), _jsxDEV(\"p\", {\n            className: \"text-purple-100\",\n            children: \"Comprehensive system activity and security monitoring\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this), _jsxDEV(\"button\", {\n          onClick: exportAuditLog,\n          className: \"px-4 py-2 bg-white text-purple-600 rounded-lg hover:bg-purple-50 font-semibold flex items-center space-x-2\",\n          children: [_jsxDEV(Download, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 25\n          }, this), _jsxDEV(\"span\", {\n            children: \"Export CSV\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }, this), _jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\",\n      children: [_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-sm p-4\",\n        children: [_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: \"Total Events\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this), _jsxDEV(\"p\", {\n          className: \"text-2xl font-bold text-gray-900\",\n          children: filteredLogs.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this), _jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-sm p-4\",\n        children: [_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: \"High Risk\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }, this), _jsxDEV(\"p\", {\n          className: \"text-2xl font-bold text-orange-600\",\n          children: filteredLogs.filter(l => l.risk_level === 'High' || l.risk_level === 'Critical').length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }, this), _jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-sm p-4\",\n        children: [_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: \"Failed Actions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this), _jsxDEV(\"p\", {\n          className: \"text-2xl font-bold text-red-600\",\n          children: filteredLogs.filter(l => l.status !== 'Success').length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this), _jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-sm p-4\",\n        children: [_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: \"Sensitive Data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 21\n        }, this), _jsxDEV(\"p\", {\n          className: \"text-2xl font-bold text-purple-600\",\n          children: filteredLogs.filter(l => l.is_sensitive).length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }, this), _jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-sm p-4 mb-6\",\n      children: _jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-5 gap-4\",\n        children: [_jsxDEV(\"div\", {\n          className: \"md:col-span-2\",\n          children: [_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-700 mb-2\",\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 25\n          }, this), _jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [_jsxDEV(Search, {\n              className: \"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 29\n            }, this), _jsxDEV(\"input\", {\n              type: \"text\",\n              value: searchTerm,\n              onChange: e => setSearchTerm(e.target.value),\n              placeholder: \"Search user, action, or resource...\",\n              className: \"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 21\n        }, this), _jsxDEV(\"div\", {\n          children: [_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-700 mb-2\",\n            children: \"Action Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 25\n          }, this), _jsxDEV(\"select\", {\n            value: actionFilter,\n            onChange: e => setActionFilter(e.target.value),\n            className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\",\n            children: [_jsxDEV(\"option\", {\n              value: \"all\",\n              children: \"All Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 29\n            }, this), actionTypes.map(type => _jsxDEV(\"option\", {\n              value: type,\n              children: type\n            }, type, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 33\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 21\n        }, this), _jsxDEV(\"div\", {\n          children: [_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-700 mb-2\",\n            children: \"Risk Level\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 25\n          }, this), _jsxDEV(\"select\", {\n            value: riskFilter,\n            onChange: e => setRiskFilter(e.target.value),\n            className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\",\n            children: [_jsxDEV(\"option\", {\n              value: \"all\",\n              children: \"All Levels\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 29\n            }, this), riskLevels.map(level => _jsxDEV(\"option\", {\n              value: level,\n              children: level\n            }, level, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 33\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 21\n        }, this), _jsxDEV(\"div\", {\n          children: [_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-700 mb-2\",\n            children: \"Date Range\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 25\n          }, this), _jsxDEV(\"div\", {\n            className: \"flex space-x-2\",\n            children: [_jsxDEV(\"input\", {\n              type: \"date\",\n              value: dateRange.start,\n              onChange: e => setDateRange(Object.assign({}, dateRange, {\n                start: e.target.value\n              })),\n              className: \"w-full px-2 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 29\n            }, this), _jsxDEV(\"input\", {\n              type: \"date\",\n              value: dateRange.end,\n              onChange: e => setDateRange(Object.assign({}, dateRange, {\n                end: e.target.value\n              })),\n              className: \"w-full px-2 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 13\n    }, this), _jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-sm overflow-hidden\",\n      children: loading ? _jsxDEV(\"div\", {\n        className: \"flex justify-center py-12\",\n        children: _jsxDEV(\"div\", {\n          className: \"w-10 h-10 border-4 border-purple-600 border-t-transparent rounded-full animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 21\n      }, this) : filteredLogs.length > 0 ? _jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: _jsxDEV(\"table\", {\n          className: \"min-w-full divide-y divide-gray-200\",\n          children: [_jsxDEV(\"thead\", {\n            className: \"bg-gray-50\",\n            children: _jsxDEV(\"tr\", {\n              children: [_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\",\n                children: \"Date/Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 37\n              }, this), _jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\",\n                children: \"User\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 37\n              }, this), _jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\",\n                children: \"Action\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 37\n              }, this), _jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\",\n                children: \"Resource\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 37\n              }, this), _jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\",\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 37\n              }, this), _jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-center text-xs font-semibold text-gray-700 uppercase\",\n                children: \"Risk\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 37\n              }, this), _jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-center text-xs font-semibold text-gray-700 uppercase\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 37\n              }, this), _jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-center text-xs font-semibold text-gray-700 uppercase\",\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 29\n          }, this), _jsxDEV(\"tbody\", {\n            className: \"divide-y divide-gray-200\",\n            children: filteredLogs.map(log => _jsxDEV(\"tr\", {\n              className: \"hover:bg-gray-50\",\n              children: [_jsxDEV(\"td\", {\n                className: \"px-4 py-3 text-sm text-gray-900 whitespace-nowrap\",\n                children: new Date(log.performed_at).toLocaleString('en-GB')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 41\n              }, this), _jsxDEV(\"td\", {\n                className: \"px-4 py-3 text-sm\",\n                children: _jsxDEV(\"div\", {\n                  children: [_jsxDEV(\"p\", {\n                    className: \"font-medium text-gray-900\",\n                    children: log.user_email || 'System'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 49\n                  }, this), _jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500\",\n                    children: log.user_role\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 41\n              }, this), _jsxDEV(\"td\", {\n                className: \"px-4 py-3 text-sm\",\n                children: _jsxDEV(\"span\", {\n                  className: \"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-semibold\",\n                  children: log.action_type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 41\n              }, this), _jsxDEV(\"td\", {\n                className: \"px-4 py-3 text-sm text-gray-700\",\n                children: log.resource_type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 41\n              }, this), _jsxDEV(\"td\", {\n                className: \"px-4 py-3 text-sm text-gray-700 max-w-xs truncate\",\n                children: log.action_description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 41\n              }, this), _jsxDEV(\"td\", {\n                className: \"px-4 py-3 text-center\",\n                children: _jsxDEV(\"span\", {\n                  className: `px-2 py-1 rounded text-xs font-semibold ${getRiskColor(log.risk_level)}`,\n                  children: log.risk_level\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 41\n              }, this), _jsxDEV(\"td\", {\n                className: \"px-4 py-3 text-center\",\n                children: _jsxDEV(\"div\", {\n                  className: \"flex justify-center\",\n                  children: getStatusIcon(log.status)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 41\n              }, this), _jsxDEV(\"td\", {\n                className: \"px-4 py-3 text-center\",\n                children: _jsxDEV(\"button\", {\n                  onClick: () => viewDetails(log),\n                  className: \"text-purple-600 hover:text-purple-800\",\n                  title: \"View Details\",\n                  children: _jsxDEV(Eye, {\n                    className: \"h-5 w-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 41\n              }, this)]\n            }, log.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 21\n      }, this) : _jsxDEV(\"div\", {\n        className: \"text-center py-12 text-gray-500\",\n        children: [_jsxDEV(Shield, {\n          className: \"h-12 w-12 text-gray-300 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 25\n        }, this), _jsxDEV(\"p\", {\n          children: \"No audit logs found for the selected filters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 13\n    }, this), showDetailsModal && selectedLog && _jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\",\n      children: _jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\",\n        children: _jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: [_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-4\",\n            children: [_jsxDEV(\"h2\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: \"Audit Log Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 33\n            }, this), _jsxDEV(\"button\", {\n              onClick: () => setShowDetailsModal(false),\n              className: \"text-gray-400 hover:text-gray-600\",\n              children: \"\\u2715\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 29\n          }, this), _jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-4\",\n              children: [_jsxDEV(\"div\", {\n                children: [_jsxDEV(\"p\", {\n                  className: \"text-sm font-semibold text-gray-700\",\n                  children: \"Date/Time\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"p\", {\n                  className: \"text-gray-900\",\n                  children: new Date(selectedLog.performed_at).toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 37\n              }, this), _jsxDEV(\"div\", {\n                children: [_jsxDEV(\"p\", {\n                  className: \"text-sm font-semibold text-gray-700\",\n                  children: \"User\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"p\", {\n                  className: \"text-gray-900\",\n                  children: selectedLog.user_email || 'System'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 37\n              }, this), _jsxDEV(\"div\", {\n                children: [_jsxDEV(\"p\", {\n                  className: \"text-sm font-semibold text-gray-700\",\n                  children: \"Action Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"p\", {\n                  className: \"text-gray-900\",\n                  children: selectedLog.action_type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 37\n              }, this), _jsxDEV(\"div\", {\n                children: [_jsxDEV(\"p\", {\n                  className: \"text-sm font-semibold text-gray-700\",\n                  children: \"Resource\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"p\", {\n                  className: \"text-gray-900\",\n                  children: [selectedLog.resource_type, \" #\", selectedLog.resource_id]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 37\n              }, this), _jsxDEV(\"div\", {\n                children: [_jsxDEV(\"p\", {\n                  className: \"text-sm font-semibold text-gray-700\",\n                  children: \"Risk Level\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"span\", {\n                  className: `px-2 py-1 rounded text-xs font-semibold ${getRiskColor(selectedLog.risk_level)}`,\n                  children: selectedLog.risk_level\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 37\n              }, this), _jsxDEV(\"div\", {\n                children: [_jsxDEV(\"p\", {\n                  className: \"text-sm font-semibold text-gray-700\",\n                  children: \"Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"p\", {\n                  className: \"text-gray-900\",\n                  children: selectedLog.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 37\n              }, this), _jsxDEV(\"div\", {\n                children: [_jsxDEV(\"p\", {\n                  className: \"text-sm font-semibold text-gray-700\",\n                  children: \"IP Address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"p\", {\n                  className: \"text-gray-900\",\n                  children: selectedLog.ip_address\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 37\n              }, this), _jsxDEV(\"div\", {\n                children: [_jsxDEV(\"p\", {\n                  className: \"text-sm font-semibold text-gray-700\",\n                  children: \"Sensitive Data\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 41\n                }, this), _jsxDEV(\"p\", {\n                  className: \"text-gray-900\",\n                  children: selectedLog.is_sensitive ? 'Yes' : 'No'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 33\n            }, this), _jsxDEV(\"div\", {\n              children: [_jsxDEV(\"p\", {\n                className: \"text-sm font-semibold text-gray-700 mb-2\",\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 37\n              }, this), _jsxDEV(\"p\", {\n                className: \"text-gray-900 bg-gray-50 p-3 rounded\",\n                children: selectedLog.action_description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 33\n            }, this), selectedLog.old_values && _jsxDEV(\"div\", {\n              children: [_jsxDEV(\"p\", {\n                className: \"text-sm font-semibold text-gray-700 mb-2\",\n                children: \"Previous Values\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 41\n              }, this), _jsxDEV(\"pre\", {\n                className: \"bg-gray-50 p-3 rounded text-xs overflow-x-auto\",\n                children: JSON.stringify(selectedLog.old_values, null, 2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 37\n            }, this), selectedLog.new_values && _jsxDEV(\"div\", {\n              children: [_jsxDEV(\"p\", {\n                className: \"text-sm font-semibold text-gray-700 mb-2\",\n                children: \"New Values\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 41\n              }, this), _jsxDEV(\"pre\", {\n                className: \"bg-gray-50 p-3 rounded text-xs overflow-x-auto\",\n                children: JSON.stringify(selectedLog.new_values, null, 2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 29\n          }, this), _jsxDEV(\"button\", {\n            onClick: () => setShowDetailsModal(false),\n            className: \"mt-6 w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-semibold\",\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 9\n  }, this);\n};\nexport default AuditTrailViewer;","map":{"version":3,"names":["React","useState","useEffect","supabase","toast","Shield","Search","Download","AlertCircle","CheckCircle","Eye","jsxDEV","_jsxDEV","AuditTrailViewer","auditLogs","setAuditLogs","filteredLogs","setFilteredLogs","loading","setLoading","searchTerm","setSearchTerm","actionFilter","setActionFilter","riskFilter","setRiskFilter","dateRange","setDateRange","start","Date","now","toISOString","split","end","selectedLog","setSelectedLog","showDetailsModal","setShowDetailsModal","fetchAuditLogs","applyFilters","data","error","from","select","gte","lte","order","ascending","limit","console","filtered","filter","log","user_email","toLowerCase","includes","action_description","resource_type","action_type","risk_level","getRiskColor","risk","colors","getStatusIcon","status","className","fileName","_jsxFileName","lineNumber","columnNumber","exportAuditLog","csv","join","map","performed_at","toLocaleString","replace","ip_address","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","click","success","viewDetails","actionTypes","riskLevels","children","onClick","length","l","is_sensitive","value","onChange","e","target","placeholder","level","Object","assign","user_role","title","id","resource_id","old_values","JSON","stringify","new_values"],"sources":["C:/Users/USER/OneDrive/Desktop/Project/school-app-/components/admin/AuditTrailViewer.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { supabase } from '../../lib/supabase';\r\nimport { toast } from 'react-hot-toast';\r\nimport { Shield, Search, Filter, Download, AlertCircle, CheckCircle, Eye } from 'lucide-react';\r\n\r\ninterface AuditLog {\r\n    id: number;\r\n    user_email: string;\r\n    user_role: string;\r\n    action_type: string;\r\n    resource_type: string;\r\n    resource_id: number;\r\n    action_description: string;\r\n    old_values: any;\r\n    new_values: any;\r\n    performed_at: string;\r\n    ip_address: string;\r\n    status: string;\r\n    risk_level: string;\r\n    is_sensitive: boolean;\r\n}\r\n\r\nconst AuditTrailViewer: React.FC = () => {\r\n    const [auditLogs, setAuditLogs] = useState<AuditLog[]>([]);\r\n    const [filteredLogs, setFilteredLogs] = useState<AuditLog[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    // Filters\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [actionFilter, setActionFilter] = useState<string>('all');\r\n    const [riskFilter, setRiskFilter] = useState<string>('all');\r\n    const [dateRange, setDateRange] = useState({\r\n        start: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\r\n        end: new Date().toISOString().split('T')[0]\r\n    });\r\n\r\n    const [selectedLog, setSelectedLog] = useState<AuditLog | null>(null);\r\n    const [showDetailsModal, setShowDetailsModal] = useState(false);\r\n\r\n    useEffect(() => {\r\n        fetchAuditLogs();\r\n    }, [dateRange]);\r\n\r\n    useEffect(() => {\r\n        applyFilters();\r\n    }, [auditLogs, searchTerm, actionFilter, riskFilter]);\r\n\r\n    const fetchAuditLogs = async () => {\r\n        try {\r\n            setLoading(true);\r\n            const { data, error } = await supabase\r\n                .from('audit_trails')\r\n                .select('*')\r\n                .gte('performed_at', dateRange.start)\r\n                .lte('performed_at', dateRange.end)\r\n                .order('performed_at', { ascending: false })\r\n                .limit(500);\r\n\r\n            if (error) throw error;\r\n            setAuditLogs(data || []);\r\n        } catch (error: any) {\r\n            console.error('Error fetching audit logs:', error);\r\n            toast.error('Failed to load audit logs');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const applyFilters = () => {\r\n        let filtered = [...auditLogs];\r\n\r\n        if (searchTerm) {\r\n            filtered = filtered.filter(log =>\r\n                log.user_email?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                log.action_description?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                log.resource_type?.toLowerCase().includes(searchTerm.toLowerCase())\r\n            );\r\n        }\r\n\r\n        if (actionFilter !== 'all') {\r\n            filtered = filtered.filter(log => log.action_type === actionFilter);\r\n        }\r\n\r\n        if (riskFilter !== 'all') {\r\n            filtered = filtered.filter(log => log.risk_level === riskFilter);\r\n        }\r\n\r\n        setFilteredLogs(filtered);\r\n    };\r\n\r\n    const getRiskColor = (risk: string) => {\r\n        const colors = {\r\n            'Low': 'bg-green-100 text-green-800',\r\n            'Medium': 'bg-yellow-100 text-yellow-800',\r\n            'High': 'bg-orange-100 text-orange-800',\r\n            'Critical': 'bg-red-100 text-red-800'\r\n        };\r\n        return colors[risk as keyof typeof colors] || 'bg-gray-100 text-gray-800';\r\n    };\r\n\r\n    const getStatusIcon = (status: string) => {\r\n        return status === 'Success'\r\n            ? <CheckCircle className=\"h-4 w-4 text-green-600\" />\r\n            : <AlertCircle className=\"h-4 w-4 text-red-600\" />;\r\n    };\r\n\r\n    const exportAuditLog = () => {\r\n        const csv = [\r\n            ['Date/Time', 'User', 'Action', 'Resource', 'Description', 'Risk Level', 'Status', 'IP Address'].join(','),\r\n            ...filteredLogs.map(log => [\r\n                new Date(log.performed_at).toLocaleString(),\r\n                log.user_email,\r\n                log.action_type,\r\n                log.resource_type,\r\n                log.action_description?.replace(/,/g, ';'),\r\n                log.risk_level,\r\n                log.status,\r\n                log.ip_address\r\n            ].join(','))\r\n        ].join('\\n');\r\n\r\n        const blob = new Blob([csv], { type: 'text/csv' });\r\n        const url = URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = `audit-log-${dateRange.start}-to-${dateRange.end}.csv`;\r\n        a.click();\r\n        toast.success('Audit log exported!');\r\n    };\r\n\r\n    const viewDetails = (log: AuditLog) => {\r\n        setSelectedLog(log);\r\n        setShowDetailsModal(true);\r\n    };\r\n\r\n    const actionTypes = ['Create', 'Read', 'Update', 'Delete', 'Export', 'Login', 'Logout'];\r\n    const riskLevels = ['Low', 'Medium', 'High', 'Critical'];\r\n\r\n    return (\r\n        <div className=\"p-6 max-w-7xl mx-auto\">\r\n            {/* Header */}\r\n            <div className=\"bg-gradient-to-r from-purple-600 to-indigo-600 rounded-xl p-6 text-white mb-6\">\r\n                <div className=\"flex justify-between items-center\">\r\n                    <div>\r\n                        <h1 className=\"text-3xl font-bold mb-2\">ðŸ”’ Audit Trail Viewer</h1>\r\n                        <p className=\"text-purple-100\">Comprehensive system activity and security monitoring</p>\r\n                    </div>\r\n                    <button\r\n                        onClick={exportAuditLog}\r\n                        className=\"px-4 py-2 bg-white text-purple-600 rounded-lg hover:bg-purple-50 font-semibold flex items-center space-x-2\"\r\n                    >\r\n                        <Download className=\"h-5 w-5\" />\r\n                        <span>Export CSV</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Stats */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\r\n                <div className=\"bg-white rounded-xl shadow-sm p-4\">\r\n                    <p className=\"text-sm text-gray-600\">Total Events</p>\r\n                    <p className=\"text-2xl font-bold text-gray-900\">{filteredLogs.length}</p>\r\n                </div>\r\n                <div className=\"bg-white rounded-xl shadow-sm p-4\">\r\n                    <p className=\"text-sm text-gray-600\">High Risk</p>\r\n                    <p className=\"text-2xl font-bold text-orange-600\">\r\n                        {filteredLogs.filter(l => l.risk_level === 'High' || l.risk_level === 'Critical').length}\r\n                    </p>\r\n                </div>\r\n                <div className=\"bg-white rounded-xl shadow-sm p-4\">\r\n                    <p className=\"text-sm text-gray-600\">Failed Actions</p>\r\n                    <p className=\"text-2xl font-bold text-red-600\">\r\n                        {filteredLogs.filter(l => l.status !== 'Success').length}\r\n                    </p>\r\n                </div>\r\n                <div className=\"bg-white rounded-xl shadow-sm p-4\">\r\n                    <p className=\"text-sm text-gray-600\">Sensitive Data</p>\r\n                    <p className=\"text-2xl font-bold text-purple-600\">\r\n                        {filteredLogs.filter(l => l.is_sensitive).length}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Filters */}\r\n            <div className=\"bg-white rounded-xl shadow-sm p-4 mb-6\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4\">\r\n                    <div className=\"md:col-span-2\">\r\n                        <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Search</label>\r\n                        <div className=\"relative\">\r\n                            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\r\n                            <input\r\n                                type=\"text\"\r\n                                value={searchTerm}\r\n                                onChange={(e) => setSearchTerm(e.target.value)}\r\n                                placeholder=\"Search user, action, or resource...\"\r\n                                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Action Type</label>\r\n                        <select\r\n                            value={actionFilter}\r\n                            onChange={(e) => setActionFilter(e.target.value)}\r\n                            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\"\r\n                        >\r\n                            <option value=\"all\">All Actions</option>\r\n                            {actionTypes.map(type => (\r\n                                <option key={type} value={type}>{type}</option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Risk Level</label>\r\n                        <select\r\n                            value={riskFilter}\r\n                            onChange={(e) => setRiskFilter(e.target.value)}\r\n                            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\"\r\n                        >\r\n                            <option value=\"all\">All Levels</option>\r\n                            {riskLevels.map(level => (\r\n                                <option key={level} value={level}>{level}</option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Date Range</label>\r\n                        <div className=\"flex space-x-2\">\r\n                            <input\r\n                                type=\"date\"\r\n                                value={dateRange.start}\r\n                                onChange={(e) => setDateRange({ ...dateRange, start: e.target.value })}\r\n                                className=\"w-full px-2 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500\"\r\n                            />\r\n                            <input\r\n                                type=\"date\"\r\n                                value={dateRange.end}\r\n                                onChange={(e) => setDateRange({ ...dateRange, end: e.target.value })}\r\n                                className=\"w-full px-2 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Audit Log Table */}\r\n            <div className=\"bg-white rounded-xl shadow-sm overflow-hidden\">\r\n                {loading ? (\r\n                    <div className=\"flex justify-center py-12\">\r\n                        <div className=\"w-10 h-10 border-4 border-purple-600 border-t-transparent rounded-full animate-spin\"></div>\r\n                    </div>\r\n                ) : filteredLogs.length > 0 ? (\r\n                    <div className=\"overflow-x-auto\">\r\n                        <table className=\"min-w-full divide-y divide-gray-200\">\r\n                            <thead className=\"bg-gray-50\">\r\n                                <tr>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\">Date/Time</th>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\">User</th>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\">Action</th>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\">Resource</th>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\">Description</th>\r\n                                    <th className=\"px-4 py-3 text-center text-xs font-semibold text-gray-700 uppercase\">Risk</th>\r\n                                    <th className=\"px-4 py-3 text-center text-xs font-semibold text-gray-700 uppercase\">Status</th>\r\n                                    <th className=\"px-4 py-3 text-center text-xs font-semibold text-gray-700 uppercase\">Actions</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody className=\"divide-y divide-gray-200\">\r\n                                {filteredLogs.map(log => (\r\n                                    <tr key={log.id} className=\"hover:bg-gray-50\">\r\n                                        <td className=\"px-4 py-3 text-sm text-gray-900 whitespace-nowrap\">\r\n                                            {new Date(log.performed_at).toLocaleString('en-GB')}\r\n                                        </td>\r\n                                        <td className=\"px-4 py-3 text-sm\">\r\n                                            <div>\r\n                                                <p className=\"font-medium text-gray-900\">{log.user_email || 'System'}</p>\r\n                                                <p className=\"text-xs text-gray-500\">{log.user_role}</p>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-4 py-3 text-sm\">\r\n                                            <span className=\"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-semibold\">\r\n                                                {log.action_type}\r\n                                            </span>\r\n                                        </td>\r\n                                        <td className=\"px-4 py-3 text-sm text-gray-700\">{log.resource_type}</td>\r\n                                        <td className=\"px-4 py-3 text-sm text-gray-700 max-w-xs truncate\">\r\n                                            {log.action_description}\r\n                                        </td>\r\n                                        <td className=\"px-4 py-3 text-center\">\r\n                                            <span className={`px-2 py-1 rounded text-xs font-semibold ${getRiskColor(log.risk_level)}`}>\r\n                                                {log.risk_level}\r\n                                            </span>\r\n                                        </td>\r\n                                        <td className=\"px-4 py-3 text-center\">\r\n                                            <div className=\"flex justify-center\">\r\n                                                {getStatusIcon(log.status)}\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-4 py-3 text-center\">\r\n                                            <button\r\n                                                onClick={() => viewDetails(log)}\r\n                                                className=\"text-purple-600 hover:text-purple-800\"\r\n                                                title=\"View Details\"\r\n                                            >\r\n                                                <Eye className=\"h-5 w-5\" />\r\n                                            </button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"text-center py-12 text-gray-500\">\r\n                        <Shield className=\"h-12 w-12 text-gray-300 mx-auto mb-4\" />\r\n                        <p>No audit logs found for the selected filters</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Details Modal */}\r\n            {showDetailsModal && selectedLog && (\r\n                <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\r\n                    <div className=\"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\r\n                        <div className=\"p-6\">\r\n                            <div className=\"flex justify-between items-center mb-4\">\r\n                                <h2 className=\"text-2xl font-bold text-gray-900\">Audit Log Details</h2>\r\n                                <button\r\n                                    onClick={() => setShowDetailsModal(false)}\r\n                                    className=\"text-gray-400 hover:text-gray-600\"\r\n                                >\r\n                                    âœ•\r\n                                </button>\r\n                            </div>\r\n\r\n                            <div className=\"space-y-4\">\r\n                                <div className=\"grid grid-cols-2 gap-4\">\r\n                                    <div>\r\n                                        <p className=\"text-sm font-semibold text-gray-700\">Date/Time</p>\r\n                                        <p className=\"text-gray-900\">{new Date(selectedLog.performed_at).toLocaleString()}</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p className=\"text-sm font-semibold text-gray-700\">User</p>\r\n                                        <p className=\"text-gray-900\">{selectedLog.user_email || 'System'}</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p className=\"text-sm font-semibold text-gray-700\">Action Type</p>\r\n                                        <p className=\"text-gray-900\">{selectedLog.action_type}</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p className=\"text-sm font-semibold text-gray-700\">Resource</p>\r\n                                        <p className=\"text-gray-900\">{selectedLog.resource_type} #{selectedLog.resource_id}</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p className=\"text-sm font-semibold text-gray-700\">Risk Level</p>\r\n                                        <span className={`px-2 py-1 rounded text-xs font-semibold ${getRiskColor(selectedLog.risk_level)}`}>\r\n                                            {selectedLog.risk_level}\r\n                                        </span>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p className=\"text-sm font-semibold text-gray-700\">Status</p>\r\n                                        <p className=\"text-gray-900\">{selectedLog.status}</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p className=\"text-sm font-semibold text-gray-700\">IP Address</p>\r\n                                        <p className=\"text-gray-900\">{selectedLog.ip_address}</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p className=\"text-sm font-semibold text-gray-700\">Sensitive Data</p>\r\n                                        <p className=\"text-gray-900\">{selectedLog.is_sensitive ? 'Yes' : 'No'}</p>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <p className=\"text-sm font-semibold text-gray-700 mb-2\">Description</p>\r\n                                    <p className=\"text-gray-900 bg-gray-50 p-3 rounded\">{selectedLog.action_description}</p>\r\n                                </div>\r\n\r\n                                {selectedLog.old_values && (\r\n                                    <div>\r\n                                        <p className=\"text-sm font-semibold text-gray-700 mb-2\">Previous Values</p>\r\n                                        <pre className=\"bg-gray-50 p-3 rounded text-xs overflow-x-auto\">\r\n                                            {JSON.stringify(selectedLog.old_values, null, 2)}\r\n                                        </pre>\r\n                                    </div>\r\n                                )}\r\n\r\n                                {selectedLog.new_values && (\r\n                                    <div>\r\n                                        <p className=\"text-sm font-semibold text-gray-700 mb-2\">New Values</p>\r\n                                        <pre className=\"bg-gray-50 p-3 rounded text-xs overflow-x-auto\">\r\n                                            {JSON.stringify(selectedLog.new_values, null, 2)}\r\n                                        </pre>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n\r\n                            <button\r\n                                onClick={() => setShowDetailsModal(false)}\r\n                                className=\"mt-6 w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-semibold\"\r\n                            >\r\n                                Close\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AuditTrailViewer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}