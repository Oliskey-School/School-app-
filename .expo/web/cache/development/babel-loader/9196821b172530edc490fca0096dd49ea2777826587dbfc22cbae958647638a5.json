{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\OneDrive\\\\Desktop\\\\Project\\\\school-app-\\\\components\\\\teacher\\\\TeacherReportsScreen.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport { ChevronLeftIcon, AIIcon } from '../../constants';\nimport { supabase } from '../../lib/supabase';\nimport { useProfile } from '../../context/ProfileContext';\nimport { useTeacherClasses } from '../../hooks/useTeacherClasses';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TeacherReportsScreen = ({\n  navigateTo,\n  teacherId\n}) => {\n  const [selectedClass, setSelectedClass] = useState(null);\n  const [students, setStudents] = useState([]);\n  const {\n    classes,\n    loading: loadingClasses\n  } = useTeacherClasses(teacherId);\n  const [loadingStudents, setLoadingStudents] = useState(false);\n  const loading = loadingClasses || loadingStudents;\n  const {\n    profile\n  } = useProfile();\n  useEffect(() => {\n    if (!selectedClass) return;\n    const fetchStudentsAndStats = async () => {\n      setLoadingStudents(true);\n      try {\n        const {\n          data: studentsData\n        } = await supabase.from('students').select('*').eq('grade', selectedClass.grade).eq('section', selectedClass.section);\n        if (!studentsData) {\n          setStudents([]);\n          return;\n        }\n        const studentsWithStats = await Promise.all(studentsData.map(async s => {\n          const {\n            data: performance\n          } = await supabase.from('academic_performance').select('subject, score').eq('student_id', s.id);\n          const avgScore = performance && performance.length > 0 ? Math.round(performance.reduce((acc, curr) => acc + curr.score, 0) / performance.length) : 0;\n          const {\n            count: totalAttendance\n          } = await supabase.from('student_attendance').select('*', {\n            count: 'exact',\n            head: true\n          }).eq('student_id', s.id);\n          const {\n            count: presentAttendance\n          } = await supabase.from('student_attendance').select('*', {\n            count: 'exact',\n            head: true\n          }).eq('student_id', s.id).in('status', ['Present', 'Late']);\n          const attendancePct = totalAttendance && totalAttendance > 0 ? Math.round((presentAttendance || 0) / totalAttendance * 100) : 100;\n          return Object.assign({}, s, {\n            name: s.name,\n            avatarUrl: s.avatar_url,\n            gradeAverage: avgScore,\n            attendancePercentage: attendancePct,\n            academicPerformance: performance\n          });\n        }));\n        setStudents(studentsWithStats);\n      } catch (err) {\n        console.error(err);\n      } finally {\n        setLoadingStudents(false);\n      }\n    };\n    fetchStudentsAndStats();\n  }, [selectedClass]);\n  if (loading && !selectedClass && classes.length === 0) return _jsxDEV(\"div\", {\n    className: \"p-10 text-center\",\n    children: \"Loading classes...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 67\n  }, this);\n  if (!selectedClass) {\n    return _jsxDEV(\"div\", {\n      className: \"p-4 space-y-4\",\n      children: [_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-gray-800\",\n        children: \"Select a Class to View Reports\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), _jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\",\n        children: classes.map(cls => _jsxDEV(\"button\", {\n          onClick: () => setSelectedClass(cls),\n          className: \"p-6 bg-white rounded-xl shadow-sm text-center hover:bg-purple-50 transition-colors flex flex-col items-center justify-center space-y-2\",\n          children: [_jsxDEV(\"p\", {\n            className: \"font-bold text-2xl text-purple-700\",\n            children: [\"Grade \", cls.grade, cls.section]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 29\n          }, this), _jsxDEV(\"p\", {\n            className: \"text-sm font-medium text-gray-700\",\n            children: cls.subject\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 29\n          }, this), _jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500\",\n            children: [cls.studentCount, \" Students\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 29\n          }, this)]\n        }, cls.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this);\n  }\n  return _jsxDEV(\"div\", {\n    className: \"flex flex-col h-full bg-gray-100\",\n    children: [_jsxDEV(\"header\", {\n      className: \"p-4 bg-white border-b border-gray-200\",\n      children: [_jsxDEV(\"button\", {\n        onClick: () => setSelectedClass(null),\n        className: \"flex items-center space-x-1 text-sm font-semibold text-purple-600 hover:text-purple-800\",\n        children: [_jsxDEV(ChevronLeftIcon, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this), _jsxDEV(\"span\", {\n          children: \"All Classes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this), _jsxDEV(\"div\", {\n        className: \"mt-2\",\n        children: _jsxDEV(\"h2\", {\n          className: \"text-xl font-bold text-gray-800\",\n          children: [\"Reports: Grade \", selectedClass.grade, selectedClass.section]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this), _jsxDEV(\"button\", {\n        onClick: () => navigateTo('aiPerformanceSummary', 'AI Class Summary', {\n          students: students\n        }),\n        className: \"mt-3 w-full flex items-center justify-center space-x-2 py-2 px-4 bg-purple-600 text-white font-semibold rounded-xl shadow-md hover:bg-purple-700 transition-colors\",\n        children: [_jsxDEV(AIIcon, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this), _jsxDEV(\"span\", {\n          children: \"Generate AI Class Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this), _jsxDEV(\"main\", {\n      className: \"flex-grow p-4 space-y-3 overflow-y-auto\",\n      children: loading ? _jsxDEV(\"div\", {\n        className: \"text-center py-4\",\n        children: \"Loading student data...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 28\n      }, this) : students.length > 0 ? students.map(student => _jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-sm p-3 flex items-center space-x-3\",\n        children: [student.avatarUrl ? _jsxDEV(\"img\", {\n          src: student.avatarUrl,\n          alt: student.name,\n          className: \"w-12 h-12 rounded-full object-cover\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 33\n        }, this) : _jsxDEV(\"div\", {\n          className: \"w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-500 font-bold\",\n          children: student.name.charAt(0)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 33\n        }, this), _jsxDEV(\"div\", {\n          className: \"flex-grow\",\n          children: [_jsxDEV(\"p\", {\n            className: \"font-bold text-gray-800\",\n            children: student.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 33\n          }, this), _jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3 text-sm text-gray-500\",\n            children: [_jsxDEV(\"span\", {\n              children: [\"Avg Score: \", _jsxDEV(\"span\", {\n                className: \"font-semibold text-purple-700\",\n                children: [student.gradeAverage, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 54\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 37\n            }, this), _jsxDEV(\"span\", {\n              children: [\"Attendance: \", _jsxDEV(\"span\", {\n                className: \"font-semibold text-purple-700\",\n                children: [student.attendancePercentage, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 55\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 29\n        }, this)]\n      }, student.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 25\n      }, this)) : _jsxDEV(\"div\", {\n        className: \"text-center py-10 text-gray-500\",\n        children: \"No students in this class.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 26\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 9\n  }, this);\n};\nexport default TeacherReportsScreen;","map":{"version":3,"names":["React","useState","useEffect","ChevronLeftIcon","AIIcon","supabase","useProfile","useTeacherClasses","jsxDEV","_jsxDEV","TeacherReportsScreen","navigateTo","teacherId","selectedClass","setSelectedClass","students","setStudents","classes","loading","loadingClasses","loadingStudents","setLoadingStudents","profile","fetchStudentsAndStats","data","studentsData","from","select","eq","grade","section","studentsWithStats","Promise","all","map","s","performance","id","avgScore","length","Math","round","reduce","acc","curr","score","count","totalAttendance","head","presentAttendance","in","attendancePct","Object","assign","name","avatarUrl","avatar_url","gradeAverage","attendancePercentage","academicPerformance","err","console","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","cls","onClick","subject","studentCount","student","src","alt","charAt"],"sources":["C:/Users/USER/OneDrive/Desktop/Project/school-app-/components/teacher/TeacherReportsScreen.tsx"],"sourcesContent":["\r\nimport React, { useState, useMemo, useEffect } from 'react';\r\nimport { Student, ClassInfo } from '../../types';\r\nimport { ChevronLeftIcon, AIIcon, getFormattedClassName } from '../../constants';\r\nimport { supabase } from '../../lib/supabase';\r\nimport { useProfile } from '../../context/ProfileContext';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { useTeacherClasses } from '../../hooks/useTeacherClasses';\r\n\r\ninterface TeacherReportsScreenProps {\r\n    navigateTo: (view: string, title: string, props: any) => void;\r\n    teacherId?: number | null;\r\n}\r\n\r\nconst TeacherReportsScreen: React.FC<TeacherReportsScreenProps> = ({ navigateTo, teacherId }) => {\r\n    const [selectedClass, setSelectedClass] = useState<ClassInfo | null>(null);\r\n    const [students, setStudents] = useState<Student[]>([]);\r\n\r\n    // New Hook for classes\r\n    const { classes, loading: loadingClasses } = useTeacherClasses(teacherId);\r\n    const [loadingStudents, setLoadingStudents] = useState(false);\r\n\r\n    // Combine loading states\r\n    const loading = loadingClasses || loadingStudents;\r\n\r\n    const { profile } = useProfile();\r\n\r\n    // Fetch Students & Stats when class selected\r\n    useEffect(() => {\r\n        if (!selectedClass) return;\r\n\r\n        const fetchStudentsAndStats = async () => {\r\n            setLoadingStudents(true);\r\n            try {\r\n                // 1. Fetch Students\r\n                const { data: studentsData } = await supabase\r\n                    .from('students')\r\n                    .select('*')\r\n                    .eq('grade', selectedClass.grade)\r\n                    .eq('section', selectedClass.section);\r\n\r\n                if (!studentsData) {\r\n                    setStudents([]);\r\n                    return;\r\n                }\r\n\r\n                const studentsWithStats = await Promise.all(studentsData.map(async (s: any) => {\r\n                    // 2. Fetch Performance\r\n                    const { data: performance } = await supabase\r\n                        .from('academic_performance')\r\n                        .select('subject, score')\r\n                        .eq('student_id', s.id);\r\n\r\n                    const avgScore = performance && performance.length > 0\r\n                        ? Math.round(performance.reduce((acc, curr) => acc + curr.score, 0) / performance.length)\r\n                        : 0;\r\n\r\n                    // 3. Fetch Attendance\r\n                    const { count: totalAttendance } = await supabase\r\n                        .from('student_attendance')\r\n                        .select('*', { count: 'exact', head: true })\r\n                        .eq('student_id', s.id);\r\n\r\n                    const { count: presentAttendance } = await supabase\r\n                        .from('student_attendance')\r\n                        .select('*', { count: 'exact', head: true })\r\n                        .eq('student_id', s.id)\r\n                        .in('status', ['Present', 'Late']);\r\n\r\n                    const attendancePct = totalAttendance && totalAttendance > 0\r\n                        ? Math.round(((presentAttendance || 0) / totalAttendance) * 100)\r\n                        : 100;\r\n\r\n                    return {\r\n                        ...s,\r\n                        name: s.name,\r\n                        avatarUrl: s.avatar_url,\r\n                        gradeAverage: avgScore,\r\n                        attendancePercentage: attendancePct,\r\n                        academicPerformance: performance\r\n                    };\r\n                }));\r\n\r\n                setStudents(studentsWithStats as any);\r\n            } catch (err) {\r\n                console.error(err);\r\n            } finally {\r\n                setLoadingStudents(false);\r\n            }\r\n        };\r\n        fetchStudentsAndStats();\r\n\r\n    }, [selectedClass]);\r\n\r\n    if (loading && !selectedClass && classes.length === 0) return <div className=\"p-10 text-center\">Loading classes...</div>;\r\n\r\n    if (!selectedClass) {\r\n        return (\r\n            <div className=\"p-4 space-y-4\">\r\n                <h3 className=\"text-xl font-bold text-gray-800\">Select a Class to View Reports</h3>\r\n                <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\r\n                    {classes.map(cls => (\r\n                        <button key={cls.id} onClick={() => setSelectedClass(cls)} className=\"p-6 bg-white rounded-xl shadow-sm text-center hover:bg-purple-50 transition-colors flex flex-col items-center justify-center space-y-2\">\r\n                            <p className=\"font-bold text-2xl text-purple-700\">Grade {cls.grade}{cls.section}</p>\r\n                            <p className=\"text-sm font-medium text-gray-700\">{cls.subject}</p>\r\n                            <p className=\"text-xs text-gray-500\">{cls.studentCount} Students</p>\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex flex-col h-full bg-gray-100\">\r\n            <header className=\"p-4 bg-white border-b border-gray-200\">\r\n                <button onClick={() => setSelectedClass(null)} className=\"flex items-center space-x-1 text-sm font-semibold text-purple-600 hover:text-purple-800\">\r\n                    <ChevronLeftIcon className=\"w-5 h-5\" />\r\n                    <span>All Classes</span>\r\n                </button>\r\n                <div className=\"mt-2\">\r\n                    <h2 className=\"text-xl font-bold text-gray-800\">Reports: Grade {selectedClass.grade}{selectedClass.section}</h2>\r\n                </div>\r\n                <button\r\n                    onClick={() => navigateTo('aiPerformanceSummary', 'AI Class Summary', { students: students })}\r\n                    className=\"mt-3 w-full flex items-center justify-center space-x-2 py-2 px-4 bg-purple-600 text-white font-semibold rounded-xl shadow-md hover:bg-purple-700 transition-colors\">\r\n                    <AIIcon className=\"w-5 h-5\" />\r\n                    <span>Generate AI Class Summary</span>\r\n                </button>\r\n            </header>\r\n            <main className=\"flex-grow p-4 space-y-3 overflow-y-auto\">\r\n                {loading ? <div className=\"text-center py-4\">Loading student data...</div> : (\r\n                    students.length > 0 ? students.map((student: any) => (\r\n                        <div key={student.id} className=\"bg-white rounded-xl shadow-sm p-3 flex items-center space-x-3\">\r\n                            {student.avatarUrl ? (\r\n                                <img src={student.avatarUrl} alt={student.name} className=\"w-12 h-12 rounded-full object-cover\" />\r\n                            ) : (\r\n                                <div className=\"w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-500 font-bold\">\r\n                                    {student.name.charAt(0)}\r\n                                </div>\r\n                            )}\r\n                            <div className=\"flex-grow\">\r\n                                <p className=\"font-bold text-gray-800\">{student.name}</p>\r\n                                <div className=\"flex items-center space-x-3 text-sm text-gray-500\">\r\n                                    <span>Avg Score: <span className=\"font-semibold text-purple-700\">{student.gradeAverage}%</span></span>\r\n                                    <span>Attendance: <span className=\"font-semibold text-purple-700\">{student.attendancePercentage}%</span></span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )) : <div className=\"text-center py-10 text-gray-500\">No students in this class.</div>\r\n                )}\r\n            </main>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TeacherReportsScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}