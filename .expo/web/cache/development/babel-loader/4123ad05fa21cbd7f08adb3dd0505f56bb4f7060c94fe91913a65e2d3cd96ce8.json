{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\OneDrive\\\\Desktop\\\\Project\\\\school-app-\\\\components\\\\student\\\\AttendanceScreen.tsx\";\nimport React, { useState, useMemo, useEffect } from 'react';\nimport { supabase } from '../../lib/supabase';\nimport { ChevronLeftIcon, ChevronRightIcon } from '../../constants';\nimport DonutChart from '../ui/DonutChart';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst attendanceColors = {\n  Present: 'bg-green-400 text-white',\n  Absent: 'bg-red-400 text-white',\n  Late: 'bg-blue-400 text-white',\n  Leave: 'bg-gray-200 text-gray-500'\n};\nconst SimpleLineChart = ({\n  data,\n  color\n}) => {\n  const width = 320;\n  const height = 150;\n  const padding = 30;\n  const maxValue = 100;\n  const stepX = (width - padding * 2) / (data.length - 1);\n  const stepY = (height - padding * 2) / maxValue;\n  const points = data.map((d, i) => `${padding + i * stepX},${height - padding - d.percentage * stepY}`).join(' ');\n  return _jsxDEV(\"div\", {\n    className: \"relative\",\n    children: [_jsxDEV(\"svg\", {\n      viewBox: `0 0 ${width} ${height}`,\n      className: \"w-full h-auto\",\n      children: [[0, 25, 50, 75, 100].map(val => _jsxDEV(\"g\", {\n        children: [_jsxDEV(\"line\", {\n          x1: padding,\n          y1: height - padding - val * stepY,\n          x2: width - padding,\n          y2: height - padding - val * stepY,\n          stroke: \"#e5e7eb\",\n          strokeWidth: \"1\",\n          strokeDasharray: \"2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 25\n        }, this), _jsxDEV(\"text\", {\n          x: padding - 5,\n          y: height - padding - val * stepY + 3,\n          textAnchor: \"end\",\n          fontSize: \"10\",\n          fill: \"#6b7280\",\n          children: [val, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 25\n        }, this)]\n      }, val, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 21\n      }, this)), _jsxDEV(\"polyline\", {\n        fill: \"none\",\n        stroke: color,\n        strokeWidth: \"2.5\",\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        points: points\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this), data.map((d, i) => _jsxDEV(\"circle\", {\n        cx: padding + i * stepX,\n        cy: height - padding - d.percentage * stepY,\n        r: \"4\",\n        fill: \"white\",\n        stroke: color,\n        strokeWidth: \"2\"\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this), _jsxDEV(\"div\", {\n      className: \"flex justify-between -mt-4\",\n      style: {\n        paddingLeft: `${padding - 10}px`,\n        paddingRight: `${padding - 10}px`\n      },\n      children: data.map(item => _jsxDEV(\"span\", {\n        className: \"text-xs text-gray-500 font-medium\",\n        children: item.month\n      }, item.month, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 35\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 9\n  }, this);\n};\nconst AttendanceScreen = ({\n  studentId\n}) => {\n  const [currentDate, setCurrentDate] = useState(new Date());\n  const [attendanceData, setAttendanceData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchAttendance = async () => {\n      try {\n        const {\n          data,\n          error\n        } = await supabase.from('student_attendance').select('*').eq('student_id', studentId);\n        if (error) throw error;\n        if (data) {\n          const formatted = data.map(d => ({\n            id: d.id,\n            studentId: d.student_id,\n            date: d.date,\n            status: d.status,\n            remarks: d.remarks\n          }));\n          setAttendanceData(formatted);\n        }\n      } catch (err) {\n        console.error('Error fetching attendance:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchAttendance();\n    const channel = supabase.channel(`student_attendance_${studentId}`).on('postgres_changes', {\n      event: '*',\n      schema: 'public',\n      table: 'student_attendance',\n      filter: `student_id=eq.${studentId}`\n    }, () => {\n      fetchAttendance();\n    }).subscribe();\n    return () => {\n      supabase.removeChannel(channel);\n    };\n  }, [studentId]);\n  const studentData = useMemo(() => attendanceData, [attendanceData]);\n  const attendanceMap = useMemo(() => {\n    const map = new Map();\n    studentData.forEach(att => map.set(att.date, att.status));\n    return map;\n  }, [studentData]);\n  const firstDayOfMonth = useMemo(() => new Date(currentDate.getFullYear(), currentDate.getMonth(), 1), [currentDate]);\n  const daysInMonth = useMemo(() => new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0).getDate(), [currentDate]);\n  const startingDayIndex = firstDayOfMonth.getDay();\n  const goToPreviousMonth = () => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() - 1, 1));\n  const goToNextMonth = () => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 1));\n  const monthlyStats = useMemo(() => {\n    let present = 0,\n      absent = 0,\n      late = 0,\n      leave = 0;\n    for (let day = 1; day <= daysInMonth; day++) {\n      const date = new Date(currentDate.getFullYear(), currentDate.getMonth(), day);\n      const dateString = date.toISOString().split('T')[0];\n      const status = attendanceMap.get(dateString);\n      if (status === 'Present') present++;else if (status === 'Absent') absent++;else if (status === 'Late') late++;else if (status === 'Leave') leave++;\n    }\n    return {\n      present,\n      absent,\n      late,\n      leave\n    };\n  }, [currentDate, attendanceMap, daysInMonth]);\n  const termStats = useMemo(() => {\n    const schoolDays = studentData.filter(d => d.status !== 'Leave');\n    const presentDays = schoolDays.filter(d => d.status === 'Present' || d.status === 'Late').length;\n    const percentage = schoolDays.length > 0 ? Math.round(presentDays / schoolDays.length * 100) : 0;\n    const monthlyTrends = {};\n    studentData.forEach(d => {\n      if (d.status !== 'Leave') {\n        const month = new Date(d.date).toLocaleString('default', {\n          month: 'short'\n        });\n        if (!monthlyTrends[month]) {\n          monthlyTrends[month] = {\n            present: 0,\n            total: 0\n          };\n        }\n        monthlyTrends[month].total++;\n        if (d.status === 'Present' || d.status === 'Late') {\n          monthlyTrends[month].present++;\n        }\n      }\n    });\n    const trendData = Object.entries(monthlyTrends).map(([month, data]) => ({\n      month,\n      percentage: Math.round(data.present / data.total * 100)\n    })).sort((a, b) => new Date(`1 ${a.month} 2024`) > new Date(`1 ${b.month} 2024`) ? 1 : -1).slice(-4);\n    return {\n      percentage,\n      trendData\n    };\n  }, [studentData]);\n  if (loading) return _jsxDEV(\"div\", {\n    className: \"p-8 text-center text-gray-500\",\n    children: \"Loading attendance data...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 158,\n    columnNumber: 25\n  }, this);\n  return _jsxDEV(\"div\", {\n    className: \"p-4 space-y-5 bg-gray-50\",\n    children: [_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-sm p-4\",\n      children: [_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [_jsxDEV(\"button\", {\n          onClick: goToPreviousMonth,\n          className: \"p-2 rounded-full hover:bg-gray-100\",\n          \"aria-label\": \"Previous month\",\n          children: _jsxDEV(ChevronLeftIcon, {\n            className: \"h-5 w-5 text-gray-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 132\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }, this), _jsxDEV(\"h3\", {\n          className: \"font-bold text-lg text-gray-800\",\n          children: currentDate.toLocaleString('default', {\n            month: 'long',\n            year: 'numeric'\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }, this), _jsxDEV(\"button\", {\n          onClick: goToNextMonth,\n          className: \"p-2 rounded-full hover:bg-gray-100\",\n          \"aria-label\": \"Next month\",\n          children: _jsxDEV(ChevronRightIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 124\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }, this), _jsxDEV(\"div\", {\n        className: \"grid grid-cols-7 gap-1 text-center text-xs font-semibold text-gray-500 mb-2\",\n        children: ['S', 'M', 'T', 'W', 'T', 'F', 'S'].map(day => _jsxDEV(\"div\", {\n          children: day\n        }, day, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 69\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }, this), _jsxDEV(\"div\", {\n        className: \"grid grid-cols-7 gap-2\",\n        children: [Array.from({\n          length: startingDayIndex\n        }).map((_, index) => _jsxDEV(\"div\", {}, `empty-${index}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 81\n        }, this)), Array.from({\n          length: daysInMonth\n        }).map((_, index) => {\n          const day = index + 1;\n          const date = new Date(currentDate.getFullYear(), currentDate.getMonth(), day);\n          const dateString = date.toISOString().split('T')[0];\n          const status = attendanceMap.get(dateString);\n          return _jsxDEV(\"div\", {\n            className: `w-9 h-9 flex items-center justify-center rounded-full text-sm font-semibold ${status ? attendanceColors[status] : 'bg-gray-100 text-gray-400'}`,\n            children: day\n          }, day, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 29\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }, this), _jsxDEV(\"div\", {\n      className: \"grid grid-cols-3 gap-3 text-center\",\n      children: [_jsxDEV(\"div\", {\n        className: \"bg-white p-3 rounded-xl shadow-sm\",\n        children: [_jsxDEV(\"p\", {\n          className: \"font-bold text-lg text-green-600\",\n          children: monthlyStats.present\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 68\n        }, this), _jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500\",\n          children: \"Present\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 142\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }, this), _jsxDEV(\"div\", {\n        className: \"bg-white p-3 rounded-xl shadow-sm\",\n        children: [_jsxDEV(\"p\", {\n          className: \"font-bold text-lg text-red-600\",\n          children: monthlyStats.absent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 68\n        }, this), _jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500\",\n          children: \"Absent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 139\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }, this), _jsxDEV(\"div\", {\n        className: \"bg-white p-3 rounded-xl shadow-sm\",\n        children: [_jsxDEV(\"p\", {\n          className: \"font-bold text-lg text-blue-600\",\n          children: monthlyStats.late\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 68\n        }, this), _jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500\",\n          children: \"Late\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 138\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }, this), _jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-sm p-4\",\n      children: [_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-2\",\n        children: [_jsxDEV(\"h3\", {\n          className: \"font-bold text-gray-800\",\n          children: \"Term Attendance Trend\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 21\n        }, this), _jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [_jsxDEV(DonutChart, {\n            percentage: termStats.percentage,\n            color: \"#FF9800\",\n            size: 60,\n            strokeWidth: 7\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 25\n          }, this), _jsxDEV(\"div\", {\n            className: \"absolute inset-0 flex flex-col items-center justify-center\",\n            children: _jsxDEV(\"span\", {\n              className: \"text-lg font-bold text-gray-800\",\n              children: [termStats.percentage, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }, this), _jsxDEV(SimpleLineChart, {\n        data: termStats.trendData,\n        color: \"#FF9800\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 161,\n    columnNumber: 9\n  }, this);\n};\nexport default AttendanceScreen;","map":{"version":3,"names":["React","useState","useMemo","useEffect","supabase","ChevronLeftIcon","ChevronRightIcon","DonutChart","jsxDEV","_jsxDEV","attendanceColors","Present","Absent","Late","Leave","SimpleLineChart","data","color","width","height","padding","maxValue","stepX","length","stepY","points","map","d","i","percentage","join","className","children","viewBox","val","x1","y1","x2","y2","stroke","strokeWidth","strokeDasharray","fileName","_jsxFileName","lineNumber","columnNumber","x","y","textAnchor","fontSize","fill","strokeLinecap","strokeLinejoin","cx","cy","r","style","paddingLeft","paddingRight","item","month","AttendanceScreen","studentId","currentDate","setCurrentDate","Date","attendanceData","setAttendanceData","loading","setLoading","fetchAttendance","error","from","select","eq","formatted","id","student_id","date","status","remarks","err","console","channel","on","event","schema","table","filter","subscribe","removeChannel","studentData","attendanceMap","Map","forEach","att","set","firstDayOfMonth","getFullYear","getMonth","daysInMonth","getDate","startingDayIndex","getDay","goToPreviousMonth","goToNextMonth","monthlyStats","present","absent","late","leave","day","dateString","toISOString","split","get","termStats","schoolDays","presentDays","Math","round","monthlyTrends","toLocaleString","total","trendData","Object","entries","sort","a","b","slice","onClick","year","Array","_","index","size"],"sources":["C:/Users/USER/OneDrive/Desktop/Project/school-app-/components/student/AttendanceScreen.tsx"],"sourcesContent":["import React, { useState, useMemo, useEffect } from 'react';\r\nimport { StudentAttendance, AttendanceStatus } from '../../types';\r\nimport { supabase } from '../../lib/supabase';\r\nimport { ChevronLeftIcon, ChevronRightIcon, CheckCircleIcon, XCircleIcon, ClockIcon } from '../../constants';\r\nimport DonutChart from '../ui/DonutChart';\r\n\r\nconst attendanceColors: { [key in AttendanceStatus]: string } = {\r\n    Present: 'bg-green-400 text-white',\r\n    Absent: 'bg-red-400 text-white',\r\n    Late: 'bg-blue-400 text-white',\r\n    Leave: 'bg-gray-200 text-gray-500', // For weekends/holidays\r\n};\r\n\r\nconst SimpleLineChart = ({ data, color }: { data: { month: string, percentage: number }[], color: string }) => {\r\n    const width = 320;\r\n    const height = 150;\r\n    const padding = 30;\r\n    const maxValue = 100;\r\n    const stepX = (width - padding * 2) / (data.length - 1);\r\n    const stepY = (height - padding * 2) / maxValue;\r\n    const points = data.map((d, i) => `${padding + i * stepX},${height - padding - d.percentage * stepY}`).join(' ');\r\n\r\n    return (\r\n        <div className=\"relative\">\r\n            <svg viewBox={`0 0 ${width} ${height}`} className=\"w-full h-auto\">\r\n                {/* Y-axis lines and labels */}\r\n                {[0, 25, 50, 75, 100].map(val => (\r\n                    <g key={val}>\r\n                        <line x1={padding} y1={height - padding - val * stepY} x2={width - padding} y2={height - padding - val * stepY} stroke=\"#e5e7eb\" strokeWidth=\"1\" strokeDasharray=\"2\" />\r\n                        <text x={padding - 5} y={height - padding - val * stepY + 3} textAnchor=\"end\" fontSize=\"10\" fill=\"#6b7280\">{val}%</text>\r\n                    </g>\r\n                ))}\r\n\r\n                <polyline fill=\"none\" stroke={color} strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" points={points} />\r\n                {data.map((d, i) => (\r\n                    <circle key={i} cx={padding + i * stepX} cy={height - padding - d.percentage * stepY} r=\"4\" fill=\"white\" stroke={color} strokeWidth=\"2\" />\r\n                ))}\r\n            </svg>\r\n            <div className=\"flex justify-between -mt-4\" style={{ paddingLeft: `${padding - 10}px`, paddingRight: `${padding - 10}px` }}>\r\n                {data.map(item => <span key={item.month} className=\"text-xs text-gray-500 font-medium\">{item.month}</span>)}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\ninterface AttendanceScreenProps {\r\n    studentId: number;\r\n}\r\n\r\nconst AttendanceScreen: React.FC<AttendanceScreenProps> = ({ studentId }) => {\r\n    const [currentDate, setCurrentDate] = useState(new Date());\r\n    const [attendanceData, setAttendanceData] = useState<StudentAttendance[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const fetchAttendance = async () => {\r\n            // Mock fallback for now to ensure UI shows something if table is empty, \r\n            // but strictly we should fetch.\r\n            try {\r\n                const { data, error } = await supabase\r\n                    .from('student_attendance')\r\n                    .select('*')\r\n                    .eq('student_id', studentId);\r\n\r\n                if (error) throw error;\r\n                if (data) {\r\n                    // Map to ensure it matches StudentAttendance type if needed, \r\n                    // assuming DB columns match: id, studentId, date, status, remarks\r\n                    // If DB uses snack_case (student_id), we might need to map.\r\n                    const formatted: StudentAttendance[] = data.map((d: any) => ({\r\n                        id: d.id,\r\n                        studentId: d.student_id,\r\n                        date: d.date,\r\n                        status: d.status,\r\n                        remarks: d.remarks\r\n                    }));\r\n                    setAttendanceData(formatted);\r\n                }\r\n            } catch (err) {\r\n                console.error('Error fetching attendance:', err);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchAttendance();\r\n        // Realtime Subscription\r\n        const channel = supabase.channel(`student_attendance_${studentId}`)\r\n            .on('postgres_changes', { event: '*', schema: 'public', table: 'student_attendance', filter: `student_id=eq.${studentId}` }, () => {\r\n                fetchAttendance();\r\n            })\r\n            .subscribe();\r\n\r\n        return () => {\r\n            supabase.removeChannel(channel);\r\n        };\r\n    }, [studentId]);\r\n\r\n    const studentData = useMemo(() => attendanceData, [attendanceData]);\r\n\r\n    const attendanceMap = useMemo(() => {\r\n        const map = new Map<string, AttendanceStatus>();\r\n        studentData.forEach(att => map.set(att.date, att.status));\r\n        return map;\r\n    }, [studentData]);\r\n\r\n    const firstDayOfMonth = useMemo(() => new Date(currentDate.getFullYear(), currentDate.getMonth(), 1), [currentDate]);\r\n    const daysInMonth = useMemo(() => new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0).getDate(), [currentDate]);\r\n    const startingDayIndex = firstDayOfMonth.getDay();\r\n\r\n    const goToPreviousMonth = () => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() - 1, 1));\r\n    const goToNextMonth = () => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 1));\r\n\r\n    const monthlyStats = useMemo(() => {\r\n        let present = 0, absent = 0, late = 0, leave = 0;\r\n        for (let day = 1; day <= daysInMonth; day++) {\r\n            const date = new Date(currentDate.getFullYear(), currentDate.getMonth(), day);\r\n            const dateString = date.toISOString().split('T')[0];\r\n            const status = attendanceMap.get(dateString);\r\n            if (status === 'Present') present++;\r\n            else if (status === 'Absent') absent++;\r\n            else if (status === 'Late') late++;\r\n            else if (status === 'Leave') leave++;\r\n        }\r\n        return { present, absent, late, leave };\r\n    }, [currentDate, attendanceMap, daysInMonth]);\r\n\r\n    const termStats = useMemo(() => {\r\n        const schoolDays = studentData.filter(d => d.status !== 'Leave');\r\n        const presentDays = schoolDays.filter(d => d.status === 'Present' || d.status === 'Late').length;\r\n        const percentage = schoolDays.length > 0 ? Math.round((presentDays / schoolDays.length) * 100) : 0;\r\n\r\n        const monthlyTrends: { [month: string]: { present: number, total: number } } = {};\r\n        studentData.forEach(d => {\r\n            if (d.status !== 'Leave') {\r\n                const month = new Date(d.date).toLocaleString('default', { month: 'short' });\r\n                if (!monthlyTrends[month]) {\r\n                    monthlyTrends[month] = { present: 0, total: 0 };\r\n                }\r\n                monthlyTrends[month].total++;\r\n                if (d.status === 'Present' || d.status === 'Late') {\r\n                    monthlyTrends[month].present++;\r\n                }\r\n            }\r\n        });\r\n\r\n        const trendData = Object.entries(monthlyTrends)\r\n            .map(([month, data]) => ({ month, percentage: Math.round((data.present / data.total) * 100) }))\r\n            // This is a simplistic sort, a better one would handle year changes\r\n            .sort((a, b) => new Date(`1 ${a.month} 2024`) > new Date(`1 ${b.month} 2024`) ? 1 : -1)\r\n            .slice(-4); // Get last 4 months\r\n\r\n        return { percentage, trendData };\r\n\r\n    }, [studentData]);\r\n\r\n    if (loading) return <div className=\"p-8 text-center text-gray-500\">Loading attendance data...</div>;\r\n\r\n    return (\r\n        <div className=\"p-4 space-y-5 bg-gray-50\">\r\n            {/* Calendar */}\r\n            <div className=\"bg-white rounded-xl shadow-sm p-4\">\r\n                <div className=\"flex justify-between items-center mb-4\">\r\n                    <button onClick={goToPreviousMonth} className=\"p-2 rounded-full hover:bg-gray-100\" aria-label=\"Previous month\"><ChevronLeftIcon className=\"h-5 w-5 text-gray-600\" /></button>\r\n                    <h3 className=\"font-bold text-lg text-gray-800\">{currentDate.toLocaleString('default', { month: 'long', year: 'numeric' })}</h3>\r\n                    <button onClick={goToNextMonth} className=\"p-2 rounded-full hover:bg-gray-100\" aria-label=\"Next month\"><ChevronRightIcon /></button>\r\n                </div>\r\n                <div className=\"grid grid-cols-7 gap-1 text-center text-xs font-semibold text-gray-500 mb-2\">\r\n                    {['S', 'M', 'T', 'W', 'T', 'F', 'S'].map(day => <div key={day}>{day}</div>)}\r\n                </div>\r\n                <div className=\"grid grid-cols-7 gap-2\">\r\n                    {Array.from({ length: startingDayIndex }).map((_, index) => <div key={`empty-${index}`} />)}\r\n                    {Array.from({ length: daysInMonth }).map((_, index) => {\r\n                        const day = index + 1;\r\n                        const date = new Date(currentDate.getFullYear(), currentDate.getMonth(), day);\r\n                        const dateString = date.toISOString().split('T')[0];\r\n                        const status = attendanceMap.get(dateString);\r\n                        return (\r\n                            <div key={day} className={`w-9 h-9 flex items-center justify-center rounded-full text-sm font-semibold ${status ? attendanceColors[status] : 'bg-gray-100 text-gray-400'}`}>\r\n                                {day}\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Monthly Stats */}\r\n            <div className=\"grid grid-cols-3 gap-3 text-center\">\r\n                <div className=\"bg-white p-3 rounded-xl shadow-sm\"><p className=\"font-bold text-lg text-green-600\">{monthlyStats.present}</p><p className=\"text-xs text-gray-500\">Present</p></div>\r\n                <div className=\"bg-white p-3 rounded-xl shadow-sm\"><p className=\"font-bold text-lg text-red-600\">{monthlyStats.absent}</p><p className=\"text-xs text-gray-500\">Absent</p></div>\r\n                <div className=\"bg-white p-3 rounded-xl shadow-sm\"><p className=\"font-bold text-lg text-blue-600\">{monthlyStats.late}</p><p className=\"text-xs text-gray-500\">Late</p></div>\r\n            </div>\r\n\r\n            {/* Term Trend */}\r\n            <div className=\"bg-white rounded-xl shadow-sm p-4\">\r\n                <div className=\"flex justify-between items-center mb-2\">\r\n                    <h3 className=\"font-bold text-gray-800\">Term Attendance Trend</h3>\r\n                    <div className=\"relative\">\r\n                        <DonutChart percentage={termStats.percentage} color=\"#FF9800\" size={60} strokeWidth={7} />\r\n                        <div className=\"absolute inset-0 flex flex-col items-center justify-center\">\r\n                            <span className=\"text-lg font-bold text-gray-800\">{termStats.percentage}%</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <SimpleLineChart data={termStats.trendData} color=\"#FF9800\" />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AttendanceScreen;"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}