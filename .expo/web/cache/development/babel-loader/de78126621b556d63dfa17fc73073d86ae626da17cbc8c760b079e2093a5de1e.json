{"ast":null,"code":"import html2pdf from 'html2pdf.js';\nexport async function generateReceipt(transaction, fee, studentName, schoolName = 'School Management System') {\n  const receiptHTML = createReceiptHTML(transaction, fee, studentName, schoolName);\n  const options = {\n    margin: [10, 10, 10, 10],\n    filename: `receipt-${transaction.reference}.pdf`,\n    image: {\n      type: 'jpeg',\n      quality: 0.98\n    },\n    html2canvas: {\n      scale: 2,\n      useCORS: true\n    },\n    jsPDF: {\n      unit: 'mm',\n      format: 'a4',\n      orientation: 'portrait'\n    }\n  };\n  try {\n    await html2pdf().set(options).from(receiptHTML).save();\n  } catch (error) {\n    console.error('Error generating receipt:', error);\n    throw new Error('Failed to generate receipt');\n  }\n}\nexport function previewReceipt(transaction, fee, studentName, schoolName = 'School Management System') {\n  const receiptHTML = createReceiptHTML(transaction, fee, studentName, schoolName);\n  const previewWindow = window.open('', '_blank');\n  if (previewWindow) {\n    previewWindow.document.write(receiptHTML);\n    previewWindow.document.close();\n  }\n}\nfunction createReceiptHTML(transaction, fee, studentName, schoolName) {\n  const receiptDate = new Date(transaction.date);\n  const currentDate = new Date();\n  return `\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Payment Receipt - ${transaction.reference}</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            padding: 40px;\n            background: white;\n            color: #333;\n        }\n        \n        .receipt-container {\n            max-width: 700px;\n            margin: 0 auto;\n            border: 2px solid #e0e0e0;\n            padding: 40px;\n            background: white;\n        }\n        \n        .header {\n            text-align: center;\n            border-bottom: 3px solid #f97316;\n            padding-bottom: 20px;\n            margin-bottom: 30px;\n        }\n        \n        .school-name {\n            font-size: 28px;\n            font-weight: bold;\n            color: #1f2937;\n            margin-bottom: 5px;\n        }\n        \n        .receipt-title {\n            font-size: 20px;\n            color: #f97316;\n            font-weight: 600;\n            margin-top: 10px;\n        }\n        \n        .receipt-number {\n            font-size: 14px;\n            color: #6b7280;\n            margin-top: 5px;\n        }\n        \n        .section {\n            margin-bottom: 25px;\n        }\n        \n        .section-title {\n            font-size: 14px;\n            font-weight: 600;\n            color: #6b7280;\n            text-transform: uppercase;\n            margin-bottom: 10px;\n            padding-bottom: 5px;\n            border-bottom: 1px solid #e5e7eb;\n        }\n        \n        .info-row {\n            display: flex;\n            justify-content: space-between;\n            padding: 8px 0;\n            border-bottom: 1px dotted #e5e7eb;\n        }\n        \n        .info-label {\n            font-weight: 500;\n            color: #6b7280;\n        }\n        \n        .info-value {\n            font-weight: 600;\n            color: #1f2937;\n        }\n        \n        .amount-section {\n            background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);\n            padding: 20px;\n            border-radius: 8px;\n            margin: 30px 0;\n        }\n        \n        .amount-label {\n            color: rgba(255, 255, 255, 0.9);\n            font-size: 14px;\n            margin-bottom: 5px;\n        }\n        \n        .amount-value {\n            color: white;\n            font-size: 36px;\n            font-weight: bold;\n        }\n        \n        .status-badge {\n            display: inline-block;\n            padding: 6px 16px;\n            background: #10b981;\n            color: white;\n            border-radius: 20px;\n            font-size: 13px;\n            font-weight: 600;\n        }\n        \n        .footer {\n            margin-top: 40px;\n            padding-top: 20px;\n            border-top: 2px solid #e0e0e0;\n            text-align: center;\n        }\n        \n        .footer-text {\n            font-size: 12px;\n            color: #9ca3af;\n            line-height: 1.6;\n        }\n        \n        .watermark {\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%) rotate(-45deg);\n            font-size: 100px;\n            color: rgba(249, 115, 22, 0.05);\n            font-weight: bold;\n            z-index: 0;\n            pointer-events: none;\n        }\n        \n        .signature-section {\n            display: flex;\n            justify-content: space-between;\n            margin-top: 60px;\n        }\n        \n        .signature-box {\n            text-align: center;\n            flex: 1;\n        }\n        \n        .signature-line {\n            border-top: 1px solid #333;\n            margin: 40px 20px 5px;\n        }\n        \n        .signature-label {\n            font-size: 12px;\n            color: #6b7280;\n        }\n        \n        @media print {\n            body {\n                padding: 0;\n            }\n            .receipt-container {\n                border: none;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"watermark\">PAID</div>\n    \n    <div class=\"receipt-container\">\n        <!-- Header -->\n        <div class=\"header\">\n            <div class=\"school-name\">${schoolName}</div>\n            <div class=\"receipt-title\">OFFICIAL PAYMENT RECEIPT</div>\n            <div class=\"receipt-number\">Receipt No: ${transaction.reference}</div>\n        </div>\n        \n        <!-- Student Information -->\n        <div class=\"section\">\n            <div class=\"section-title\">Student Information</div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Student Name:</span>\n                <span class=\"info-value\">${studentName}</span>\n            </div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Student ID:</span>\n                <span class=\"info-value\">${fee.studentId}</span>\n            </div>\n        </div>\n        \n        <!-- Payment Information -->\n        <div class=\"section\">\n            <div class=\"section-title\">Payment Details</div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Fee Title:</span>\n                <span class=\"info-value\">${fee.title}</span>\n            </div>\n            ${fee.description ? `\n            <div class=\"info-row\">\n                <span class=\"info-label\">Description:</span>\n                <span class=\"info-value\">${fee.description}</span>\n            </div>\n            ` : ''}\n            <div class=\"info-row\">\n                <span class=\"info-label\">Payment Date:</span>\n                <span class=\"info-value\">${receiptDate.toLocaleDateString('en-US', {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric'\n  })}</span>\n            </div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Payment Method:</span>\n                <span class=\"info-value\">${transaction.provider}</span>\n            </div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Transaction Reference:</span>\n                <span class=\"info-value\">${transaction.reference}</span>\n            </div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Status:</span>\n                <span class=\"info-value\">\n                    <span class=\"status-badge\">${transaction.status}</span>\n                </span>\n            </div>\n        </div>\n        \n        <!-- Amount Section -->\n        <div class=\"amount-section\">\n            <div class=\"amount-label\">Amount Paid</div>\n            <div class=\"amount-value\">₦${transaction.amount.toLocaleString('en-US', {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  })}</div>\n        </div>\n        \n        <!-- Balance Information (if partial payment) -->\n        ${fee.paidAmount < fee.amount ? `\n        <div class=\"section\">\n            <div class=\"section-title\">Balance Information</div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Total Fee Amount:</span>\n                <span class=\"info-value\">₦${fee.amount.toLocaleString('en-US', {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  })}</span>\n            </div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Total Paid:</span>\n                <span class=\"info-value\">₦${fee.paidAmount.toLocaleString('en-US', {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  })}</span>\n            </div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Balance Remaining:</span>\n                <span class=\"info-value\" style=\"color: #dc2626; font-weight: bold;\">₦${(fee.amount - fee.paidAmount).toLocaleString('en-US', {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  })}</span>\n            </div>\n        </div>\n        ` : `\n        <div class=\"section\" style=\"text-align: center; padding: 20px; background: #ecfdf5; border-radius: 8px;\">\n            <span style=\"color: #10b981; font-weight: 600; font-size: 16px;\">✓ Payment Complete - No Balance Due</span>\n        </div>\n        `}\n        \n        <!-- Signature Section -->\n        <div class=\"signature-section\">\n            <div class=\"signature-box\">\n                <div class=\"signature-line\"></div>\n                <div class=\"signature-label\">Authorized Signature</div>\n            </div>\n            <div class=\"signature-box\">\n                <div class=\"signature-line\"></div>\n                <div class=\"signature-label\">School Seal</div>\n            </div>\n        </div>\n        \n        <!-- Footer -->\n        <div class=\"footer\">\n            <div class=\"footer-text\">\n                This is an official receipt generated by ${schoolName}.<br>\n                For any queries, please contact the finance department.<br>\n                Receipt generated on ${currentDate.toLocaleDateString('en-US', {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  })}\n            </div>\n        </div>\n    </div>\n</body>\n</html>\n    `.trim();\n}\nexport async function generateReceiptForEmail(transaction, fee, studentName, schoolName = 'School Management System') {\n  const receiptHTML = createReceiptHTML(transaction, fee, studentName, schoolName);\n  const options = {\n    margin: [10, 10, 10, 10],\n    image: {\n      type: 'jpeg',\n      quality: 0.98\n    },\n    html2canvas: {\n      scale: 2,\n      useCORS: true\n    },\n    jsPDF: {\n      unit: 'mm',\n      format: 'a4',\n      orientation: 'portrait'\n    }\n  };\n  try {\n    const pdf = await html2pdf().set(options).from(receiptHTML).output('datauristring');\n    return pdf;\n  } catch (error) {\n    console.error('Error generating receipt for email:', error);\n    throw new Error('Failed to generate receipt for email');\n  }\n}","map":{"version":3,"names":["html2pdf","generateReceipt","transaction","fee","studentName","schoolName","receiptHTML","createReceiptHTML","options","margin","filename","reference","image","type","quality","html2canvas","scale","useCORS","jsPDF","unit","format","orientation","set","from","save","error","console","Error","previewReceipt","previewWindow","window","open","document","write","close","receiptDate","Date","date","currentDate","studentId","title","description","toLocaleDateString","year","month","day","provider","status","amount","toLocaleString","minimumFractionDigits","maximumFractionDigits","paidAmount","hour","minute","trim","generateReceiptForEmail","pdf","output"],"sources":["C:/Users/USER/OneDrive/Desktop/Project/school-app-/lib/receipt-generator.ts"],"sourcesContent":["import html2pdf from 'html2pdf.js';\r\nimport { Transaction, Fee } from '../types';\r\n\r\n/**\r\n * Generate and download a payment receipt as PDF\r\n */\r\nexport async function generateReceipt(\r\n    transaction: Transaction,\r\n    fee: Fee,\r\n    studentName: string,\r\n    schoolName: string = 'School Management System'\r\n): Promise<void> {\r\n    const receiptHTML = createReceiptHTML(transaction, fee, studentName, schoolName);\r\n\r\n    const options = {\r\n        margin: [10, 10, 10, 10] as [number, number, number, number],\r\n        filename: `receipt-${transaction.reference}.pdf`,\r\n        image: { type: 'jpeg' as const, quality: 0.98 },\r\n        html2canvas: { scale: 2, useCORS: true },\r\n        jsPDF: { unit: 'mm' as const, format: 'a4' as const, orientation: 'portrait' as const }\r\n    };\r\n\r\n    try {\r\n        await html2pdf().set(options).from(receiptHTML).save();\r\n    } catch (error) {\r\n        console.error('Error generating receipt:', error);\r\n        throw new Error('Failed to generate receipt');\r\n    }\r\n}\r\n\r\n/**\r\n * Preview receipt in a new window (for testing)\r\n */\r\nexport function previewReceipt(\r\n    transaction: Transaction,\r\n    fee: Fee,\r\n    studentName: string,\r\n    schoolName: string = 'School Management System'\r\n): void {\r\n    const receiptHTML = createReceiptHTML(transaction, fee, studentName, schoolName);\r\n    const previewWindow = window.open('', '_blank');\r\n    if (previewWindow) {\r\n        previewWindow.document.write(receiptHTML);\r\n        previewWindow.document.close();\r\n    }\r\n}\r\n\r\n/**\r\n * Create HTML template for receipt\r\n */\r\nfunction createReceiptHTML(\r\n    transaction: Transaction,\r\n    fee: Fee,\r\n    studentName: string,\r\n    schoolName: string\r\n): string {\r\n    const receiptDate = new Date(transaction.date);\r\n    const currentDate = new Date();\r\n\r\n    return `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>Payment Receipt - ${transaction.reference}</title>\r\n    <style>\r\n        * {\r\n            margin: 0;\r\n            padding: 0;\r\n            box-sizing: border-box;\r\n        }\r\n        \r\n        body {\r\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n            padding: 40px;\r\n            background: white;\r\n            color: #333;\r\n        }\r\n        \r\n        .receipt-container {\r\n            max-width: 700px;\r\n            margin: 0 auto;\r\n            border: 2px solid #e0e0e0;\r\n            padding: 40px;\r\n            background: white;\r\n        }\r\n        \r\n        .header {\r\n            text-align: center;\r\n            border-bottom: 3px solid #f97316;\r\n            padding-bottom: 20px;\r\n            margin-bottom: 30px;\r\n        }\r\n        \r\n        .school-name {\r\n            font-size: 28px;\r\n            font-weight: bold;\r\n            color: #1f2937;\r\n            margin-bottom: 5px;\r\n        }\r\n        \r\n        .receipt-title {\r\n            font-size: 20px;\r\n            color: #f97316;\r\n            font-weight: 600;\r\n            margin-top: 10px;\r\n        }\r\n        \r\n        .receipt-number {\r\n            font-size: 14px;\r\n            color: #6b7280;\r\n            margin-top: 5px;\r\n        }\r\n        \r\n        .section {\r\n            margin-bottom: 25px;\r\n        }\r\n        \r\n        .section-title {\r\n            font-size: 14px;\r\n            font-weight: 600;\r\n            color: #6b7280;\r\n            text-transform: uppercase;\r\n            margin-bottom: 10px;\r\n            padding-bottom: 5px;\r\n            border-bottom: 1px solid #e5e7eb;\r\n        }\r\n        \r\n        .info-row {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            padding: 8px 0;\r\n            border-bottom: 1px dotted #e5e7eb;\r\n        }\r\n        \r\n        .info-label {\r\n            font-weight: 500;\r\n            color: #6b7280;\r\n        }\r\n        \r\n        .info-value {\r\n            font-weight: 600;\r\n            color: #1f2937;\r\n        }\r\n        \r\n        .amount-section {\r\n            background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);\r\n            padding: 20px;\r\n            border-radius: 8px;\r\n            margin: 30px 0;\r\n        }\r\n        \r\n        .amount-label {\r\n            color: rgba(255, 255, 255, 0.9);\r\n            font-size: 14px;\r\n            margin-bottom: 5px;\r\n        }\r\n        \r\n        .amount-value {\r\n            color: white;\r\n            font-size: 36px;\r\n            font-weight: bold;\r\n        }\r\n        \r\n        .status-badge {\r\n            display: inline-block;\r\n            padding: 6px 16px;\r\n            background: #10b981;\r\n            color: white;\r\n            border-radius: 20px;\r\n            font-size: 13px;\r\n            font-weight: 600;\r\n        }\r\n        \r\n        .footer {\r\n            margin-top: 40px;\r\n            padding-top: 20px;\r\n            border-top: 2px solid #e0e0e0;\r\n            text-align: center;\r\n        }\r\n        \r\n        .footer-text {\r\n            font-size: 12px;\r\n            color: #9ca3af;\r\n            line-height: 1.6;\r\n        }\r\n        \r\n        .watermark {\r\n            position: absolute;\r\n            top: 50%;\r\n            left: 50%;\r\n            transform: translate(-50%, -50%) rotate(-45deg);\r\n            font-size: 100px;\r\n            color: rgba(249, 115, 22, 0.05);\r\n            font-weight: bold;\r\n            z-index: 0;\r\n            pointer-events: none;\r\n        }\r\n        \r\n        .signature-section {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            margin-top: 60px;\r\n        }\r\n        \r\n        .signature-box {\r\n            text-align: center;\r\n            flex: 1;\r\n        }\r\n        \r\n        .signature-line {\r\n            border-top: 1px solid #333;\r\n            margin: 40px 20px 5px;\r\n        }\r\n        \r\n        .signature-label {\r\n            font-size: 12px;\r\n            color: #6b7280;\r\n        }\r\n        \r\n        @media print {\r\n            body {\r\n                padding: 0;\r\n            }\r\n            .receipt-container {\r\n                border: none;\r\n            }\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div class=\"watermark\">PAID</div>\r\n    \r\n    <div class=\"receipt-container\">\r\n        <!-- Header -->\r\n        <div class=\"header\">\r\n            <div class=\"school-name\">${schoolName}</div>\r\n            <div class=\"receipt-title\">OFFICIAL PAYMENT RECEIPT</div>\r\n            <div class=\"receipt-number\">Receipt No: ${transaction.reference}</div>\r\n        </div>\r\n        \r\n        <!-- Student Information -->\r\n        <div class=\"section\">\r\n            <div class=\"section-title\">Student Information</div>\r\n            <div class=\"info-row\">\r\n                <span class=\"info-label\">Student Name:</span>\r\n                <span class=\"info-value\">${studentName}</span>\r\n            </div>\r\n            <div class=\"info-row\">\r\n                <span class=\"info-label\">Student ID:</span>\r\n                <span class=\"info-value\">${fee.studentId}</span>\r\n            </div>\r\n        </div>\r\n        \r\n        <!-- Payment Information -->\r\n        <div class=\"section\">\r\n            <div class=\"section-title\">Payment Details</div>\r\n            <div class=\"info-row\">\r\n                <span class=\"info-label\">Fee Title:</span>\r\n                <span class=\"info-value\">${fee.title}</span>\r\n            </div>\r\n            ${fee.description ? `\r\n            <div class=\"info-row\">\r\n                <span class=\"info-label\">Description:</span>\r\n                <span class=\"info-value\">${fee.description}</span>\r\n            </div>\r\n            ` : ''}\r\n            <div class=\"info-row\">\r\n                <span class=\"info-label\">Payment Date:</span>\r\n                <span class=\"info-value\">${receiptDate.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}</span>\r\n            </div>\r\n            <div class=\"info-row\">\r\n                <span class=\"info-label\">Payment Method:</span>\r\n                <span class=\"info-value\">${transaction.provider}</span>\r\n            </div>\r\n            <div class=\"info-row\">\r\n                <span class=\"info-label\">Transaction Reference:</span>\r\n                <span class=\"info-value\">${transaction.reference}</span>\r\n            </div>\r\n            <div class=\"info-row\">\r\n                <span class=\"info-label\">Status:</span>\r\n                <span class=\"info-value\">\r\n                    <span class=\"status-badge\">${transaction.status}</span>\r\n                </span>\r\n            </div>\r\n        </div>\r\n        \r\n        <!-- Amount Section -->\r\n        <div class=\"amount-section\">\r\n            <div class=\"amount-label\">Amount Paid</div>\r\n            <div class=\"amount-value\">₦${transaction.amount.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</div>\r\n        </div>\r\n        \r\n        <!-- Balance Information (if partial payment) -->\r\n        ${fee.paidAmount < fee.amount ? `\r\n        <div class=\"section\">\r\n            <div class=\"section-title\">Balance Information</div>\r\n            <div class=\"info-row\">\r\n                <span class=\"info-label\">Total Fee Amount:</span>\r\n                <span class=\"info-value\">₦${fee.amount.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</span>\r\n            </div>\r\n            <div class=\"info-row\">\r\n                <span class=\"info-label\">Total Paid:</span>\r\n                <span class=\"info-value\">₦${fee.paidAmount.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</span>\r\n            </div>\r\n            <div class=\"info-row\">\r\n                <span class=\"info-label\">Balance Remaining:</span>\r\n                <span class=\"info-value\" style=\"color: #dc2626; font-weight: bold;\">₦${(fee.amount - fee.paidAmount).toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</span>\r\n            </div>\r\n        </div>\r\n        ` : `\r\n        <div class=\"section\" style=\"text-align: center; padding: 20px; background: #ecfdf5; border-radius: 8px;\">\r\n            <span style=\"color: #10b981; font-weight: 600; font-size: 16px;\">✓ Payment Complete - No Balance Due</span>\r\n        </div>\r\n        `}\r\n        \r\n        <!-- Signature Section -->\r\n        <div class=\"signature-section\">\r\n            <div class=\"signature-box\">\r\n                <div class=\"signature-line\"></div>\r\n                <div class=\"signature-label\">Authorized Signature</div>\r\n            </div>\r\n            <div class=\"signature-box\">\r\n                <div class=\"signature-line\"></div>\r\n                <div class=\"signature-label\">School Seal</div>\r\n            </div>\r\n        </div>\r\n        \r\n        <!-- Footer -->\r\n        <div class=\"footer\">\r\n            <div class=\"footer-text\">\r\n                This is an official receipt generated by ${schoolName}.<br>\r\n                For any queries, please contact the finance department.<br>\r\n                Receipt generated on ${currentDate.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit' })}\r\n            </div>\r\n        </div>\r\n    </div>\r\n</body>\r\n</html>\r\n    `.trim();\r\n}\r\n\r\n/**\r\n * Generate receipt for email attachment (returns base64)\r\n */\r\nexport async function generateReceiptForEmail(\r\n    transaction: Transaction,\r\n    fee: Fee,\r\n    studentName: string,\r\n    schoolName: string = 'School Management System'\r\n): Promise<string> {\r\n    const receiptHTML = createReceiptHTML(transaction, fee, studentName, schoolName);\r\n\r\n    const options = {\r\n        margin: [10, 10, 10, 10] as [number, number, number, number],\r\n        image: { type: 'jpeg' as const, quality: 0.98 },\r\n        html2canvas: { scale: 2, useCORS: true },\r\n        jsPDF: { unit: 'mm' as const, format: 'a4' as const, orientation: 'portrait' as const }\r\n    };\r\n\r\n    try {\r\n        const pdf = await html2pdf().set(options).from(receiptHTML).output('datauristring');\r\n        return pdf;\r\n    } catch (error) {\r\n        console.error('Error generating receipt for email:', error);\r\n        throw new Error('Failed to generate receipt for email');\r\n    }\r\n}\r\n"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,aAAa;AAMlC,OAAO,eAAeC,eAAeA,CACjCC,WAAwB,EACxBC,GAAQ,EACRC,WAAmB,EACnBC,UAAkB,GAAG,0BAA0B,EAClC;EACb,MAAMC,WAAW,GAAGC,iBAAiB,CAACL,WAAW,EAAEC,GAAG,EAAEC,WAAW,EAAEC,UAAU,CAAC;EAEhF,MAAMG,OAAO,GAAG;IACZC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAqC;IAC5DC,QAAQ,EAAE,WAAWR,WAAW,CAACS,SAAS,MAAM;IAChDC,KAAK,EAAE;MAAEC,IAAI,EAAE,MAAe;MAAEC,OAAO,EAAE;IAAK,CAAC;IAC/CC,WAAW,EAAE;MAAEC,KAAK,EAAE,CAAC;MAAEC,OAAO,EAAE;IAAK,CAAC;IACxCC,KAAK,EAAE;MAAEC,IAAI,EAAE,IAAa;MAAEC,MAAM,EAAE,IAAa;MAAEC,WAAW,EAAE;IAAoB;EAC1F,CAAC;EAED,IAAI;IACA,MAAMrB,QAAQ,CAAC,CAAC,CAACsB,GAAG,CAACd,OAAO,CAAC,CAACe,IAAI,CAACjB,WAAW,CAAC,CAACkB,IAAI,CAAC,CAAC;EAC1D,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;IACjD,MAAM,IAAIE,KAAK,CAAC,4BAA4B,CAAC;EACjD;AACJ;AAKA,OAAO,SAASC,cAAcA,CAC1B1B,WAAwB,EACxBC,GAAQ,EACRC,WAAmB,EACnBC,UAAkB,GAAG,0BAA0B,EAC3C;EACJ,MAAMC,WAAW,GAAGC,iBAAiB,CAACL,WAAW,EAAEC,GAAG,EAAEC,WAAW,EAAEC,UAAU,CAAC;EAChF,MAAMwB,aAAa,GAAGC,MAAM,CAACC,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAC;EAC/C,IAAIF,aAAa,EAAE;IACfA,aAAa,CAACG,QAAQ,CAACC,KAAK,CAAC3B,WAAW,CAAC;IACzCuB,aAAa,CAACG,QAAQ,CAACE,KAAK,CAAC,CAAC;EAClC;AACJ;AAKA,SAAS3B,iBAAiBA,CACtBL,WAAwB,EACxBC,GAAQ,EACRC,WAAmB,EACnBC,UAAkB,EACZ;EACN,MAAM8B,WAAW,GAAG,IAAIC,IAAI,CAAClC,WAAW,CAACmC,IAAI,CAAC;EAC9C,MAAMC,WAAW,GAAG,IAAIF,IAAI,CAAC,CAAC;EAE9B,OAAO;AACX;AACA;AACA;AACA;AACA,+BAA+BlC,WAAW,CAACS,SAAS;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuCN,UAAU;AACjD;AACA,sDAAsDH,WAAW,CAACS,SAAS;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2CP,WAAW;AACtD;AACA;AACA;AACA,2CAA2CD,GAAG,CAACoC,SAA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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}